var ul=Object.defineProperty;var ki=e=>{throw TypeError(e)};var dl=(e,n,r)=>n in e?ul(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var nt=(e,n,r)=>dl(e,typeof n!="symbol"?n+"":n,r),wr=(e,n,r)=>n.has(e)||ki("Cannot "+r);var h=(e,n,r)=>(wr(e,n,"read from private field"),r?r.call(e):n.get(e)),V=(e,n,r)=>n.has(e)?ki("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),P=(e,n,r,l)=>(wr(e,n,"write to private field"),l?l.call(e,r):n.set(e,r),r),pe=(e,n,r)=>(wr(e,n,"access private method"),r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Ri=!1;var Yi=Array.isArray,vl=Array.prototype.indexOf,Nr=Array.from,hl=Object.defineProperty,kn=Object.getOwnPropertyDescriptor,_l=Object.getOwnPropertyDescriptors,pl=Object.prototype,gl=Array.prototype,Ii=Object.getPrototypeOf,Ei=Object.isExtensible;function yl(e){for(var n=0;n<e.length;n++)e[n]()}function Xi(){var e,n,r=new Promise((l,i)=>{e=l,n=i});return{promise:r,resolve:e,reject:n}}const Oe=2,sr=4,Pr=8,xt=16,mt=32,Gt=64,lr=128,tt=512,Ae=1024,Ye=2048,wt=4096,Be=8192,qt=16384,Rr=32768,fn=65536,Si=1<<17,Hi=1<<18,hn=1<<19,bl=1<<20,Cn=32768,Cr=1<<21,Yr=1<<22,At=1<<23,Gn=Symbol("$state"),xl=Symbol(""),nn=new class extends Error{constructor(){super(...arguments);nt(this,"name","StaleReactionError");nt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ml(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function wl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function kl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function El(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Cl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ml(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Dl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Al(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Tl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ar=1,or=2,Bi=4,Ol=8,zl=16,Fi=1,Ll=2,Me=Symbol(),Nl="http://www.w3.org/1999/xhtml";function Pl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Rl=!1;function Wi(e){return e===this.v}function Yl(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function qi(e){return!Yl(e,this.v)}let zn=!1,Il=!1;function Xl(){zn=!0}let be=null;function cn(e){be=e}function ji(e,n=!1,r){be={p:be,i:!1,c:null,e:null,s:e,x:null,l:zn&&!n?{s:null,u:null,$:[]}:null}}function Ui(e){var n=be,r=n.e;if(r!==null){n.e=null;for(var l of r)us(l)}return n.i=!0,be=n.p,{}}function Ln(){return!zn||be!==null&&be.l===null}let It=[];function Ki(){var e=It;It=[],yl(e)}function _n(e){if(It.length===0&&!En){var n=It;queueMicrotask(()=>{n===It&&Ki()})}It.push(e)}function Hl(){for(;It.length>0;)Ki()}function Vi(e){var n=J;if(n===null)return W.f|=At,e;if(n.f&Rr)un(e,n);else{if(!(n.f&lr))throw e;n.b.error(e)}}function un(e,n){for(;n!==null;){if(n.f&lr)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const Vn=new Set;let ne=null,Zn=null,ge=null,ot=[],fr=null,Mr=!1,En=!1;var sn,ln,Xt,Ht,An,an,on,De,Dr,Yt,Gi,Zi;const nr=class nr{constructor(){V(this,De);nt(this,"committed",!1);nt(this,"current",new Map);nt(this,"previous",new Map);V(this,sn,new Set);V(this,ln,new Set);V(this,Xt,0);V(this,Ht,0);V(this,An,null);V(this,an,[]);V(this,on,[]);nt(this,"skipped_effects",new Set);nt(this,"is_fork",!1)}process(n){var l;ot=[],Zn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of n)pe(this,De,Dr).call(this,i,r);this.is_fork||pe(this,De,Gi).call(this),h(this,Ht)>0||this.is_fork?(pe(this,De,Yt).call(this,r.effects),pe(this,De,Yt).call(this,r.render_effects),pe(this,De,Yt).call(this,r.block_effects)):(Zn=this,ne=null,Ci(r.render_effects),Ci(r.effects),Zn=null,(l=h(this,An))==null||l.resolve()),ge=null}capture(n,r){this.previous.has(n)||this.previous.set(n,r),n.f&At||(this.current.set(n,n.v),ge==null||ge.set(n,n.v))}activate(){ne=this,this.apply()}deactivate(){ne=null,ge=null}flush(){if(this.activate(),ot.length>0){if(Ji(),ne!==null&&ne!==this)return}else h(this,Xt)===0&&this.process([]);this.deactivate()}discard(){for(const n of h(this,ln))n(this);h(this,ln).clear()}increment(n){P(this,Xt,h(this,Xt)+1),n&&P(this,Ht,h(this,Ht)+1)}decrement(n){P(this,Xt,h(this,Xt)-1),n&&P(this,Ht,h(this,Ht)-1),this.revive()}revive(){for(const n of h(this,an))Te(n,Ye),Kt(n);for(const n of h(this,on))Te(n,wt),Kt(n);P(this,an,[]),P(this,on,[]),this.flush()}oncommit(n){h(this,sn).add(n)}ondiscard(n){h(this,ln).add(n)}settled(){return(h(this,An)??P(this,An,Xi())).promise}static ensure(){if(ne===null){const n=ne=new nr;Vn.add(ne),En||nr.enqueue(()=>{ne===n&&n.flush()})}return ne}static enqueue(n){_n(n)}apply(){}};sn=new WeakMap,ln=new WeakMap,Xt=new WeakMap,Ht=new WeakMap,An=new WeakMap,an=new WeakMap,on=new WeakMap,De=new WeakSet,Dr=function(n,r){var k;n.f^=Ae;for(var l=n.first;l!==null;){var i=l.f,a=(i&(mt|Gt))!==0,o=a&&(i&Ae)!==0,u=o||(i&Be)!==0||this.skipped_effects.has(l);if(l.f&lr&&((k=l.b)!=null&&k.is_pending())&&(r={parent:r,effect:l,effects:[],render_effects:[],block_effects:[]}),!u&&l.fn!==null){a?l.f^=Ae:i&sr?r.effects.push(l):Pn(l)&&(l.f&xt&&r.block_effects.push(l),Dn(l));var c=l.first;if(c!==null){l=c;continue}}var d=l.parent;for(l=l.next;l===null&&d!==null;)d===r.effect&&(pe(this,De,Yt).call(this,r.effects),pe(this,De,Yt).call(this,r.render_effects),pe(this,De,Yt).call(this,r.block_effects),r=r.parent),l=d.next,d=d.parent}},Yt=function(n){for(const r of n)(r.f&Ye?h(this,an):h(this,on)).push(r),Te(r,Ae)},Gi=function(){if(h(this,Ht)===0){for(const n of h(this,sn))n();h(this,sn).clear()}h(this,Xt)===0&&pe(this,De,Zi).call(this)},Zi=function(){var i;if(Vn.size>1){this.previous.clear();var n=ge,r=!0,l={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of Vn){if(a===this){r=!1;continue}const o=[];for(const[c,d]of this.current){if(a.current.has(c))if(r&&d!==a.current.get(c))a.current.set(c,d);else continue;o.push(c)}if(o.length===0)continue;const u=[...a.current.keys()].filter(c=>!this.current.has(c));if(u.length>0){const c=new Set,d=new Map;for(const k of o)$i(k,u,c,d);if(ot.length>0){ne=a,a.apply();for(const k of ot)pe(i=a,De,Dr).call(i,k,l);ot=[],a.deactivate()}}}ne=null,ge=n}this.committed=!0,Vn.delete(this)};let yt=nr;function Bl(e){var n=En;En=!0;try{for(var r;;){if(Hl(),ot.length===0&&(ne==null||ne.flush(),ot.length===0))return fr=null,r;Ji()}}finally{En=n}}function Ji(){var e=jt;Mr=!0;try{var n=0;for(Di(!0);ot.length>0;){var r=yt.ensure();if(n++>1e3){var l,i;Fl()}r.process(ot),Tt.clear()}}finally{Mr=!1,Di(e),fr=null}}function Fl(){try{Cl()}catch(e){un(e,fr)}}let $e=null;function Ci(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var l=e[r++];if(!(l.f&(qt|Be))&&Pn(l)&&($e=new Set,Dn(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?hs(l):l.fn=null),($e==null?void 0:$e.size)>0)){Tt.clear();for(const i of $e){if(i.f&(qt|Be))continue;const a=[i];let o=i.parent;for(;o!==null;)$e.has(o)&&($e.delete(o),a.push(o)),o=o.parent;for(let u=a.length-1;u>=0;u--){const c=a[u];c.f&(qt|Be)||Dn(c)}}$e.clear()}}$e=null}}function $i(e,n,r,l){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;a&Oe?$i(i,n,r,l):a&(Yr|xt)&&!(a&Ye)&&Qi(i,n,l)&&(Te(i,Ye),Kt(i))}}function Qi(e,n,r){const l=r.get(e);if(l!==void 0)return l;if(e.deps!==null)for(const i of e.deps){if(n.includes(i))return!0;if(i.f&Oe&&Qi(i,n,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function Kt(e){for(var n=fr=e;n.parent!==null;){n=n.parent;var r=n.f;if(Mr&&n===J&&r&xt&&!(r&Hi))return;if(r&(Gt|mt)){if(!(r&Ae))return;n.f^=Ae}}ot.push(n)}function Wl(e){let n=0,r=Vt(0),l;return()=>{ur()&&(t(r),dr(()=>(n===0&&(l=Rn(()=>e(()=>Sn(r)))),n+=1,()=>{_n(()=>{n-=1,n===0&&(l==null||l(),l=void 0,Sn(r))})})))}}var ql=fn|hn|lr;function jl(e,n,r){new Ul(e,n,r)}var Ke,Ve,Lr,it,Bt,st,Ge,Pe,lt,pt,Ct,Ft,Mt,Wt,Dt,rr,Ee,Kl,Vl,Ar,Jn,$n,Tr;class Ul{constructor(n,r,l){V(this,Ee);nt(this,"parent");V(this,Ke,!1);V(this,Ve);V(this,Lr,null);V(this,it);V(this,Bt);V(this,st);V(this,Ge,null);V(this,Pe,null);V(this,lt,null);V(this,pt,null);V(this,Ct,null);V(this,Ft,0);V(this,Mt,0);V(this,Wt,!1);V(this,Dt,null);V(this,rr,Wl(()=>(P(this,Dt,Vt(h(this,Ft))),()=>{P(this,Dt,null)})));P(this,Ve,n),P(this,it,r),P(this,Bt,l),this.parent=J.b,P(this,Ke,!!h(this,it).pending),P(this,st,Hr(()=>{J.b=this;{var i=pe(this,Ee,Ar).call(this);try{P(this,Ge,et(()=>l(i)))}catch(a){this.error(a)}h(this,Mt)>0?pe(this,Ee,$n).call(this):P(this,Ke,!1)}return()=>{var a;(a=h(this,Ct))==null||a.remove()}},ql))}is_pending(){return h(this,Ke)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!h(this,it).pending}update_pending_count(n){pe(this,Ee,Tr).call(this,n),P(this,Ft,h(this,Ft)+n),h(this,Dt)&&dn(h(this,Dt),h(this,Ft))}get_effect_pending(){return h(this,rr).call(this),t(h(this,Dt))}error(n){var r=h(this,it).onerror;let l=h(this,it).failed;if(h(this,Wt)||!r&&!l)throw n;h(this,Ge)&&(Le(h(this,Ge)),P(this,Ge,null)),h(this,Pe)&&(Le(h(this,Pe)),P(this,Pe,null)),h(this,lt)&&(Le(h(this,lt)),P(this,lt,null));var i=!1,a=!1;const o=()=>{if(i){Pl();return}i=!0,a&&Tl(),yt.ensure(),P(this,Ft,0),h(this,lt)!==null&&rn(h(this,lt),()=>{P(this,lt,null)}),P(this,Ke,this.has_pending_snippet()),P(this,Ge,pe(this,Ee,Jn).call(this,()=>(P(this,Wt,!1),et(()=>h(this,Bt).call(this,h(this,Ve)))))),h(this,Mt)>0?pe(this,Ee,$n).call(this):P(this,Ke,!1)};var u=W;try{Re(null),a=!0,r==null||r(n,o),a=!1}catch(c){un(c,h(this,st)&&h(this,st).parent)}finally{Re(u)}l&&_n(()=>{P(this,lt,pe(this,Ee,Jn).call(this,()=>{yt.ensure(),P(this,Wt,!0);try{return et(()=>{l(h(this,Ve),()=>n,()=>o)})}catch(c){return un(c,h(this,st).parent),null}finally{P(this,Wt,!1)}}))})}}Ke=new WeakMap,Ve=new WeakMap,Lr=new WeakMap,it=new WeakMap,Bt=new WeakMap,st=new WeakMap,Ge=new WeakMap,Pe=new WeakMap,lt=new WeakMap,pt=new WeakMap,Ct=new WeakMap,Ft=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,Dt=new WeakMap,rr=new WeakMap,Ee=new WeakSet,Kl=function(){try{P(this,Ge,et(()=>h(this,Bt).call(this,h(this,Ve))))}catch(n){this.error(n)}P(this,Ke,!1)},Vl=function(){const n=h(this,it).pending;n&&(P(this,Pe,et(()=>n(h(this,Ve)))),yt.enqueue(()=>{var r=pe(this,Ee,Ar).call(this);P(this,Ge,pe(this,Ee,Jn).call(this,()=>(yt.ensure(),et(()=>h(this,Bt).call(this,r))))),h(this,Mt)>0?pe(this,Ee,$n).call(this):(rn(h(this,Pe),()=>{P(this,Pe,null)}),P(this,Ke,!1))}))},Ar=function(){var n=h(this,Ve);return h(this,Ke)&&(P(this,Ct,Ot()),h(this,Ve).before(h(this,Ct)),n=h(this,Ct)),n},Jn=function(n){var r=J,l=W,i=be;ct(h(this,st)),Re(h(this,st)),cn(h(this,st).ctx);try{return n()}catch(a){return Vi(a),null}finally{ct(r),Re(l),cn(i)}},$n=function(){const n=h(this,it).pending;h(this,Ge)!==null&&(P(this,pt,document.createDocumentFragment()),h(this,pt).append(h(this,Ct)),gs(h(this,Ge),h(this,pt))),h(this,Pe)===null&&P(this,Pe,et(()=>n(h(this,Ve))))},Tr=function(n){var r;if(!this.has_pending_snippet()){this.parent&&pe(r=this.parent,Ee,Tr).call(r,n);return}P(this,Mt,h(this,Mt)+n),h(this,Mt)===0&&(P(this,Ke,!1),h(this,Pe)&&rn(h(this,Pe),()=>{P(this,Pe,null)}),h(this,pt)&&(h(this,Ve).before(h(this,pt)),P(this,pt,null)))};function Gl(e,n,r,l){const i=Ln()?Ir:es;if(r.length===0&&e.length===0){l(n.map(i));return}var a=ne,o=J,u=Zl();function c(){Promise.all(r.map(d=>Jl(d))).then(d=>{u();try{l([...n.map(i),...d])}catch(k){o.f&qt||un(k,o)}a==null||a.deactivate(),Qn()}).catch(d=>{un(d,o)})}e.length>0?Promise.all(e).then(()=>{u();try{return c()}finally{a==null||a.deactivate(),Qn()}}):c()}function Zl(){var e=J,n=W,r=be,l=ne;return function(a=!0){ct(e),Re(n),cn(r),a&&(l==null||l.activate())}}function Qn(){ct(null),Re(null),cn(null)}function Ir(e){var n=Oe|Ye,r=W!==null&&W.f&Oe?W:null;return J!==null&&(J.f|=hn),{ctx:be,deps:null,effects:null,equals:Wi,f:n,fn:e,reactions:null,rv:0,v:Me,wv:0,parent:r??J,ac:null}}function Jl(e,n){let r=J;r===null&&wl();var l=r.b,i=void 0,a=Vt(Me),o=!W,u=new Map;return fa(()=>{var S;var c=Xi();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===ne&&d.committed&&d.deactivate(),Qn()})}catch(D){c.reject(D),Qn()}var d=ne;if(o){var k=!l.is_pending();l.update_pending_count(1),d.increment(k),(S=u.get(d))==null||S.reject(nn),u.delete(d),u.set(d,c)}const M=(D,E=void 0)=>{if(d.activate(),E)E!==nn&&(a.f|=At,dn(a,E));else{a.f&At&&(a.f^=At),dn(a,D);for(const[I,z]of u){if(u.delete(I),I===d)break;z.reject(nn)}}o&&(l.update_pending_count(-1),d.decrement(k))};c.promise.then(M,D=>M(null,D||"unknown"))}),cs(()=>{for(const c of u.values())c.reject(nn)}),new Promise(c=>{function d(k){function M(){k===i?c(a):d(i)}k.then(M,M)}d(i)})}function Jt(e){const n=Ir(e);return ys(n),n}function es(e){const n=Ir(e);return n.equals=qi,n}function ts(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Le(n[r])}}function $l(e){for(var n=e.parent;n!==null;){if(!(n.f&Oe))return n;n=n.parent}return null}function Xr(e){var n,r=J;ct($l(e));try{e.f&=~Cn,ts(e),n=ws(e)}finally{ct(r)}return n}function ns(e){var n=Xr(e);if(e.equals(n)||(e.v=n,e.wv=xs()),!pn)if(ge!==null)ur()&&ge.set(e,e.v);else{var r=e.f&tt?Ae:wt;Te(e,r)}}let Or=new Set;const Tt=new Map;let rs=!1;function Vt(e,n){var r={f:0,v:e,reactions:null,equals:Wi,rv:0,wv:0};return r}function q(e,n){const r=Vt(e);return ys(r),r}function Ql(e,n=!1,r=!0){var i;const l=Vt(e);return n||(l.equals=qi),zn&&r&&be!==null&&be.l!==null&&((i=be.l).s??(i.s=[])).push(l),l}function p(e,n,r=!1){W!==null&&(!ft||W.f&Si)&&Ln()&&W.f&(Oe|xt|Yr|Si)&&!(Ne!=null&&Ne.includes(e))&&Al();let l=r?bt(n):n;return dn(e,l)}function dn(e,n){if(!e.equals(n)){var r=e.v;pn?Tt.set(e,n):Tt.set(e,r),e.v=n;var l=yt.ensure();l.capture(e,r),e.f&Oe&&(e.f&Ye&&Xr(e),Te(e,e.f&tt?Ae:wt)),e.wv=xs(),is(e,Ye),Ln()&&J!==null&&J.f&Ae&&!(J.f&(mt|Gt))&&(Ue===null?da([e]):Ue.push(e)),!l.is_fork&&Or.size>0&&!rs&&ea()}return n}function ea(){rs=!1;const e=Array.from(Or);for(const n of e)n.f&Ae&&Te(n,wt),Pn(n)&&Dn(n);Or.clear()}function Sn(e){p(e,e.v+1)}function is(e,n){var r=e.reactions;if(r!==null)for(var l=Ln(),i=r.length,a=0;a<i;a++){var o=r[a],u=o.f;if(!(!l&&o===J)){var c=(u&Ye)===0;if(c&&Te(o,n),u&Oe){var d=o;ge==null||ge.delete(d),u&Cn||(u&tt&&(o.f|=Cn),is(d,wt))}else c&&(u&xt&&$e!==null&&$e.add(o),Kt(o))}}}function bt(e){if(typeof e!="object"||e===null||Gn in e)return e;const n=Ii(e);if(n!==pl&&n!==gl)return e;var r=new Map,l=Yi(e),i=q(0),a=Ut,o=u=>{if(Ut===a)return u();var c=W,d=Ut;Re(null),Ti(a);var k=u();return Re(c),Ti(d),k};return l&&r.set("length",q(e.length)),new Proxy(e,{defineProperty(u,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ml();var k=r.get(c);return k===void 0?k=o(()=>{var M=q(d.value);return r.set(c,M),M}):p(k,d.value,!0),!0},deleteProperty(u,c){var d=r.get(c);if(d===void 0){if(c in u){const k=o(()=>q(Me));r.set(c,k),Sn(i)}}else p(d,Me),Sn(i);return!0},get(u,c,d){var D;if(c===Gn)return e;var k=r.get(c),M=c in u;if(k===void 0&&(!M||(D=kn(u,c))!=null&&D.writable)&&(k=o(()=>{var E=bt(M?u[c]:Me),I=q(E);return I}),r.set(c,k)),k!==void 0){var S=t(k);return S===Me?void 0:S}return Reflect.get(u,c,d)},getOwnPropertyDescriptor(u,c){var d=Reflect.getOwnPropertyDescriptor(u,c);if(d&&"value"in d){var k=r.get(c);k&&(d.value=t(k))}else if(d===void 0){var M=r.get(c),S=M==null?void 0:M.v;if(M!==void 0&&S!==Me)return{enumerable:!0,configurable:!0,value:S,writable:!0}}return d},has(u,c){var S;if(c===Gn)return!0;var d=r.get(c),k=d!==void 0&&d.v!==Me||Reflect.has(u,c);if(d!==void 0||J!==null&&(!k||(S=kn(u,c))!=null&&S.writable)){d===void 0&&(d=o(()=>{var D=k?bt(u[c]):Me,E=q(D);return E}),r.set(c,d));var M=t(d);if(M===Me)return!1}return k},set(u,c,d,k){var j;var M=r.get(c),S=c in u;if(l&&c==="length")for(var D=d;D<M.v;D+=1){var E=r.get(D+"");E!==void 0?p(E,Me):D in u&&(E=o(()=>q(Me)),r.set(D+"",E))}if(M===void 0)(!S||(j=kn(u,c))!=null&&j.writable)&&(M=o(()=>q(void 0)),p(M,bt(d)),r.set(c,M));else{S=M.v!==Me;var I=o(()=>bt(d));p(M,I)}var z=Reflect.getOwnPropertyDescriptor(u,c);if(z!=null&&z.set&&z.set.call(k,d),!S){if(l&&typeof c=="string"){var B=r.get("length"),ve=Number(c);Number.isInteger(ve)&&ve>=B.v&&p(B,ve+1)}Sn(i)}return!0},ownKeys(u){t(i);var c=Reflect.ownKeys(u).filter(M=>{var S=r.get(M);return S===void 0||S.v!==Me});for(var[d,k]of r)k.v!==Me&&!(d in u)&&c.push(d);return c},setPrototypeOf(){Dl()}})}var er,ss,ls,as;function ta(){if(er===void 0){er=window,ss=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;ls=kn(n,"firstChild").get,as=kn(n,"nextSibling").get,Ei(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ei(r)&&(r.__t=void 0)}}function Ot(e=""){return document.createTextNode(e)}function gt(e){return ls.call(e)}function Nn(e){return as.call(e)}function A(e,n){return gt(e)}function Ce(e,n=!1){{var r=gt(e);return r instanceof Comment&&r.data===""?Nn(r):r}}function g(e,n=1,r=!1){let l=e;for(;n--;)l=Nn(l);return l}function na(e){e.textContent=""}function os(){return!1}let Mi=!1;function ra(){Mi||(Mi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const r of e.target.elements)(n=r.__on_r)==null||n.call(r)})},{capture:!0}))}function cr(e){var n=W,r=J;Re(null),ct(null);try{return e()}finally{Re(n),ct(r)}}function fs(e,n,r,l=r){e.addEventListener(n,()=>cr(r));const i=e.__on_r;i?e.__on_r=()=>{i(),l(!0)}:e.__on_r=()=>l(!0),ra()}function ia(e){J===null&&(W===null&&Sl(),El()),pn&&kl()}function sa(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function kt(e,n,r,l=!0){var i=J;i!==null&&i.f&Be&&(e|=Be);var a={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:e|Ye|tt,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Dn(a),a.f|=Rr}catch(c){throw Le(a),c}else n!==null&&Kt(a);if(l){var o=a;if(r&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&hn)&&(o=o.first,e&xt&&e&fn&&o!==null&&(o.f|=fn)),o!==null&&(o.parent=i,i!==null&&sa(o,i),W!==null&&W.f&Oe&&!(e&Gt))){var u=W;(u.effects??(u.effects=[])).push(o)}}return a}function ur(){return W!==null&&!ft}function cs(e){const n=kt(Pr,null,!1);return Te(n,Ae),n.teardown=e,n}function la(e){ia();var n=J.f,r=!W&&(n&mt)!==0&&(n&Rr)===0;if(r){var l=be;(l.e??(l.e=[])).push(e)}else return us(e)}function us(e){return kt(sr|bl,e,!1)}function aa(e){yt.ensure();const n=kt(Gt|hn,e,!0);return(r={})=>new Promise(l=>{r.outro?rn(n,()=>{Le(n),l(void 0)}):(Le(n),l(void 0))})}function oa(e){return kt(sr,e,!1)}function fa(e){return kt(Yr|hn,e,!0)}function dr(e,n=0){return kt(Pr|n,e,!0)}function ie(e,n=[],r=[],l=[],i=!1){Gl(l,n,r,a=>{kt(i?sr:Pr,()=>e(...a.map(t)),!0)})}function Hr(e,n=0){var r=kt(xt|n,e,!0);return r}function et(e,n=!0){return kt(mt|hn,e,!0,n)}function ds(e){var n=e.teardown;if(n!==null){const r=pn,l=W;Ai(!0),Re(null);try{n.call(null)}finally{Ai(r),Re(l)}}}function vs(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&cr(()=>{i.abort(nn)});var l=r.next;r.f&Gt?r.parent=null:Le(r,n),r=l}}function ca(e){for(var n=e.first;n!==null;){var r=n.next;n.f&mt||Le(n),n=r}}function Le(e,n=!0){var r=!1;(n||e.f&Hi)&&e.nodes_start!==null&&e.nodes_end!==null&&(ua(e.nodes_start,e.nodes_end),r=!0),vs(e,n&&!r),tr(e,0),Te(e,qt);var l=e.transitions;if(l!==null)for(const a of l)a.stop();ds(e);var i=e.parent;i!==null&&i.first!==null&&hs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ua(e,n){for(;e!==null;){var r=e===n?null:Nn(e);e.remove(),e=r}}function hs(e){var n=e.parent,r=e.prev,l=e.next;r!==null&&(r.next=l),l!==null&&(l.prev=r),n!==null&&(n.first===e&&(n.first=l),n.last===e&&(n.last=r))}function rn(e,n,r=!0){var l=[];Br(e,l,!0),_s(l,()=>{r&&Le(e),n&&n()})}function _s(e,n){var r=e.length;if(r>0){var l=()=>--r||n();for(var i of e)i.out(l)}else n()}function Br(e,n,r){if(!(e.f&Be)){if(e.f^=Be,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&n.push(o);for(var l=e.first;l!==null;){var i=l.next,a=(l.f&fn)!==0||(l.f&mt)!==0&&(e.f&xt)!==0;Br(l,n,a?r:!1),l=i}}}function Fr(e){ps(e,!0)}function ps(e,n){if(e.f&Be){e.f^=Be,e.f&Ae||(Te(e,Ye),Kt(e));for(var r=e.first;r!==null;){var l=r.next,i=(r.f&fn)!==0||(r.f&mt)!==0;ps(r,i?n:!1),r=l}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}function gs(e,n){for(var r=e.nodes_start,l=e.nodes_end;r!==null;){var i=r===l?null:Nn(r);n.append(r),r=i}}let jt=!1;function Di(e){jt=e}let pn=!1;function Ai(e){pn=e}let W=null,ft=!1;function Re(e){W=e}let J=null;function ct(e){J=e}let Ne=null;function ys(e){W!==null&&(Ne===null?Ne=[e]:Ne.push(e))}let ze=null,Xe=0,Ue=null;function da(e){Ue=e}let bs=1,Mn=0,Ut=Mn;function Ti(e){Ut=e}function xs(){return++bs}function Pn(e){var n=e.f;if(n&Ye)return!0;if(n&Oe&&(e.f&=~Cn),n&wt){var r=e.deps;if(r!==null)for(var l=r.length,i=0;i<l;i++){var a=r[i];if(Pn(a)&&ns(a),a.wv>e.wv)return!0}n&tt&&ge===null&&Te(e,Ae)}return!1}function ms(e,n,r=!0){var l=e.reactions;if(l!==null&&!(Ne!=null&&Ne.includes(e)))for(var i=0;i<l.length;i++){var a=l[i];a.f&Oe?ms(a,n,!1):n===a&&(r?Te(a,Ye):a.f&Ae&&Te(a,wt),Kt(a))}}function ws(e){var E;var n=ze,r=Xe,l=Ue,i=W,a=Ne,o=be,u=ft,c=Ut,d=e.f;ze=null,Xe=0,Ue=null,W=d&(mt|Gt)?null:e,Ne=null,cn(e.ctx),ft=!1,Ut=++Mn,e.ac!==null&&(cr(()=>{e.ac.abort(nn)}),e.ac=null);try{e.f|=Cr;var k=e.fn,M=k(),S=e.deps;if(ze!==null){var D;if(tr(e,Xe),S!==null&&Xe>0)for(S.length=Xe+ze.length,D=0;D<ze.length;D++)S[Xe+D]=ze[D];else e.deps=S=ze;if(jt&&ur()&&e.f&tt)for(D=Xe;D<S.length;D++)((E=S[D]).reactions??(E.reactions=[])).push(e)}else S!==null&&Xe<S.length&&(tr(e,Xe),S.length=Xe);if(Ln()&&Ue!==null&&!ft&&S!==null&&!(e.f&(Oe|wt|Ye)))for(D=0;D<Ue.length;D++)ms(Ue[D],e);return i!==null&&i!==e&&(Mn++,Ue!==null&&(l===null?l=Ue:l.push(...Ue))),e.f&At&&(e.f^=At),M}catch(I){return Vi(I)}finally{e.f^=Cr,ze=n,Xe=r,Ue=l,W=i,Ne=a,cn(o),ft=u,Ut=c}}function va(e,n){let r=n.reactions;if(r!==null){var l=vl.call(r,e);if(l!==-1){var i=r.length-1;i===0?r=n.reactions=null:(r[l]=r[i],r.pop())}}r===null&&n.f&Oe&&(ze===null||!ze.includes(n))&&(Te(n,wt),n.f&tt&&(n.f^=tt,n.f&=~Cn),ts(n),tr(n,0))}function tr(e,n){var r=e.deps;if(r!==null)for(var l=n;l<r.length;l++)va(e,r[l])}function Dn(e){var n=e.f;if(!(n&qt)){Te(e,Ae);var r=J,l=jt;J=e,jt=!0;try{n&xt?ca(e):vs(e),ds(e);var i=ws(e);e.teardown=typeof i=="function"?i:null,e.wv=bs;var a;Ri&&Il&&e.f&Ye&&e.deps}finally{jt=l,J=r}}}async function ha(){await Promise.resolve(),Bl()}function t(e){var n=e.f,r=(n&Oe)!==0;if(W!==null&&!ft){var l=J!==null&&(J.f&qt)!==0;if(!l&&!(Ne!=null&&Ne.includes(e))){var i=W.deps;if(W.f&Cr)e.rv<Mn&&(e.rv=Mn,ze===null&&i!==null&&i[Xe]===e?Xe++:ze===null?ze=[e]:ze.includes(e)||ze.push(e));else{(W.deps??(W.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[W]:a.includes(W)||a.push(W)}}}if(pn){if(Tt.has(e))return Tt.get(e);if(r){var o=e,u=o.v;return(!(o.f&Ae)&&o.reactions!==null||Es(o))&&(u=Xr(o)),Tt.set(o,u),u}}else if(r){if(o=e,ge!=null&&ge.has(o))return ge.get(o);Pn(o)&&ns(o),jt&&ur()&&!(o.f&tt)&&ks(o)}else if(ge!=null&&ge.has(e))return ge.get(e);if(e.f&At)throw e.v;return e.v}function ks(e){if(e.deps!==null){e.f^=tt;for(const n of e.deps)(n.reactions??(n.reactions=[])).push(e),n.f&Oe&&!(n.f&tt)&&ks(n)}}function Es(e){if(e.v===Me)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(Tt.has(n)||n.f&Oe&&Es(n))return!0;return!1}function Rn(e){var n=ft;try{return ft=!0,e()}finally{ft=n}}const _a=-7169;function Te(e,n){e.f=e.f&_a|n}const pa=["touchstart","touchmove"];function ga(e){return pa.includes(e)}const Ss=new Set,zr=new Set;function ya(e,n,r,l={}){function i(a){if(l.capture||wn.call(n,a),!a.cancelBubble)return cr(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{n.addEventListener(e,i,l)}):n.addEventListener(e,i,l),i}function Rt(e,n,r,l,i){var a={capture:l,passive:i},o=ya(e,n,r,a);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&cs(()=>{n.removeEventListener(e,o,a)})}function ba(e){for(var n=0;n<e.length;n++)Ss.add(e[n]);for(var r of zr)r(e)}let Oi=null;function wn(e){var z;var n=this,r=n.ownerDocument,l=e.type,i=((z=e.composedPath)==null?void 0:z.call(e))||[],a=i[0]||e.target;Oi=e;var o=0,u=Oi===e&&e.__root;if(u){var c=i.indexOf(u);if(c!==-1&&(n===document||n===window)){e.__root=n;return}var d=i.indexOf(n);if(d===-1)return;c<=d&&(o=c)}if(a=i[o]||e.target,a!==n){hl(e,"currentTarget",{configurable:!0,get(){return a||r}});var k=W,M=J;Re(null),ct(null);try{for(var S,D=[];a!==null;){var E=a.assignedSlot||a.parentNode||a.host||null;try{var I=a["__"+l];I!=null&&(!a.disabled||e.target===a)&&I.call(a,e)}catch(B){S?D.push(B):S=B}if(e.cancelBubble||E===n||E===null)break;a=E}if(S){for(let B of D)queueMicrotask(()=>{throw B});throw S}}finally{e.__root=n,delete e.currentTarget,Re(k),ct(M)}}}function Cs(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function vn(e,n){var r=J;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=n)}function ut(e,n){var r=(n&Fi)!==0,l=(n&Ll)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=Cs(a?e:"<!>"+e),r||(i=gt(i)));var o=l||ss?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=gt(o),c=o.lastChild;vn(u,c)}else vn(o,o);return o}}function xa(e,n,r="svg"){var l=!e.startsWith("<!>"),i=(n&Fi)!==0,a=`<${r}>${l?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var u=Cs(a),c=gt(u);if(i)for(o=document.createDocumentFragment();gt(c);)o.appendChild(gt(c));else o=gt(c)}var d=o.cloneNode(!0);if(i){var k=gt(d),M=d.lastChild;vn(k,M)}else vn(d,d);return d}}function ue(e,n){return xa(e,n,"svg")}function xn(e=""){{var n=Ot(e+"");return vn(n,n),n}}function _t(){var e=document.createDocumentFragment(),n=document.createComment(""),r=Ot();return e.append(n,r),vn(n,r),e}function L(e,n){e!==null&&e.before(n)}function $t(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ma(e,n){return wa(e,n)}const Qt=new Map;function wa(e,{target:n,anchor:r,props:l={},events:i,context:a,intro:o=!0}){ta();var u=new Set,c=M=>{for(var S=0;S<M.length;S++){var D=M[S];if(!u.has(D)){u.add(D);var E=ga(D);n.addEventListener(D,wn,{passive:E});var I=Qt.get(D);I===void 0?(document.addEventListener(D,wn,{passive:E}),Qt.set(D,1)):Qt.set(D,I+1)}}};c(Nr(Ss)),zr.add(c);var d=void 0,k=aa(()=>{var M=r??n.appendChild(Ot());return jl(M,{pending:()=>{}},S=>{if(a){ji({});var D=be;D.c=a}i&&(l.$$events=i),d=e(S,l)||{},a&&Ui()}),()=>{var E;for(var S of u){n.removeEventListener(S,wn);var D=Qt.get(S);--D===0?(document.removeEventListener(S,wn),Qt.delete(S)):Qt.set(S,D)}zr.delete(c),M!==r&&((E=M.parentNode)==null||E.removeChild(M))}});return ka.set(d,k),d}let ka=new WeakMap;var Qe,at,He,Tn,On,ir;class Ea{constructor(n,r=!0){nt(this,"anchor");V(this,Qe,new Map);V(this,at,new Map);V(this,He,new Map);V(this,Tn,!0);V(this,On,()=>{var n=ne;if(h(this,Qe).has(n)){var r=h(this,Qe).get(n),l=h(this,at).get(r);if(l)Fr(l);else{var i=h(this,He).get(r);i&&(h(this,at).set(r,i.effect),h(this,He).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),l=i.effect)}for(const[a,o]of h(this,Qe)){if(h(this,Qe).delete(a),a===n)break;const u=h(this,He).get(o);u&&(Le(u.effect),h(this,He).delete(o))}for(const[a,o]of h(this,at)){if(a===r)continue;const u=()=>{if(Array.from(h(this,Qe).values()).includes(a)){var d=document.createDocumentFragment();gs(o,d),d.append(Ot()),h(this,He).set(a,{effect:o,fragment:d})}else Le(o);h(this,at).delete(a)};h(this,Tn)||!l?rn(o,u,!1):u()}}});V(this,ir,n=>{h(this,Qe).delete(n);const r=Array.from(h(this,Qe).values());for(const[l,i]of h(this,He))r.includes(l)||(Le(i.effect),h(this,He).delete(l))});this.anchor=n,P(this,Tn,r)}ensure(n,r){var l=ne,i=os();if(r&&!h(this,at).has(n)&&!h(this,He).has(n))if(i){var a=document.createDocumentFragment(),o=Ot();a.append(o),h(this,He).set(n,{effect:et(()=>r(o)),fragment:a})}else h(this,at).set(n,et(()=>r(this.anchor)));if(h(this,Qe).set(l,n),i){for(const[u,c]of h(this,at))u===n?l.skipped_effects.delete(c):l.skipped_effects.add(c);for(const[u,c]of h(this,He))u===n?l.skipped_effects.delete(c.effect):l.skipped_effects.add(c.effect);l.oncommit(h(this,On)),l.ondiscard(h(this,ir))}else h(this,On).call(this)}}Qe=new WeakMap,at=new WeakMap,He=new WeakMap,Tn=new WeakMap,On=new WeakMap,ir=new WeakMap;function ee(e,n,r=!1){var l=new Ea(e),i=r?fn:0;function a(o,u){l.ensure(o,u)}Hr(()=>{var o=!1;n((u,c=!0)=>{o=!0,a(c,u)}),o||a(!1,null)},i)}function mn(e,n){return n}function Sa(e,n,r){for(var l=e.items,i=[],a=n.length,o=0;o<a;o++)Br(n[o].e,i,!0);var u=a>0&&i.length===0&&r!==null;if(u){var c=r.parentNode;na(c),c.append(r),l.clear(),rt(e,n[0].prev,n[a-1].next)}_s(i,()=>{for(var d=0;d<a;d++){var k=n[d];u||(l.delete(k.k),rt(e,k.prev,k.next)),Le(k.e,!u)}})}function en(e,n,r,l,i,a=null){var o=e,u={flags:n,items:new Map,first:null},c=(n&Bi)!==0;if(c){var d=e;o=d.appendChild(Ot())}var k=null,M=!1,S=new Map,D=es(()=>{var B=r();return Yi(B)?B:B==null?[]:Nr(B)}),E,I;function z(){Ca(I,E,u,S,o,i,n,l,r),a!==null&&(E.length===0?k?Fr(k):k=et(()=>a(o)):k!==null&&rn(k,()=>{k=null}))}Hr(()=>{I??(I=J),E=t(D);var B=E.length;if(!(M&&B===0)){M=B===0;var ve,j,xe,se;if(os()){var F=new Set,te=ne;for(j=0;j<B;j+=1){xe=E[j],se=l(xe,j);var Fe=u.items.get(se)??S.get(se);Fe?n&(ar|or)&&Ms(Fe,xe,j,n):(ve=Ds(null,u,null,null,xe,se,j,i,n,r,!0),S.set(se,ve)),F.add(se)}for(const[dt,vt]of u.items)F.has(dt)||te.skipped_effects.add(vt.e);te.oncommit(z)}else z();t(D)}})}function Ca(e,n,r,l,i,a,o,u,c){var In,Xn,Hn,Bn;var d=(o&Ol)!==0,k=(o&(ar|or))!==0,M=n.length,S=r.items,D=r.first,E=D,I,z=null,B,ve=[],j=[],xe,se,F,te;if(d)for(te=0;te<M;te+=1)xe=n[te],se=u(xe,te),F=S.get(se),F!==void 0&&((In=F.a)==null||In.measure(),(B??(B=new Set)).add(F));for(te=0;te<M;te+=1){if(xe=n[te],se=u(xe,te),F=S.get(se),F===void 0){var Fe=l.get(se);if(Fe!==void 0){l.delete(se),S.set(se,Fe);var dt=z?z.next:E;rt(r,z,Fe),rt(r,Fe,dt),kr(Fe,dt,i),z=Fe}else{var vt=E?E.e.nodes_start:i;z=Ds(vt,r,z,z===null?r.first:z.next,xe,se,te,a,o,c)}S.set(se,z),ve=[],j=[],E=z.next;continue}if(k&&Ms(F,xe,te,o),F.e.f&Be&&(Fr(F.e),d&&((Xn=F.a)==null||Xn.unfix(),(B??(B=new Set)).delete(F))),F!==E){if(I!==void 0&&I.has(F)){if(ve.length<j.length){var Et=j[0],We;z=Et.prev;var Yn=ve[0],gn=ve[ve.length-1];for(We=0;We<ve.length;We+=1)kr(ve[We],Et,i);for(We=0;We<j.length;We+=1)I.delete(j[We]);rt(r,Yn.prev,gn.next),rt(r,z,Yn),rt(r,gn,Et),E=Et,z=gn,te-=1,ve=[],j=[]}else I.delete(F),kr(F,E,i),rt(r,F.prev,F.next),rt(r,F,z===null?r.first:z.next),rt(r,z,F),z=F;continue}for(ve=[],j=[];E!==null&&E.k!==se;)E.e.f&Be||(I??(I=new Set)).add(E),j.push(E),E=E.next;if(E===null)continue;F=E}ve.push(F),z=F,E=F.next}if(E!==null||I!==void 0){for(var zt=I===void 0?[]:Nr(I);E!==null;)E.e.f&Be||zt.push(E),E=E.next;var yn=zt.length;if(yn>0){var Zt=o&Bi&&M===0?i:null;if(d){for(te=0;te<yn;te+=1)(Hn=zt[te].a)==null||Hn.measure();for(te=0;te<yn;te+=1)(Bn=zt[te].a)==null||Bn.fix()}Sa(r,zt,Zt)}}d&&_n(()=>{var Fn;if(B!==void 0)for(F of B)(Fn=F.a)==null||Fn.apply()}),e.first=r.first&&r.first.e,e.last=z&&z.e;for(var bn of l.values())Le(bn.e);l.clear()}function Ms(e,n,r,l){l&ar&&dn(e.v,n),l&or?dn(e.i,r):e.i=r}function Ds(e,n,r,l,i,a,o,u,c,d,k){var M=(c&ar)!==0,S=(c&zl)===0,D=M?S?Ql(i,!1,!1):Vt(i):i,E=c&or?Vt(o):o,I={i:E,v:D,k:a,a:null,e:null,prev:r,next:l};try{if(e===null){var z=document.createDocumentFragment();z.append(e=Ot())}return I.e=et(()=>u(e,D,E,d),Rl),I.e.prev=r&&r.e,I.e.next=l&&l.e,r===null?k||(n.first=I):(r.next=I,r.e.next=I.e),l!==null&&(l.prev=I,l.e.prev=I.e),I}finally{}}function kr(e,n,r){for(var l=e.next?e.next.e.nodes_start:r,i=n?n.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==l;){var o=Nn(a);i.before(a),a=o}}function rt(e,n,r){n===null?e.first=r:(n.next=r,n.e.next=r&&r.e),r!==null&&(r.prev=n,r.e.prev=n&&n.e)}const zi=[...` 	
\r\fÂ \v\uFEFF`];function Ma(e,n,r){var l=e==null?"":""+e;if(r){for(var i in r)if(r[i])l=l?l+" "+i:i;else if(l.length)for(var a=i.length,o=0;(o=l.indexOf(i,o))>=0;){var u=o+a;(o===0||zi.includes(l[o-1]))&&(u===l.length||zi.includes(l[u]))?l=(o===0?"":l.substring(0,o))+l.substring(u+1):o=u}}return l===""?null:l}function Da(e,n){return e==null?null:String(e)}function oe(e,n,r,l,i,a){var o=e.__className;if(o!==r||o===void 0){var u=Ma(r,l,a);u==null?e.removeAttribute("class"):n?e.className=u:e.setAttribute("class",u),e.__className=r}else if(a&&i!==a)for(var c in a){var d=!!a[c];(i==null||d!==!!i[c])&&e.classList.toggle(c,d)}return a}function Aa(e,n,r,l){var i=e.__style;if(i!==n){var a=Da(n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=n}return l}const Ta=Symbol("is custom element"),Oa=Symbol("is html");function b(e,n,r,l){var i=za(e);i[n]!==(i[n]=r)&&(n==="loading"&&(e[xl]=r),r==null?e.removeAttribute(n):typeof r!="string"&&La(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function za(e){return e.__attributes??(e.__attributes={[Ta]:e.nodeName.includes("-"),[Oa]:e.namespaceURI===Nl})}var Li=new Map;function La(e){var n=e.getAttribute("is")||e.nodeName,r=Li.get(n);if(r)return r;Li.set(n,r=[]);for(var l,i=e,a=Element.prototype;a!==i;){l=_l(i);for(var o in l)l[o].set&&r.push(o);i=Ii(i)}return r}function Ie(e,n,r=n){var l=new WeakSet;fs(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Er(e)?Sr(a):a,r(a),ne!==null&&l.add(ne),await ha(),a!==(a=n())){var o=e.selectionStart,u=e.selectionEnd,c=e.value.length;if(e.value=a??"",u!==null){var d=e.value.length;o===u&&u===c&&d>c?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=o,e.selectionEnd=Math.min(u,d))}}}),Rn(n)==null&&e.value&&(r(Er(e)?Sr(e.value):e.value),ne!==null&&l.add(ne)),dr(()=>{var i=n();if(e===document.activeElement){var a=Zn??ne;if(l.has(a))return}Er(e)&&i===Sr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function tn(e,n,r=n){fs(e,"change",l=>{var i=l?e.defaultChecked:e.checked;r(i)}),Rn(n)==null&&r(e.checked),dr(()=>{var l=n();e.checked=!!l})}function Er(e){var n=e.type;return n==="number"||n==="range"}function Sr(e){return e===""?null:+e}function Ni(e,n){return e===n||(e==null?void 0:e[Gn])===n}function Na(e={},n,r,l){return oa(()=>{var i,a;return dr(()=>{i=a,a=[],Rn(()=>{e!==r(...a)&&(n(e,...a),i&&Ni(r(...i),e)&&n(null,...i))})}),()=>{_n(()=>{a&&Ni(r(...a),e)&&n(null,...a)})}}),e}function Pa(e){be===null&&ml(),zn&&be.l!==null?Ra(be).m.push(e):la(()=>{const n=Rn(e);if(typeof n=="function")return n})}function Ra(e){var n=e.l;return n.u??(n.u={a:[],b:[],m:[]})}const Ya="5";var Pi;typeof window<"u"&&((Pi=window.__svelte??(window.__svelte={})).v??(Pi.v=new Set)).add(Ya);Xl();var Ia=ut("<option> </option>"),Xa=ut('<label>Saved Designs: <select class="design-select svelte-ihemak"><option>-- Select Design --</option><!></select></label> <button class="action-btn delete-btn svelte-ihemak" title="Delete selected design">Delete Selected</button>',1),Ha=ue('<rect width="100%" height="100%" fill="url(#grid)"></rect>'),Ba=ue('<rect fill="#cccccc" stroke="none" class="svelte-ihemak"></rect>'),Fa=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Wa=ue("<tspan> </tspan>"),qa=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),ja=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),Ua=ue('<g><!><rect stroke="#000000" stroke-width="2" class="svelte-ihemak"></rect><!><!></g>'),Ka=ue('<circle fill="#cccccc" stroke="none"></circle>'),Va=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Ga=ue("<tspan> </tspan>"),Za=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),Ja=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>'),$a=ue('<g><!><circle stroke="#000000" stroke-width="2"></circle><!><!></g>'),Qa=ue('<circle r="4" fill="#000000"></circle>'),eo=ue(`<foreignObject width="200" height="60"><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 11px; border: 2px solid #ff5722; background: white; padding: 2px; resize: none; overflow: auto;"></textarea></foreignObject>`),to=ue("<tspan> </tspan>"),no=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="baseline" fill="#000000" pointer-events="none" class="svelte-ihemak"></text>`),ro=ue('<circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),io=ue('<g><line stroke="#000000" stroke-width="2" class="svelte-ihemak"></line><!><line stroke="transparent" stroke-width="20" class="svelte-ihemak"></line><!><!></g>'),so=ue('<foreignObject width="300" height="150"><textarea class="inline-text-edit"></textarea></foreignObject>'),lo=ue("<tspan> </tspan>"),ao=ue(`<text font-family="ui-monospace, 'Courier New', monospace" fill="#000000" class="svelte-ihemak"></text>`),oo=ue("<g><!></g>"),fo=ut('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click to edit text inline. Press Enter for line breaks, Esc to finish.</div>'),co=ut('<label class="svelte-ihemak">Width: <input type="number" min="50" max="500" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Height: <input type="number" min="30" max="300" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),uo=ut('<label class="svelte-ihemak">Radius: <input type="number" min="20" max="200" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),vo=ut('<label class="svelte-ihemak">Font Size: <input type="number" min="8" max="72" class="svelte-ihemak"/></label>'),ho=ut('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click line to add label. Press Enter for line breaks, Esc to finish.</div> <label class="svelte-ihemak">Label Size: <input type="number" min="8" max="24" placeholder="11" class="svelte-ihemak"/></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> End Circle</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Arrow Head</label>',1),_o=ut('<div class="properties-panel svelte-ihemak"><h3 class="svelte-ihemak">Properties</h3> <!> <!> <!> <!> <!></div>'),po=ut('<div class="modal-overlay svelte-ihemak"><div class="modal-content svelte-ihemak"><button class="modal-close svelte-ihemak">Ã—</button> <p class="svelte-ihemak">Made by <strong>Stephan Schulz</strong></p> <a href="https://github.com/stephanschulz/Planwerk/" target="_blank" rel="noopener noreferrer" class="svelte-ihemak">View on GitHub â†’</a></div></div>'),go=ut(`<div class="builder-container svelte-ihemak"><div class="left-panel svelte-ihemak"><div class="toolbar svelte-ihemak"><div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Tools</h3> <div class="tool-grid svelte-ihemak"><button title="Select (Esc)"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><path d="M2 2 L2 18 L8 12 L12 18 L15 16 L11 10 L18 8 Z" fill="currentColor"></path></svg> <span class="svelte-ihemak">Select</span></button> <button title="Add Box"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><rect x="2" y="4" width="16" height="12" fill="none" stroke="currentColor" stroke-width="2"></rect></svg> <span class="svelte-ihemak">Box</span></button> <button title="Add Circle"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><circle cx="10" cy="10" r="8" fill="none" stroke="currentColor" stroke-width="2"></circle></svg> <span class="svelte-ihemak">Circle</span></button> <button title="Add Text"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><text x="10" y="15" font-size="14" fill="currentColor" text-anchor="middle" font-weight="bold">T</text></svg> <span class="svelte-ihemak">Text</span></button> <button title="Add Line"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="2" y1="10" x2="18" y2="10" stroke="currentColor" stroke-width="2"></line></svg> <span class="svelte-ihemak">Line</span></button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Actions</h3> <button class="action-btn svelte-ihemak" title="Delete (Del)">Delete</button> <button class="action-btn svelte-ihemak" title="Clear Canvas">Clear All</button></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">File</h3> <label>Name: <input type="text" placeholder="Untitled" class="filename-input svelte-ihemak"/></label> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Start a new design">New</button> <button class="action-btn svelte-ihemak" title="Save current design">Save</button></div> <!> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Export design as file">Export</button> <button class="action-btn svelte-ihemak" title="Import design from file">Import</button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Zoom & View</h3> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Zoom In (Ctrl/Cmd + Scroll)">Zoom In</button> <button class="action-btn svelte-ihemak" title="Zoom Out (Ctrl/Cmd + Scroll)">Zoom Out</button></div> <button class="action-btn svelte-ihemak" title="Reset Zoom to 100%">Reset View</button> <p class="grid-hint svelte-ihemak"> <br/> Hold Ctrl/Cmd + Scroll to zoom<br/> Hold Space + Drag to pan</p></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Grid</h3> <button title="Toggle grid visibility"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="5" y1="0" x2="5" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="10" y1="0" x2="10" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="15" y1="0" x2="15" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="5" x2="20" y2="5" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="10" x2="20" y2="10" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="15" x2="20" y2="15" stroke="currentColor" stroke-width="1"></line></svg> <span class="svelte-ihemak">Show Grid</span></button> <label>Grid Size: <input type="number" min="5" max="100" step="5" class="grid-size-input svelte-ihemak"/></label> <p class="grid-hint svelte-ihemak">Hold 'S' while dragging to snap to grid. Lines also snap to vertical/horizontal when close.</p></div></div></div> <div role="application" aria-label="Diagram canvas"><svg width="100%" height="100%" class="diagram-svg svelte-ihemak"><defs><marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="#000000"></polygon></marker><pattern id="grid" patternUnits="userSpaceOnUse"><path fill="none" stroke="#e0e0e0" stroke-width="0.5"></path></pattern></defs><!><g></g></svg> <div><!></div></div> <!></div> <button class="about-btn svelte-ihemak" title="About"></button> <!>`,1);function yo(e,n){ji(n,!0);let r=q(bt([])),l=q(bt([])),i=q(null),a=q("select"),o=q(null),u=q(!1),c=q(!1),d=q(null),k=q(null),M=q(null),S=q(!1),D=q(bt([])),E=q("Untitled"),I=q(!1),z=q(20),B=q(!1),ve=q(bt([])),j=q(1),xe=q(0),se=q(0),F=q(!1),te=q(0),Fe=q(0),dt=q(!1),vt=q(!1),Et=q(!0),We=null;function Yn(f,s){return{id:Date.now(),type:"box",x:f-60,y:s-25,width:120,height:50,text:"New Box",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function gn(f,s){return{id:Date.now(),type:"circle",x:f-50,y:s-50,radius:50,text:"Circle",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function zt(f,s){return{id:Date.now(),type:"text",x:f-50,y:s-10,text:"Text Label",fontSize:14}}function yn(f,s,m,T){return{id:Date.now(),type:"line",x1:f,y1:s,x2:m||f+100,y2:T||s,hasCircle:!1,hasArrow:!1,label:""}}function Zt(f,s){const m=t(k).getBoundingClientRect(),T=(f-m.left-t(xe))/t(j),_=(s-m.top-t(se))/t(j);return{x:T,y:_}}function bn(f,s,m){const T=t(k).getBoundingClientRect(),_=s-T.left,v=m-T.top,y=(_-t(xe))/t(j),x=(v-t(se))/t(j);p(j,Math.max(.1,Math.min(f,5)),!0),p(xe,_-y*t(j)),p(se,v-x*t(j))}function In(){const f=t(k).getBoundingClientRect(),s=f.left+f.width/2,m=f.top+f.height/2;bn(t(j)*1.1,s,m)}function Xn(){const f=t(k).getBoundingClientRect(),s=f.left+f.width/2,m=f.top+f.height/2;bn(t(j)/1.1,s,m)}function Hn(){p(j,1),p(xe,0),p(se,0)}function Bn(f){if(f.ctrlKey||f.metaKey){f.preventDefault();const m=f.deltaY<0?1.05:1/1.05;bn(t(j)*m,f.clientX,f.clientY)}}function Fn(f){if(t(dt)){p(F,!0),p(te,f.clientX-t(xe)),p(Fe,f.clientY-t(se)),f.preventDefault();return}}function As(f){if(t(F))return;if(t(a)==="select"){p(i,null),p(l,[],!0),p(M,null),p(S,!1);return}const{x:s,y:m}=Zt(f.clientX,f.clientY);t(a)==="box"?p(r,[...t(r),Yn(s,m)],!0):t(a)==="circle"?p(r,[...t(r),gn(s,m)],!0):t(a)==="text"?p(r,[...t(r),zt(s,m)],!0):t(a)==="line"&&p(r,[...t(r),yn(s,m)],!0),p(a,"select")}function Wn(f,s){f.stopPropagation(),f.ctrlKey||f.metaKey?(t(l).findIndex(T=>T.id===s.id)>=0?p(l,t(l).filter(T=>T.id!==s.id),!0):p(l,[...t(l),s],!0),p(i,t(l)[0]||null,!0)):t(l).find(T=>T.id===s.id)||(p(l,[s],!0),p(i,s,!0))}function qn(f,s){f.stopPropagation(),f.preventDefault(),p(l,[s],!0),p(i,s,!0),s.type==="line"?(s.label===void 0&&(s.label=""),p(M,s,!0),p(S,!0),setTimeout(()=>{const m=document.getElementById(`edit-line-label-${s.id}`);m&&(m.focus(),s.label&&m.select())},50)):s.text!==void 0&&(p(M,s,!0),p(S,!1),setTimeout(()=>{const m=document.getElementById(`edit-${s.id}`);m&&(m.focus(),m.select())},50))}function qe(f,s){return{x:Math.round(f/t(z))*t(z),y:Math.round(s/t(z))*t(z)}}function jn(f,s,m,T){const _=Math.abs(m-f),v=Math.abs(T-s),y=t(z)*.5;return v<y&&v<_?{x1:f,y1:s,x2:m,y2:s}:_<y&&_<v?{x1:f,y1:s,x2:f,y2:T}:{x1:f,y1:s,x2:m,y2:T}}function Ts(f,s,m,T,_,v){const y=_-m,x=v-T,w=y*y+x*x;if(w===0)return{x:m,y:T};let C=((f-m)*y+(s-T)*x)/w;return C=Math.max(0,Math.min(1,C)),{x:m+C*y,y:T+C*x}}function Wr(f,s,m){for(const _ of t(r))if(_.id!==m){if(_.type==="box"){const v=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x,y:_.y+_.height},{x:_.x+_.width,y:_.y+_.height},{x:_.x+_.width/2,y:_.y},{x:_.x+_.width/2,y:_.y+_.height},{x:_.x,y:_.y+_.height/2},{x:_.x+_.width,y:_.y+_.height/2}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="circle"){const v=[{x:_.x+_.radius,y:_.y},{x:_.x+_.radius*2,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius*2},{x:_.x,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="line"){const v=[{x:_.x1,y:_.y1},{x:_.x2,y:_.y2}];for(const w of v)if(Math.sqrt(Math.pow(f-w.x,2)+Math.pow(s-w.y,2))<10)return w;const y=Ts(f,s,_.x1,_.y1,_.x2,_.y2);if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}}return null}function St(){p(M,null),p(S,!1)}function Un(f,s){if(t(M)||t(S))return;f.stopPropagation(),!t(l).find(v=>v.id===s.id)&&!(f.ctrlKey||f.metaKey)&&p(l,[s],!0),p(i,s,!0),p(u,!0);const{x:m,y:T}=Zt(f.clientX,f.clientY),_=t(l).map(v=>({element:v,startX:v.x||v.x1,startY:v.y||v.y1,startX2:v.x2,startY2:v.y2}));p(o,{x:m,y:T,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2,elementsData:_},!0)}function Lt(f,s,m){f.stopPropagation(),p(i,s,!0),p(c,!0),p(d,m,!0);const{x:T,y:_}=Zt(f.clientX,f.clientY);p(o,{x:T,y:_,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2},!0)}function Os(f){if(p(Et,!0),We&&clearTimeout(We),We=setTimeout(()=>{p(Et,!1)},3e3),t(F)){p(xe,f.clientX-t(te)),p(se,f.clientY-t(Fe));return}if(!t(u)&&!t(c)||!t(o)||!t(i))return;const{x:s,y:m}=Zt(f.clientX,f.clientY),T=s-t(o).x,_=m-t(o).y;if(t(c)){if(t(i).type==="box"){if(t(d)==="se"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=qe(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),w=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,w);t(i).width=C,t(i).height=C}else t(i).width=x,t(i).height=w}else if(t(d)==="sw"){let v=t(o).elementX+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=qe(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),w=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,w);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).width=x,t(i).height=w}else if(t(d)==="ne"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+_;if(t(B)){const C=qe(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),w=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,w);t(i).width=C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).height=C}else t(i).width=x,t(i).y=t(o).elementY+t(o).elementHeight-w,t(i).height=w}else if(t(d)==="nw"){let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const C=qe(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),w=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,w);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).y=t(o).elementY+t(o).elementHeight-w,t(i).width=x,t(i).height=w}}else if(t(i).type==="circle"){const v=t(o).elementX+t(o).elementRadius,y=t(o).elementY+t(o).elementRadius,x=s-v,w=m-y,C=Math.sqrt(x*x+w*w);let U=Math.max(20,C);if(t(B)){const re=qe(s,m),H=re.x-v,G=re.y-y,he=Math.sqrt(H*H+G*G);U=Math.max(20,he)}t(i).radius=U,t(i).x=v-U,t(i).y=y-U}else if(t(i).type==="line"){if(t(d)==="start"){const v=Wr(s,m,t(i).id);let y=v?v.x:s,x=v?v.y:m;if(t(B)){const w=qe(y,x);y=w.x,x=w.y}if(f.shiftKey){const w=Math.atan2(x-t(i).y2,y-t(i).x2),C=Math.round(w/(Math.PI/12))*(Math.PI/12),U=Math.sqrt(Math.pow(y-t(i).x2,2)+Math.pow(x-t(i).y2,2));t(i).x1=t(i).x2+U*Math.cos(C),t(i).y1=t(i).y2+U*Math.sin(C)}else if(t(i).x1=y,t(i).y1=x,t(B)){const w=jn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=w.x1,t(i).y1=w.y1,t(i).x2=w.x2,t(i).y2=w.y2}}else if(t(d)==="end"){const v=Wr(s,m,t(i).id);let y=v?v.x:s,x=v?v.y:m;if(v&&t(i).hasCircle){const C=Math.atan2(v.y-t(i).y1,v.x-t(i).x1);y=v.x-4*Math.cos(C),x=v.y-4*Math.sin(C)}if(t(B)){const w=qe(y,x);y=w.x,x=w.y}if(f.shiftKey){const w=Math.atan2(x-t(i).y1,y-t(i).x1),C=Math.round(w/(Math.PI/12))*(Math.PI/12),U=Math.sqrt(Math.pow(y-t(i).x1,2)+Math.pow(x-t(i).y1,2));t(i).x2=t(i).x1+U*Math.cos(C),t(i).y2=t(i).y1+U*Math.sin(C)}else if(t(i).x2=y,t(i).y2=x,t(B)){const w=jn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=w.x1,t(i).y1=w.y1,t(i).x2=w.x2,t(i).y2=w.y2}}}}else if(t(u))if(t(o).elementsData&&t(o).elementsData.length>=1)for(const v of t(o).elementsData){let y=v.startX+T,x=v.startY+_;if(t(B)){const w=qe(y,x);y=w.x,x=w.y}if(v.element.type==="line"){const w=v.startX2-v.startX,C=v.startY2-v.startY;if(t(B)){const U=qe(y+w,x+C);v.element.x1=y,v.element.y1=x,v.element.x2=U.x,v.element.y2=U.y;const re=jn(v.element.x1,v.element.y1,v.element.x2,v.element.y2);v.element.x1=re.x1,v.element.y1=re.y1,v.element.x2=re.x2,v.element.y2=re.y2}else v.element.x1=y,v.element.y1=x,v.element.x2=y+w,v.element.y2=x+C}else v.element.x=y,v.element.y=x}else{let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const x=qe(v,y);v=x.x,y=x.y}if(t(i).type==="line"){const x=t(o).elementX2-t(o).elementX,w=t(o).elementY2-t(o).elementY;if(t(B)){const C=qe(v,y),U=qe(v+x,y+w);t(i).x1=C.x,t(i).y1=C.y,t(i).x2=U.x,t(i).y2=U.y;const re=jn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=re.x1,t(i).y1=re.y1,t(i).x2=re.x2,t(i).y2=re.y2}else t(i).x1=v,t(i).y1=y,t(i).x2=v+x,t(i).y2=y+w}else t(i).x=v,t(i).y=y}}function zs(){p(u,!1),p(c,!1),p(d,null),p(o,null),p(F,!1)}function qr(){if(t(l).length>0){const f=t(l).map(s=>s.id);p(r,t(r).filter(s=>!f.includes(s.id)),!0),p(l,[],!0),p(i,null)}}function Ls(){p(ve,t(l).map(f=>({...f})),!0)}function Ns(){const s=[],m=Date.now(),T=t(ve).map((_,v)=>{const y=m+v+Math.random()*1e3;s.push(y);const x={..._,id:y};return x.type==="line"?(x.x1+=20,x.y1+=20,x.x2+=20,x.y2+=20):(x.x+=20,x.y+=20),x});p(r,[...t(r),...T],!0),p(l,t(r).filter(_=>s.includes(_.id)),!0),p(i,t(l)[0]||null,!0)}function jr(f){if((f.key==="s"||f.key==="S")&&p(B,!0),f.key===" "&&!t(M)&&!t(S)&&(p(dt,!0),f.preventDefault()),!(t(M)||t(S))){if((f.ctrlKey||f.metaKey)&&f.key==="c"&&t(l).length>0){f.preventDefault(),Ls();return}if((f.ctrlKey||f.metaKey)&&f.key==="v"&&t(ve).length>0){f.preventDefault(),Ns();return}if((f.key==="Delete"||f.key==="Backspace")&&t(l).length>0){f.preventDefault(),qr();return}if(t(l).length>0){f.preventDefault();for(const s of t(l))f.key==="ArrowUp"?s.type==="line"?(s.y1-=1,s.y2-=1):s.y-=1:f.key==="ArrowDown"?s.type==="line"?(s.y1+=1,s.y2+=1):s.y+=1:f.key==="ArrowLeft"?s.type==="line"?(s.x1-=1,s.x2-=1):s.x-=1:f.key==="ArrowRight"&&(s.type==="line"?(s.x1+=1,s.x2+=1):s.x+=1)}}}function Ur(f){(f.key==="s"||f.key==="S")&&p(B,!1),f.key===" "&&(p(dt,!1),p(F,!1))}function Ps(){const f=prompt("Enter a name for this design:",t(E));if(!f)return;p(E,f,!0);const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]={name:f,elements:t(r),savedAt:new Date().toISOString()},localStorage.setItem("savedDesigns",JSON.stringify(s)),vr(),alert(`Design "${f}" saved!`)}function vr(){const f=JSON.parse(localStorage.getItem("savedDesigns")||"{}");p(D,Object.values(f).sort((s,m)=>new Date(m.savedAt)-new Date(s.savedAt)),!0)}function Rs(f){const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]&&(p(r,s[f].elements,!0),p(E,f,!0),p(i,null),alert(`Design "${f}" loaded!`))}function Ys(f){if(!confirm(`Delete design "${f}"?`))return;const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");delete s[f],localStorage.setItem("savedDesigns",JSON.stringify(s)),vr(),t(E)===f&&(p(E,"Untitled"),p(r,[],!0))}function Is(){t(r).length>0&&!confirm("Start a new design? Unsaved changes will be lost.")||(p(r,[],!0),p(E,"Untitled"),p(i,null))}function Xs(){const f=JSON.stringify(t(r),null,2),s=new Blob([f],{type:"application/json"}),m=URL.createObjectURL(s),T=document.createElement("a");T.href=m;const _=(t(E).trim()||"Untitled")+".json";T.download=_,T.click(),URL.revokeObjectURL(m)}function Hs(){const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=s=>{const m=s.target.files[0];if(m){const T=new FileReader;T.onload=_=>{try{p(r,JSON.parse(_.target.result),!0),p(i,null),alert("Diagram imported!")}catch(v){alert("Error importing diagram: "+v.message)}},T.readAsText(m)}},f.click()}Pa(()=>(window.addEventListener("keydown",jr),window.addEventListener("keyup",Ur),vr(),()=>{window.removeEventListener("keydown",jr),window.removeEventListener("keyup",Ur)}));var Kr=go();Rt("mousemove",er,Os),Rt("mouseup",er,zs);var Vr=Ce(Kr),Gr=A(Vr),Bs=A(Gr),Zr=A(Bs),Fs=g(A(Zr),2),hr=A(Fs);let Jr;hr.__click=()=>p(a,"select");var _r=g(hr,2);let $r;_r.__click=()=>p(a,"box");var pr=g(_r,2);let Qr;pr.__click=()=>p(a,"circle");var gr=g(pr,2);let ei;gr.__click=()=>p(a,"text");var ti=g(gr,2);let ni;ti.__click=()=>p(a,"line");var ri=g(Zr,2),yr=g(A(ri),2);yr.__click=qr;var Ws=g(yr,2);Ws.__click=()=>p(r,[],!0);var ii=g(ri,2),si=g(A(ii),2),qs=g(A(si)),li=g(si,2),ai=A(li);ai.__click=Is;var js=g(ai,2);js.__click=Ps;var oi=g(li,2);{var Us=f=>{var s=Xa(),m=Ce(s),T=g(A(m));T.__change=x=>Rs(x.target.value);var _=A(T);_.value=_.__value="";var v=g(_);en(v,17,()=>t(D),mn,(x,w)=>{var C=Ia(),U=A(C),re={};ie(()=>{$t(U,t(w).name),re!==(re=t(w).name)&&(C.value=(C.__value=t(w).name)??"")}),L(x,C)});var y=g(m,2);y.__click=()=>{const x=document.querySelector(".design-select");x.value&&Ys(x.value)},L(f,s)};ee(oi,f=>{t(D).length>0&&f(Us)})}var Ks=g(oi,2),fi=A(Ks);fi.__click=Xs;var Vs=g(fi,2);Vs.__click=Hs;var ci=g(ii,2),ui=g(A(ci),2),di=A(ui);di.__click=In;var Gs=g(di,2);Gs.__click=Xn;var vi=g(ui,2);vi.__click=Hn;var Zs=g(vi,2),Js=A(Zs),$s=g(ci,2),br=g(A($s),2);let hi;br.__click=()=>p(I,!t(I));var Qs=g(br,2),el=g(A(Qs)),Nt=g(Gr,2);let _i;Nt.__click=As,Nt.__mousedown=Fn;var pi=A(Nt),gi=A(pi),xr=g(A(gi)),tl=A(xr),yi=g(gi);{var nl=f=>{var s=Ha();L(f,s)};ee(yi,f=>{t(I)&&f(nl)})}var bi=g(yi);en(bi,21,()=>t(r),f=>f.id,(f,s,m)=>{var T=_t(),_=Ce(T);{var v=x=>{var w=Ua();let C;w.__mousedown=N=>Un(N,t(s)),w.__click=N=>Wn(N,t(s)),w.__dblclick=N=>qn(N,t(s));var U=A(w);{var re=N=>{var X=Ba();ie(()=>{b(X,"x",t(s).x+3),b(X,"y",t(s).y+3),b(X,"width",t(s).width),b(X,"height",t(s).height)}),L(N,X)};ee(U,N=>{t(s).shadow&&N(re)})}var H=g(U),G=g(H);{var he=N=>{var X=Fa(),R=A(X);R.__keydown=le=>{le.key==="Escape"&&St(),le.stopPropagation()},ie(()=>{b(X,"x",t(s).x),b(X,"y",t(s).y),b(X,"width",t(s).width),b(X,"height",t(s).height),b(R,"id",`edit-${t(s).id}`)}),Rt("blur",R,St),Ie(R,()=>t(s).text,le=>t(s).text=le),L(N,X)},_e=N=>{const X=Jt(()=>(t(s).text||"").split(`
`));var R=qa();en(R,21,()=>t(X),mn,(le,Z,Y)=>{var O=Wa(),$=A(O);ie(()=>{b(O,"x",t(s).x+t(s).width/2),b(O,"dy",Y===0?0:t(s).fontSize||12),$t($,t(Z))}),L(le,O)}),ie(()=>{b(R,"x",t(s).x+t(s).width/2),b(R,"y",t(s).y+t(s).height/2-(t(X).length-1)*(t(s).fontSize||12)*.5),b(R,"font-size",t(s).fontSize||12),b(R,"fill",t(s).textColor||"#000000")}),L(N,R)};ee(G,N=>{var X;((X=t(M))==null?void 0:X.id)===t(s).id?N(he):N(_e,!1)})}var me=g(G);{var fe=N=>{var X=ja(),R=Ce(X);R.__mousedown=O=>Lt(O,t(s),"nw");var le=g(R);le.__mousedown=O=>Lt(O,t(s),"ne");var Z=g(le);Z.__mousedown=O=>Lt(O,t(s),"sw");var Y=g(Z);Y.__mousedown=O=>Lt(O,t(s),"se"),ie(()=>{b(R,"cx",t(s).x),b(R,"cy",t(s).y),b(le,"cx",t(s).x+t(s).width),b(le,"cy",t(s).y),b(Z,"cx",t(s).x),b(Z,"cy",t(s).y+t(s).height),b(Y,"cx",t(s).x+t(s).width),b(Y,"cy",t(s).y+t(s).height)}),L(N,X)};ee(me,N=>{var X;((X=t(i))==null?void 0:X.id)===t(s).id&&N(fe)})}ie(N=>{C=oe(w,0,"element box-element svelte-ihemak",null,C,N),b(H,"x",t(s).x),b(H,"y",t(s).y),b(H,"width",t(s).width),b(H,"height",t(s).height),b(H,"fill",t(s).bgColor||"#ffffff"),b(H,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(N=>N.id===t(s).id)})]),L(x,w)},y=x=>{var w=_t(),C=Ce(w);{var U=H=>{var G=$a();let he;G.__mousedown=Y=>Un(Y,t(s)),G.__click=Y=>Wn(Y,t(s)),G.__dblclick=Y=>qn(Y,t(s));var _e=A(G);{var me=Y=>{var O=Ka();ie(()=>{b(O,"cx",t(s).x+t(s).radius+3),b(O,"cy",t(s).y+t(s).radius+3),b(O,"r",t(s).radius)}),L(Y,O)};ee(_e,Y=>{t(s).shadow&&Y(me)})}var fe=g(_e),N=g(fe);{var X=Y=>{var O=Va(),$=A(O);$.__keydown=Se=>{Se.key==="Escape"&&St(),Se.stopPropagation()},ie(()=>{b(O,"x",t(s).x),b(O,"y",t(s).y),b(O,"width",t(s).radius*2),b(O,"height",t(s).radius*2),b($,"id",`edit-${t(s).id}`)}),Rt("blur",$,St),Ie($,()=>t(s).text,Se=>t(s).text=Se),L(Y,O)},R=Y=>{const O=Jt(()=>(t(s).text||"").split(`
`));var $=Za();en($,21,()=>t(O),mn,(Se,ae,ye)=>{var ce=Ga(),we=A(ce);ie(()=>{b(ce,"x",t(s).x+t(s).radius),b(ce,"dy",ye===0?0:t(s).fontSize||12),$t(we,t(ae))}),L(Se,ce)}),ie(()=>{b($,"x",t(s).x+t(s).radius),b($,"y",t(s).y+t(s).radius-(t(O).length-1)*(t(s).fontSize||12)*.5),b($,"font-size",t(s).fontSize||12),b($,"fill",t(s).textColor||"#000000")}),L(Y,$)};ee(N,Y=>{var O;((O=t(M))==null?void 0:O.id)===t(s).id?Y(X):Y(R,!1)})}var le=g(N);{var Z=Y=>{var O=Ja();O.__mousedown=$=>Lt($,t(s),"e"),ie(()=>{b(O,"cx",t(s).x+t(s).radius*2),b(O,"cy",t(s).y+t(s).radius)}),L(Y,O)};ee(le,Y=>{var O;((O=t(i))==null?void 0:O.id)===t(s).id&&Y(Z)})}ie(Y=>{he=oe(G,0,"element circle-element svelte-ihemak",null,he,Y),b(fe,"cx",t(s).x+t(s).radius),b(fe,"cy",t(s).y+t(s).radius),b(fe,"r",t(s).radius),b(fe,"fill",t(s).bgColor||"#ffffff"),b(fe,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(Y=>Y.id===t(s).id)})]),L(H,G)},re=H=>{var G=_t(),he=Ce(G);{var _e=fe=>{const N=Jt(()=>(t(s).x1+t(s).x2)/2),X=Jt(()=>(t(s).y1+t(s).y2)/2);var R=io();let le;R.__mousedown=K=>Un(K,t(s)),R.__click=K=>Wn(K,t(s)),R.__dblclick=K=>qn(K,t(s));var Z=A(R),Y=g(Z);{var O=K=>{var Q=Qa();ie(()=>{b(Q,"cx",t(s).x2),b(Q,"cy",t(s).y2)}),L(K,Q)};ee(Y,K=>{t(s).hasCircle&&K(O)})}var $=g(Y),Se=g($);{var ae=K=>{var Q=eo(),de=A(Q);de.__keydown=ke=>{ke.key==="Escape"&&St(),ke.stopPropagation()},ie(()=>{b(Q,"x",t(N)-100),b(Q,"y",t(X)-60),b(de,"id",`edit-line-label-${t(s).id}`)}),Rt("blur",de,St),Ie(de,()=>t(s).label,ke=>t(s).label=ke),L(K,Q)},ye=K=>{var Q=_t(),de=Ce(Q);{var ke=je=>{const Pt=Jt(()=>(t(s).label||"").split(`
`));var ht=no();en(ht,21,()=>t(Pt),mn,(Ze,mr,Je)=>{var Kn=to(),cl=A(Kn);ie(()=>{b(Kn,"x",t(N)),b(Kn,"dy",Je===0?0:t(s).labelSize||11),$t(cl,t(mr))}),L(Ze,Kn)}),ie(()=>{b(ht,"x",t(N)),b(ht,"y",t(X)-4-(t(Pt).length-1)*(t(s).labelSize||11)*.5),b(ht,"font-size",t(s).labelSize||11)}),L(je,ht)};ee(de,je=>{t(s).label&&t(s).label!==""&&je(ke)},!0)}L(K,Q)};ee(Se,K=>{var Q;((Q=t(M))==null?void 0:Q.id)===t(s).id&&t(S)?K(ae):K(ye,!1)})}var ce=g(Se);{var we=K=>{var Q=ro(),de=Ce(Q);de.__mousedown=je=>Lt(je,t(s),"start");var ke=g(de);ke.__mousedown=je=>Lt(je,t(s),"end"),ie(()=>{b(de,"cx",t(s).x1),b(de,"cy",t(s).y1),b(ke,"cx",t(s).x2),b(ke,"cy",t(s).y2)}),L(K,Q)};ee(ce,K=>{var Q;((Q=t(i))==null?void 0:Q.id)===t(s).id&&K(we)})}ie(K=>{le=oe(R,0,"element line-element svelte-ihemak",null,le,K),b(Z,"x1",t(s).x1),b(Z,"y1",t(s).y1),b(Z,"x2",t(s).x2),b(Z,"y2",t(s).y2),b(Z,"marker-end",t(s).hasArrow?"url(#arrowhead)":""),b($,"x1",t(s).x1),b($,"y1",t(s).y1),b($,"x2",t(s).x2),b($,"y2",t(s).y2)},[()=>({selected:t(l).some(K=>K.id===t(s).id)})]),L(fe,R)},me=fe=>{var N=_t(),X=Ce(N);{var R=le=>{var Z=oo();let Y;Z.__mousedown=ae=>Un(ae,t(s)),Z.__click=ae=>Wn(ae,t(s)),Z.__dblclick=ae=>qn(ae,t(s));var O=A(Z);{var $=ae=>{var ye=so(),ce=A(ye);ce.__keydown=we=>{we.key==="Escape"&&St(),we.stopPropagation()},ie(()=>{b(ye,"x",t(s).x),b(ye,"y",t(s).y-(t(s).fontSize||14)),b(ce,"id",`edit-${t(s).id}`),Aa(ce,`width: 100%; height: 100%; font-family: ui-monospace, 'Courier New', monospace; font-size: ${(t(s).fontSize||14)??""}px; border: 2px solid #ff5722; background: white; padding: 4px; resize: none; overflow: auto;`)}),Rt("blur",ce,St),Ie(ce,()=>t(s).text,we=>t(s).text=we),L(ae,ye)},Se=ae=>{const ye=Jt(()=>(t(s).text||"").split(`
`));var ce=ao();en(ce,21,()=>t(ye),mn,(we,K,Q)=>{var de=lo(),ke=A(de);ie(()=>{b(de,"x",t(s).x),b(de,"dy",Q===0?0:t(s).fontSize||14),$t(ke,t(K))}),L(we,de)}),ie(()=>{b(ce,"x",t(s).x),b(ce,"y",t(s).y),b(ce,"font-size",t(s).fontSize||14)}),L(ae,ce)};ee(O,ae=>{var ye;((ye=t(M))==null?void 0:ye.id)===t(s).id?ae($):ae(Se,!1)})}ie(ae=>Y=oe(Z,0,"element text-element svelte-ihemak",null,Y,ae),[()=>({selected:t(l).some(ae=>ae.id===t(s).id)})]),L(le,Z)};ee(X,le=>{t(s).type==="text"&&le(R)},!0)}L(fe,N)};ee(he,fe=>{t(s).type==="line"?fe(_e):fe(me,!1)},!0)}L(H,G)};ee(C,H=>{t(s).type==="circle"?H(U):H(re,!1)},!0)}L(x,w)};ee(_,x=>{t(s).type==="box"?x(v):x(y,!1)})}L(f,T)});var xi=g(pi,2);let mi;var rl=A(xi);{var il=f=>{var s=xn("Click: select â€¢ Ctrl/Cmd+Click: multi-select â€¢ Drag: move â€¢ Arrow keys: nudge 1px â€¢ Ctrl/Cmd+C: copy â€¢ Ctrl/Cmd+V: paste â€¢ Hold S: snap to grid (move/resize) â€¢ Hold Shift: boxâ†’square / lineâ†’angle-snap â€¢ Double-click: edit text");L(f,s)},sl=f=>{var s=_t(),m=Ce(s);{var T=v=>{var y=xn("Click anywhere to add a box â€¢ Hold Shift while resizing to force square â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");L(v,y)},_=v=>{var y=_t(),x=Ce(y);{var w=U=>{var re=xn("Click anywhere to add a circle â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");L(U,re)},C=U=>{var re=_t(),H=Ce(re);{var G=_e=>{var me=xn("Click anywhere to add text â€¢ Hold S while dragging to snap to grid â€¢ When editing: Enter creates line break");L(_e,me)},he=_e=>{var me=_t(),fe=Ce(me);{var N=X=>{var R=xn("Click anywhere to add a line (use Properties panel to add circle/arrow) â€¢ Hold S while dragging endpoints to snap to grid â€¢ When editing label: Enter creates line break");L(X,R)};ee(fe,X=>{t(a)==="line"&&X(N)},!0)}L(_e,me)};ee(H,_e=>{t(a)==="text"?_e(G):_e(he,!1)},!0)}L(U,re)};ee(x,U=>{t(a)==="circle"?U(w):U(C,!1)},!0)}L(v,y)};ee(m,v=>{t(a)==="box"?v(T):v(_,!1)},!0)}L(f,s)};ee(rl,f=>{t(a)==="select"?f(il):f(sl,!1)})}Na(Nt,f=>p(k,f),()=>t(k));var ll=g(Nt,2);{var al=f=>{var s=_o(),m=g(A(s),2);{var T=H=>{var G=fo();L(H,G)};ee(m,H=>{t(i).text!==void 0&&H(T)})}var _=g(m,2);{var v=H=>{var G=co(),he=Ce(G),_e=g(A(he)),me=g(he,2),fe=g(A(me)),N=g(me,2),X=g(A(N)),R=g(N,2),le=g(A(R)),Z=A(le);let Y;Z.__click=()=>t(i).bgColor="#000000";var O=g(Z,2);let $;O.__click=()=>t(i).bgColor="#ffffff";var Se=g(O,2);let ae;Se.__click=()=>t(i).bgColor="#ff5722";var ye=g(R,2),ce=g(A(ye)),we=A(ce);let K;we.__click=()=>t(i).textColor="#000000";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ffffff";var ke=g(Q,2);let je;ke.__click=()=>t(i).textColor="#ff5722";var Pt=g(ye,2),ht=A(Pt),Ze=g(Pt,2),mr=A(Ze);ie(()=>{Y=oe(Z,1,"color-btn svelte-ihemak",null,Y,{active:t(i).bgColor==="#000000"}),$=oe(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ffffff"}),ae=oe(Se,1,"color-btn svelte-ihemak",null,ae,{active:t(i).bgColor==="#ff5722"}),K=oe(we,1,"color-btn svelte-ihemak",null,K,{active:t(i).textColor==="#000000"}),de=oe(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ffffff"}),je=oe(ke,1,"color-btn svelte-ihemak",null,je,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).width,Je=>t(i).width=Je),Ie(fe,()=>t(i).height,Je=>t(i).height=Je),Ie(X,()=>t(i).fontSize,Je=>t(i).fontSize=Je),tn(ht,()=>t(i).shadow,Je=>t(i).shadow=Je),tn(mr,()=>t(i).dashed,Je=>t(i).dashed=Je),L(H,G)};ee(_,H=>{t(i).type==="box"&&H(v)})}var y=g(_,2);{var x=H=>{var G=uo(),he=Ce(G),_e=g(A(he)),me=g(he,2),fe=g(A(me)),N=g(me,2),X=g(A(N)),R=A(X);let le;R.__click=()=>t(i).bgColor="#000000";var Z=g(R,2);let Y;Z.__click=()=>t(i).bgColor="#ffffff";var O=g(Z,2);let $;O.__click=()=>t(i).bgColor="#ff5722";var Se=g(N,2),ae=g(A(Se)),ye=A(ae);let ce;ye.__click=()=>t(i).textColor="#000000";var we=g(ye,2);let K;we.__click=()=>t(i).textColor="#ffffff";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ff5722";var ke=g(Se,2),je=A(ke),Pt=g(ke,2),ht=A(Pt);ie(()=>{le=oe(R,1,"color-btn svelte-ihemak",null,le,{active:t(i).bgColor==="#000000"}),Y=oe(Z,1,"color-btn svelte-ihemak",null,Y,{active:t(i).bgColor==="#ffffff"}),$=oe(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ff5722"}),ce=oe(ye,1,"color-btn svelte-ihemak",null,ce,{active:t(i).textColor==="#000000"}),K=oe(we,1,"color-btn svelte-ihemak",null,K,{active:t(i).textColor==="#ffffff"}),de=oe(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).radius,Ze=>t(i).radius=Ze),Ie(fe,()=>t(i).fontSize,Ze=>t(i).fontSize=Ze),tn(je,()=>t(i).shadow,Ze=>t(i).shadow=Ze),tn(ht,()=>t(i).dashed,Ze=>t(i).dashed=Ze),L(H,G)};ee(y,H=>{t(i).type==="circle"&&H(x)})}var w=g(y,2);{var C=H=>{var G=vo(),he=g(A(G));Ie(he,()=>t(i).fontSize,_e=>t(i).fontSize=_e),L(H,G)};ee(w,H=>{t(i).type==="text"&&H(C)})}var U=g(w,2);{var re=H=>{var G=ho(),he=g(Ce(G),2),_e=g(A(he)),me=g(he,2),fe=A(me),N=g(me,2),X=A(N);Ie(_e,()=>t(i).labelSize,R=>t(i).labelSize=R),tn(fe,()=>t(i).hasCircle,R=>t(i).hasCircle=R),tn(X,()=>t(i).hasArrow,R=>t(i).hasArrow=R),L(H,G)};ee(U,H=>{t(i).type==="line"&&H(re)})}L(f,s)};ee(ll,f=>{t(i)&&f(al)})}var wi=g(Vr,2);wi.__click=()=>p(vt,!t(vt));var ol=g(wi,2);{var fl=f=>{var s=po();s.__click=()=>p(vt,!1);var m=A(s);m.__click=_=>_.stopPropagation();var T=A(m);T.__click=()=>p(vt,!1),L(f,s)};ee(ol,f=>{t(vt)&&f(fl)})}ie(f=>{Jr=oe(hr,1,"tool-btn svelte-ihemak",null,Jr,{active:t(a)==="select"}),$r=oe(_r,1,"tool-btn svelte-ihemak",null,$r,{active:t(a)==="box"}),Qr=oe(pr,1,"tool-btn svelte-ihemak",null,Qr,{active:t(a)==="circle"}),ei=oe(gr,1,"tool-btn svelte-ihemak",null,ei,{active:t(a)==="text"}),ni=oe(ti,1,"tool-btn svelte-ihemak",null,ni,{active:t(a)==="line"}),yr.disabled=!t(i),$t(Js,`Zoom: ${f??""}%`),hi=oe(br,1,"tool-btn svelte-ihemak",null,hi,{active:t(I)}),_i=oe(Nt,1,"canvas svelte-ihemak",null,_i,{"space-pressed":t(dt)&&!t(F),panning:t(F)}),b(xr,"width",t(z)),b(xr,"height",t(z)),b(tl,"d",`M ${t(z)??""} 0 L 0 0 0 ${t(z)??""}`),b(bi,"transform",`translate(${t(xe)??""}, ${t(se)??""}) scale(${t(j)??""})`),mi=oe(xi,1,"canvas-hint svelte-ihemak",null,mi,{"fade-out":!t(Et)})},[()=>Math.round(t(j)*100)]),Ie(qs,()=>t(E),f=>p(E,f)),Ie(el,()=>t(z),f=>p(z,f)),Rt("wheel",Nt,Bn),L(e,Kr),Ui()}ba(["click","change","mousedown","dblclick","keydown"]);function bo(e){yo(e,{})}ma(bo,{target:document.getElementById("app")});
