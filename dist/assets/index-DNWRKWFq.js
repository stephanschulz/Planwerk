var ol=Object.defineProperty;var xi=e=>{throw TypeError(e)};var fl=(e,n,r)=>n in e?ol(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var rt=(e,n,r)=>fl(e,typeof n!="symbol"?n+"":n,r),mr=(e,n,r)=>n.has(e)||xi("Cannot "+r);var h=(e,n,r)=>(mr(e,n,"read from private field"),r?r.call(e):n.get(e)),V=(e,n,r)=>n.has(e)?xi("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),P=(e,n,r,l)=>(mr(e,n,"write to private field"),l?l.call(e,r):n.set(e,r),r),pe=(e,n,r)=>(mr(e,n,"access private method"),r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Li=!1;var Ni=Array.isArray,cl=Array.prototype.indexOf,Lr=Array.from,ul=Object.defineProperty,wn=Object.getOwnPropertyDescriptor,dl=Object.getOwnPropertyDescriptors,vl=Object.prototype,hl=Array.prototype,Pi=Object.getPrototypeOf,mi=Object.isExtensible;function _l(e){for(var n=0;n<e.length;n++)e[n]()}function Ri(){var e,n,r=new Promise((l,i)=>{e=l,n=i});return{promise:r,resolve:e,reject:n}}const Oe=2,nr=4,Nr=8,mt=16,wt=32,Zt=64,rr=128,et=512,Ae=1024,Ye=2048,kt=4096,Be=8192,jt=16384,Pr=32768,cn=65536,wi=1<<17,Yi=1<<18,_n=1<<19,pl=1<<20,Sn=32768,Sr=1<<21,Rr=1<<22,At=1<<23,Un=Symbol("$state"),gl=Symbol(""),rn=new class extends Error{constructor(){super(...arguments);rt(this,"name","StaleReactionError");rt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function yl(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ml(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function kl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function El(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ml(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ir=1,sr=2,Ii=4,Dl=8,Al=16,Xi=1,Tl=2,Me=Symbol(),Ol="http://www.w3.org/1999/xhtml";function zl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ll=!1;function Hi(e){return e===this.v}function Nl(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Bi(e){return!Nl(e,this.v)}let On=!1,Pl=!1;function Rl(){On=!0}let be=null;function un(e){be=e}function Fi(e,n=!1,r){be={p:be,i:!1,c:null,e:null,s:e,x:null,l:On&&!n?{s:null,u:null,$:[]}:null}}function Wi(e){var n=be,r=n.e;if(r!==null){n.e=null;for(var l of r)os(l)}return n.i=!0,be=n.p,{}}function zn(){return!On||be!==null&&be.l===null}let Xt=[];function qi(){var e=Xt;Xt=[],_l(e)}function pn(e){if(Xt.length===0&&!kn){var n=Xt;queueMicrotask(()=>{n===Xt&&qi()})}Xt.push(e)}function Yl(){for(;Xt.length>0;)qi()}function ji(e){var n=J;if(n===null)return W.f|=At,e;if(n.f&Pr)dn(e,n);else{if(!(n.f&rr))throw e;n.b.error(e)}}function dn(e,n){for(;n!==null;){if(n.f&rr)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const jn=new Set;let ne=null,Kn=null,ge=null,ft=[],lr=null,Cr=!1,kn=!1;var ln,an,Ht,Bt,Dn,on,fn,De,Mr,It,Ui,Ki;const Qn=class Qn{constructor(){V(this,De);rt(this,"committed",!1);rt(this,"current",new Map);rt(this,"previous",new Map);V(this,ln,new Set);V(this,an,new Set);V(this,Ht,0);V(this,Bt,0);V(this,Dn,null);V(this,on,[]);V(this,fn,[]);rt(this,"skipped_effects",new Set);rt(this,"is_fork",!1)}process(n){var l;ft=[],Kn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of n)pe(this,De,Mr).call(this,i,r);this.is_fork||pe(this,De,Ui).call(this),h(this,Bt)>0||this.is_fork?(pe(this,De,It).call(this,r.effects),pe(this,De,It).call(this,r.render_effects),pe(this,De,It).call(this,r.block_effects)):(Kn=this,ne=null,ki(r.render_effects),ki(r.effects),Kn=null,(l=h(this,Dn))==null||l.resolve()),ge=null}capture(n,r){this.previous.has(n)||this.previous.set(n,r),n.f&At||(this.current.set(n,n.v),ge==null||ge.set(n,n.v))}activate(){ne=this,this.apply()}deactivate(){ne=null,ge=null}flush(){if(this.activate(),ft.length>0){if(Vi(),ne!==null&&ne!==this)return}else h(this,Ht)===0&&this.process([]);this.deactivate()}discard(){for(const n of h(this,an))n(this);h(this,an).clear()}increment(n){P(this,Ht,h(this,Ht)+1),n&&P(this,Bt,h(this,Bt)+1)}decrement(n){P(this,Ht,h(this,Ht)-1),n&&P(this,Bt,h(this,Bt)-1),this.revive()}revive(){for(const n of h(this,on))Te(n,Ye),Vt(n);for(const n of h(this,fn))Te(n,kt),Vt(n);P(this,on,[]),P(this,fn,[]),this.flush()}oncommit(n){h(this,ln).add(n)}ondiscard(n){h(this,an).add(n)}settled(){return(h(this,Dn)??P(this,Dn,Ri())).promise}static ensure(){if(ne===null){const n=ne=new Qn;jn.add(ne),kn||Qn.enqueue(()=>{ne===n&&n.flush()})}return ne}static enqueue(n){pn(n)}apply(){}};ln=new WeakMap,an=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,Dn=new WeakMap,on=new WeakMap,fn=new WeakMap,De=new WeakSet,Mr=function(n,r){var k;n.f^=Ae;for(var l=n.first;l!==null;){var i=l.f,a=(i&(wt|Zt))!==0,o=a&&(i&Ae)!==0,u=o||(i&Be)!==0||this.skipped_effects.has(l);if(l.f&rr&&((k=l.b)!=null&&k.is_pending())&&(r={parent:r,effect:l,effects:[],render_effects:[],block_effects:[]}),!u&&l.fn!==null){a?l.f^=Ae:i&nr?r.effects.push(l):Nn(l)&&(l.f&mt&&r.block_effects.push(l),Mn(l));var c=l.first;if(c!==null){l=c;continue}}var d=l.parent;for(l=l.next;l===null&&d!==null;)d===r.effect&&(pe(this,De,It).call(this,r.effects),pe(this,De,It).call(this,r.render_effects),pe(this,De,It).call(this,r.block_effects),r=r.parent),l=d.next,d=d.parent}},It=function(n){for(const r of n)(r.f&Ye?h(this,on):h(this,fn)).push(r),Te(r,Ae)},Ui=function(){if(h(this,Bt)===0){for(const n of h(this,ln))n();h(this,ln).clear()}h(this,Ht)===0&&pe(this,De,Ki).call(this)},Ki=function(){var i;if(jn.size>1){this.previous.clear();var n=ge,r=!0,l={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of jn){if(a===this){r=!1;continue}const o=[];for(const[c,d]of this.current){if(a.current.has(c))if(r&&d!==a.current.get(c))a.current.set(c,d);else continue;o.push(c)}if(o.length===0)continue;const u=[...a.current.keys()].filter(c=>!this.current.has(c));if(u.length>0){const c=new Set,d=new Map;for(const k of o)Gi(k,u,c,d);if(ft.length>0){ne=a,a.apply();for(const k of ft)pe(i=a,De,Mr).call(i,k,l);ft=[],a.deactivate()}}}ne=null,ge=n}this.committed=!0,jn.delete(this)};let bt=Qn;function Il(e){var n=kn;kn=!0;try{for(var r;;){if(Yl(),ft.length===0&&(ne==null||ne.flush(),ft.length===0))return lr=null,r;Vi()}}finally{kn=n}}function Vi(){var e=Ut;Cr=!0;try{var n=0;for(Si(!0);ft.length>0;){var r=bt.ensure();if(n++>1e3){var l,i;Xl()}r.process(ft),Tt.clear()}}finally{Cr=!1,Si(e),lr=null}}function Xl(){try{kl()}catch(e){dn(e,lr)}}let Je=null;function ki(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var l=e[r++];if(!(l.f&(jt|Be))&&Nn(l)&&(Je=new Set,Mn(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?us(l):l.fn=null),(Je==null?void 0:Je.size)>0)){Tt.clear();for(const i of Je){if(i.f&(jt|Be))continue;const a=[i];let o=i.parent;for(;o!==null;)Je.has(o)&&(Je.delete(o),a.push(o)),o=o.parent;for(let u=a.length-1;u>=0;u--){const c=a[u];c.f&(jt|Be)||Mn(c)}}Je.clear()}}Je=null}}function Gi(e,n,r,l){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;a&Oe?Gi(i,n,r,l):a&(Rr|mt)&&!(a&Ye)&&Zi(i,n,l)&&(Te(i,Ye),Vt(i))}}function Zi(e,n,r){const l=r.get(e);if(l!==void 0)return l;if(e.deps!==null)for(const i of e.deps){if(n.includes(i))return!0;if(i.f&Oe&&Zi(i,n,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function Vt(e){for(var n=lr=e;n.parent!==null;){n=n.parent;var r=n.f;if(Cr&&n===J&&r&mt&&!(r&Yi))return;if(r&(Zt|wt)){if(!(r&Ae))return;n.f^=Ae}}ft.push(n)}function Hl(e){let n=0,r=Gt(0),l;return()=>{or()&&(t(r),fr(()=>(n===0&&(l=Pn(()=>e(()=>En(r)))),n+=1,()=>{pn(()=>{n-=1,n===0&&(l==null||l(),l=void 0,En(r))})})))}}var Bl=cn|_n|rr;function Fl(e,n,r){new Wl(e,n,r)}var Ue,Ke,zr,st,Ft,lt,Ve,Pe,at,gt,Ct,Wt,Mt,qt,Dt,er,Ee,ql,jl,Dr,Vn,Gn,Ar;class Wl{constructor(n,r,l){V(this,Ee);rt(this,"parent");V(this,Ue,!1);V(this,Ke);V(this,zr,null);V(this,st);V(this,Ft);V(this,lt);V(this,Ve,null);V(this,Pe,null);V(this,at,null);V(this,gt,null);V(this,Ct,null);V(this,Wt,0);V(this,Mt,0);V(this,qt,!1);V(this,Dt,null);V(this,er,Hl(()=>(P(this,Dt,Gt(h(this,Wt))),()=>{P(this,Dt,null)})));P(this,Ke,n),P(this,st,r),P(this,Ft,l),this.parent=J.b,P(this,Ue,!!h(this,st).pending),P(this,lt,Xr(()=>{J.b=this;{var i=pe(this,Ee,Dr).call(this);try{P(this,Ve,Qe(()=>l(i)))}catch(a){this.error(a)}h(this,Mt)>0?pe(this,Ee,Gn).call(this):P(this,Ue,!1)}return()=>{var a;(a=h(this,Ct))==null||a.remove()}},Bl))}is_pending(){return h(this,Ue)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!h(this,st).pending}update_pending_count(n){pe(this,Ee,Ar).call(this,n),P(this,Wt,h(this,Wt)+n),h(this,Dt)&&vn(h(this,Dt),h(this,Wt))}get_effect_pending(){return h(this,er).call(this),t(h(this,Dt))}error(n){var r=h(this,st).onerror;let l=h(this,st).failed;if(h(this,qt)||!r&&!l)throw n;h(this,Ve)&&(Le(h(this,Ve)),P(this,Ve,null)),h(this,Pe)&&(Le(h(this,Pe)),P(this,Pe,null)),h(this,at)&&(Le(h(this,at)),P(this,at,null));var i=!1,a=!1;const o=()=>{if(i){zl();return}i=!0,a&&Ml(),bt.ensure(),P(this,Wt,0),h(this,at)!==null&&sn(h(this,at),()=>{P(this,at,null)}),P(this,Ue,this.has_pending_snippet()),P(this,Ve,pe(this,Ee,Vn).call(this,()=>(P(this,qt,!1),Qe(()=>h(this,Ft).call(this,h(this,Ke)))))),h(this,Mt)>0?pe(this,Ee,Gn).call(this):P(this,Ue,!1)};var u=W;try{Re(null),a=!0,r==null||r(n,o),a=!1}catch(c){dn(c,h(this,lt)&&h(this,lt).parent)}finally{Re(u)}l&&pn(()=>{P(this,at,pe(this,Ee,Vn).call(this,()=>{bt.ensure(),P(this,qt,!0);try{return Qe(()=>{l(h(this,Ke),()=>n,()=>o)})}catch(c){return dn(c,h(this,lt).parent),null}finally{P(this,qt,!1)}}))})}}Ue=new WeakMap,Ke=new WeakMap,zr=new WeakMap,st=new WeakMap,Ft=new WeakMap,lt=new WeakMap,Ve=new WeakMap,Pe=new WeakMap,at=new WeakMap,gt=new WeakMap,Ct=new WeakMap,Wt=new WeakMap,Mt=new WeakMap,qt=new WeakMap,Dt=new WeakMap,er=new WeakMap,Ee=new WeakSet,ql=function(){try{P(this,Ve,Qe(()=>h(this,Ft).call(this,h(this,Ke))))}catch(n){this.error(n)}P(this,Ue,!1)},jl=function(){const n=h(this,st).pending;n&&(P(this,Pe,Qe(()=>n(h(this,Ke)))),bt.enqueue(()=>{var r=pe(this,Ee,Dr).call(this);P(this,Ve,pe(this,Ee,Vn).call(this,()=>(bt.ensure(),Qe(()=>h(this,Ft).call(this,r))))),h(this,Mt)>0?pe(this,Ee,Gn).call(this):(sn(h(this,Pe),()=>{P(this,Pe,null)}),P(this,Ue,!1))}))},Dr=function(){var n=h(this,Ke);return h(this,Ue)&&(P(this,Ct,Ot()),h(this,Ke).before(h(this,Ct)),n=h(this,Ct)),n},Vn=function(n){var r=J,l=W,i=be;ut(h(this,lt)),Re(h(this,lt)),un(h(this,lt).ctx);try{return n()}catch(a){return ji(a),null}finally{ut(r),Re(l),un(i)}},Gn=function(){const n=h(this,st).pending;h(this,Ve)!==null&&(P(this,gt,document.createDocumentFragment()),h(this,gt).append(h(this,Ct)),hs(h(this,Ve),h(this,gt))),h(this,Pe)===null&&P(this,Pe,Qe(()=>n(h(this,Ke))))},Ar=function(n){var r;if(!this.has_pending_snippet()){this.parent&&pe(r=this.parent,Ee,Ar).call(r,n);return}P(this,Mt,h(this,Mt)+n),h(this,Mt)===0&&(P(this,Ue,!1),h(this,Pe)&&sn(h(this,Pe),()=>{P(this,Pe,null)}),h(this,gt)&&(h(this,Ke).before(h(this,gt)),P(this,gt,null)))};function Ul(e,n,r,l){const i=zn()?Yr:Ji;if(r.length===0&&e.length===0){l(n.map(i));return}var a=ne,o=J,u=Kl();function c(){Promise.all(r.map(d=>Vl(d))).then(d=>{u();try{l([...n.map(i),...d])}catch(k){o.f&jt||dn(k,o)}a==null||a.deactivate(),Zn()}).catch(d=>{dn(d,o)})}e.length>0?Promise.all(e).then(()=>{u();try{return c()}finally{a==null||a.deactivate(),Zn()}}):c()}function Kl(){var e=J,n=W,r=be,l=ne;return function(a=!0){ut(e),Re(n),un(r),a&&(l==null||l.activate())}}function Zn(){ut(null),Re(null),un(null)}function Yr(e){var n=Oe|Ye,r=W!==null&&W.f&Oe?W:null;return J!==null&&(J.f|=_n),{ctx:be,deps:null,effects:null,equals:Hi,f:n,fn:e,reactions:null,rv:0,v:Me,wv:0,parent:r??J,ac:null}}function Vl(e,n){let r=J;r===null&&bl();var l=r.b,i=void 0,a=Gt(Me),o=!W,u=new Map;return la(()=>{var S;var c=Ri();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===ne&&d.committed&&d.deactivate(),Zn()})}catch(D){c.reject(D),Zn()}var d=ne;if(o){var k=!l.is_pending();l.update_pending_count(1),d.increment(k),(S=u.get(d))==null||S.reject(rn),u.delete(d),u.set(d,c)}const M=(D,E=void 0)=>{if(d.activate(),E)E!==rn&&(a.f|=At,vn(a,E));else{a.f&At&&(a.f^=At),vn(a,D);for(const[I,z]of u){if(u.delete(I),I===d)break;z.reject(rn)}}o&&(l.update_pending_count(-1),d.decrement(k))};c.promise.then(M,D=>M(null,D||"unknown"))}),as(()=>{for(const c of u.values())c.reject(rn)}),new Promise(c=>{function d(k){function M(){k===i?c(a):d(i)}k.then(M,M)}d(i)})}function $t(e){const n=Yr(e);return _s(n),n}function Ji(e){const n=Yr(e);return n.equals=Bi,n}function $i(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Le(n[r])}}function Gl(e){for(var n=e.parent;n!==null;){if(!(n.f&Oe))return n;n=n.parent}return null}function Ir(e){var n,r=J;ut(Gl(e));try{e.f&=~Sn,$i(e),n=bs(e)}finally{ut(r)}return n}function Qi(e){var n=Ir(e);if(e.equals(n)||(e.v=n,e.wv=gs()),!gn)if(ge!==null)or()&&ge.set(e,e.v);else{var r=e.f&et?Ae:kt;Te(e,r)}}let Tr=new Set;const Tt=new Map;let es=!1;function Gt(e,n){var r={f:0,v:e,reactions:null,equals:Hi,rv:0,wv:0};return r}function j(e,n){const r=Gt(e);return _s(r),r}function Zl(e,n=!1,r=!0){var i;const l=Gt(e);return n||(l.equals=Bi),On&&r&&be!==null&&be.l!==null&&((i=be.l).s??(i.s=[])).push(l),l}function p(e,n,r=!1){W!==null&&(!ct||W.f&wi)&&zn()&&W.f&(Oe|mt|Rr|wi)&&!(Ne!=null&&Ne.includes(e))&&Cl();let l=r?xt(n):n;return vn(e,l)}function vn(e,n){if(!e.equals(n)){var r=e.v;gn?Tt.set(e,n):Tt.set(e,r),e.v=n;var l=bt.ensure();l.capture(e,r),e.f&Oe&&(e.f&Ye&&Ir(e),Te(e,e.f&et?Ae:kt)),e.wv=gs(),ts(e,Ye),zn()&&J!==null&&J.f&Ae&&!(J.f&(wt|Zt))&&(je===null?fa([e]):je.push(e)),!l.is_fork&&Tr.size>0&&!es&&Jl()}return n}function Jl(){es=!1;const e=Array.from(Tr);for(const n of e)n.f&Ae&&Te(n,kt),Nn(n)&&Mn(n);Tr.clear()}function En(e){p(e,e.v+1)}function ts(e,n){var r=e.reactions;if(r!==null)for(var l=zn(),i=r.length,a=0;a<i;a++){var o=r[a],u=o.f;if(!(!l&&o===J)){var c=(u&Ye)===0;if(c&&Te(o,n),u&Oe){var d=o;ge==null||ge.delete(d),u&Sn||(u&et&&(o.f|=Sn),ts(d,kt))}else c&&(u&mt&&Je!==null&&Je.add(o),Vt(o))}}}function xt(e){if(typeof e!="object"||e===null||Un in e)return e;const n=Pi(e);if(n!==vl&&n!==hl)return e;var r=new Map,l=Ni(e),i=j(0),a=Kt,o=u=>{if(Kt===a)return u();var c=W,d=Kt;Re(null),Mi(a);var k=u();return Re(c),Mi(d),k};return l&&r.set("length",j(e.length)),new Proxy(e,{defineProperty(u,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&El();var k=r.get(c);return k===void 0?k=o(()=>{var M=j(d.value);return r.set(c,M),M}):p(k,d.value,!0),!0},deleteProperty(u,c){var d=r.get(c);if(d===void 0){if(c in u){const k=o(()=>j(Me));r.set(c,k),En(i)}}else p(d,Me),En(i);return!0},get(u,c,d){var D;if(c===Un)return e;var k=r.get(c),M=c in u;if(k===void 0&&(!M||(D=wn(u,c))!=null&&D.writable)&&(k=o(()=>{var E=xt(M?u[c]:Me),I=j(E);return I}),r.set(c,k)),k!==void 0){var S=t(k);return S===Me?void 0:S}return Reflect.get(u,c,d)},getOwnPropertyDescriptor(u,c){var d=Reflect.getOwnPropertyDescriptor(u,c);if(d&&"value"in d){var k=r.get(c);k&&(d.value=t(k))}else if(d===void 0){var M=r.get(c),S=M==null?void 0:M.v;if(M!==void 0&&S!==Me)return{enumerable:!0,configurable:!0,value:S,writable:!0}}return d},has(u,c){var S;if(c===Un)return!0;var d=r.get(c),k=d!==void 0&&d.v!==Me||Reflect.has(u,c);if(d!==void 0||J!==null&&(!k||(S=wn(u,c))!=null&&S.writable)){d===void 0&&(d=o(()=>{var D=k?xt(u[c]):Me,E=j(D);return E}),r.set(c,d));var M=t(d);if(M===Me)return!1}return k},set(u,c,d,k){var q;var M=r.get(c),S=c in u;if(l&&c==="length")for(var D=d;D<M.v;D+=1){var E=r.get(D+"");E!==void 0?p(E,Me):D in u&&(E=o(()=>j(Me)),r.set(D+"",E))}if(M===void 0)(!S||(q=wn(u,c))!=null&&q.writable)&&(M=o(()=>j(void 0)),p(M,xt(d)),r.set(c,M));else{S=M.v!==Me;var I=o(()=>xt(d));p(M,I)}var z=Reflect.getOwnPropertyDescriptor(u,c);if(z!=null&&z.set&&z.set.call(k,d),!S){if(l&&typeof c=="string"){var B=r.get("length"),ve=Number(c);Number.isInteger(ve)&&ve>=B.v&&p(B,ve+1)}En(i)}return!0},ownKeys(u){t(i);var c=Reflect.ownKeys(u).filter(M=>{var S=r.get(M);return S===void 0||S.v!==Me});for(var[d,k]of r)k.v!==Me&&!(d in u)&&c.push(d);return c},setPrototypeOf(){Sl()}})}var Jn,ns,rs,is;function $l(){if(Jn===void 0){Jn=window,ns=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;rs=wn(n,"firstChild").get,is=wn(n,"nextSibling").get,mi(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),mi(r)&&(r.__t=void 0)}}function Ot(e=""){return document.createTextNode(e)}function yt(e){return rs.call(e)}function Ln(e){return is.call(e)}function A(e,n){return yt(e)}function Ce(e,n=!1){{var r=yt(e);return r instanceof Comment&&r.data===""?Ln(r):r}}function g(e,n=1,r=!1){let l=e;for(;n--;)l=Ln(l);return l}function Ql(e){e.textContent=""}function ss(){return!1}let Ei=!1;function ea(){Ei||(Ei=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const r of e.target.elements)(n=r.__on_r)==null||n.call(r)})},{capture:!0}))}function ar(e){var n=W,r=J;Re(null),ut(null);try{return e()}finally{Re(n),ut(r)}}function ls(e,n,r,l=r){e.addEventListener(n,()=>ar(r));const i=e.__on_r;i?e.__on_r=()=>{i(),l(!0)}:e.__on_r=()=>l(!0),ea()}function ta(e){J===null&&(W===null&&wl(),ml()),gn&&xl()}function na(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function Et(e,n,r,l=!0){var i=J;i!==null&&i.f&Be&&(e|=Be);var a={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:e|Ye|et,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Mn(a),a.f|=Pr}catch(c){throw Le(a),c}else n!==null&&Vt(a);if(l){var o=a;if(r&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&_n)&&(o=o.first,e&mt&&e&cn&&o!==null&&(o.f|=cn)),o!==null&&(o.parent=i,i!==null&&na(o,i),W!==null&&W.f&Oe&&!(e&Zt))){var u=W;(u.effects??(u.effects=[])).push(o)}}return a}function or(){return W!==null&&!ct}function as(e){const n=Et(Nr,null,!1);return Te(n,Ae),n.teardown=e,n}function ra(e){ta();var n=J.f,r=!W&&(n&wt)!==0&&(n&Pr)===0;if(r){var l=be;(l.e??(l.e=[])).push(e)}else return os(e)}function os(e){return Et(nr|pl,e,!1)}function ia(e){bt.ensure();const n=Et(Zt|_n,e,!0);return(r={})=>new Promise(l=>{r.outro?sn(n,()=>{Le(n),l(void 0)}):(Le(n),l(void 0))})}function sa(e){return Et(nr,e,!1)}function la(e){return Et(Rr|_n,e,!0)}function fr(e,n=0){return Et(Nr|n,e,!0)}function ie(e,n=[],r=[],l=[],i=!1){Ul(l,n,r,a=>{Et(i?nr:Nr,()=>e(...a.map(t)),!0)})}function Xr(e,n=0){var r=Et(mt|n,e,!0);return r}function Qe(e,n=!0){return Et(wt|_n,e,!0,n)}function fs(e){var n=e.teardown;if(n!==null){const r=gn,l=W;Ci(!0),Re(null);try{n.call(null)}finally{Ci(r),Re(l)}}}function cs(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&ar(()=>{i.abort(rn)});var l=r.next;r.f&Zt?r.parent=null:Le(r,n),r=l}}function aa(e){for(var n=e.first;n!==null;){var r=n.next;n.f&wt||Le(n),n=r}}function Le(e,n=!0){var r=!1;(n||e.f&Yi)&&e.nodes_start!==null&&e.nodes_end!==null&&(oa(e.nodes_start,e.nodes_end),r=!0),cs(e,n&&!r),$n(e,0),Te(e,jt);var l=e.transitions;if(l!==null)for(const a of l)a.stop();fs(e);var i=e.parent;i!==null&&i.first!==null&&us(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function oa(e,n){for(;e!==null;){var r=e===n?null:Ln(e);e.remove(),e=r}}function us(e){var n=e.parent,r=e.prev,l=e.next;r!==null&&(r.next=l),l!==null&&(l.prev=r),n!==null&&(n.first===e&&(n.first=l),n.last===e&&(n.last=r))}function sn(e,n,r=!0){var l=[];Hr(e,l,!0),ds(l,()=>{r&&Le(e),n&&n()})}function ds(e,n){var r=e.length;if(r>0){var l=()=>--r||n();for(var i of e)i.out(l)}else n()}function Hr(e,n,r){if(!(e.f&Be)){if(e.f^=Be,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&n.push(o);for(var l=e.first;l!==null;){var i=l.next,a=(l.f&cn)!==0||(l.f&wt)!==0&&(e.f&mt)!==0;Hr(l,n,a?r:!1),l=i}}}function Br(e){vs(e,!0)}function vs(e,n){if(e.f&Be){e.f^=Be,e.f&Ae||(Te(e,Ye),Vt(e));for(var r=e.first;r!==null;){var l=r.next,i=(r.f&cn)!==0||(r.f&wt)!==0;vs(r,i?n:!1),r=l}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}function hs(e,n){for(var r=e.nodes_start,l=e.nodes_end;r!==null;){var i=r===l?null:Ln(r);n.append(r),r=i}}let Ut=!1;function Si(e){Ut=e}let gn=!1;function Ci(e){gn=e}let W=null,ct=!1;function Re(e){W=e}let J=null;function ut(e){J=e}let Ne=null;function _s(e){W!==null&&(Ne===null?Ne=[e]:Ne.push(e))}let ze=null,Xe=0,je=null;function fa(e){je=e}let ps=1,Cn=0,Kt=Cn;function Mi(e){Kt=e}function gs(){return++ps}function Nn(e){var n=e.f;if(n&Ye)return!0;if(n&Oe&&(e.f&=~Sn),n&kt){var r=e.deps;if(r!==null)for(var l=r.length,i=0;i<l;i++){var a=r[i];if(Nn(a)&&Qi(a),a.wv>e.wv)return!0}n&et&&ge===null&&Te(e,Ae)}return!1}function ys(e,n,r=!0){var l=e.reactions;if(l!==null&&!(Ne!=null&&Ne.includes(e)))for(var i=0;i<l.length;i++){var a=l[i];a.f&Oe?ys(a,n,!1):n===a&&(r?Te(a,Ye):a.f&Ae&&Te(a,kt),Vt(a))}}function bs(e){var E;var n=ze,r=Xe,l=je,i=W,a=Ne,o=be,u=ct,c=Kt,d=e.f;ze=null,Xe=0,je=null,W=d&(wt|Zt)?null:e,Ne=null,un(e.ctx),ct=!1,Kt=++Cn,e.ac!==null&&(ar(()=>{e.ac.abort(rn)}),e.ac=null);try{e.f|=Sr;var k=e.fn,M=k(),S=e.deps;if(ze!==null){var D;if($n(e,Xe),S!==null&&Xe>0)for(S.length=Xe+ze.length,D=0;D<ze.length;D++)S[Xe+D]=ze[D];else e.deps=S=ze;if(Ut&&or()&&e.f&et)for(D=Xe;D<S.length;D++)((E=S[D]).reactions??(E.reactions=[])).push(e)}else S!==null&&Xe<S.length&&($n(e,Xe),S.length=Xe);if(zn()&&je!==null&&!ct&&S!==null&&!(e.f&(Oe|kt|Ye)))for(D=0;D<je.length;D++)ys(je[D],e);return i!==null&&i!==e&&(Cn++,je!==null&&(l===null?l=je:l.push(...je))),e.f&At&&(e.f^=At),M}catch(I){return ji(I)}finally{e.f^=Sr,ze=n,Xe=r,je=l,W=i,Ne=a,un(o),ct=u,Kt=c}}function ca(e,n){let r=n.reactions;if(r!==null){var l=cl.call(r,e);if(l!==-1){var i=r.length-1;i===0?r=n.reactions=null:(r[l]=r[i],r.pop())}}r===null&&n.f&Oe&&(ze===null||!ze.includes(n))&&(Te(n,kt),n.f&et&&(n.f^=et,n.f&=~Sn),$i(n),$n(n,0))}function $n(e,n){var r=e.deps;if(r!==null)for(var l=n;l<r.length;l++)ca(e,r[l])}function Mn(e){var n=e.f;if(!(n&jt)){Te(e,Ae);var r=J,l=Ut;J=e,Ut=!0;try{n&mt?aa(e):cs(e),fs(e);var i=bs(e);e.teardown=typeof i=="function"?i:null,e.wv=ps;var a;Li&&Pl&&e.f&Ye&&e.deps}finally{Ut=l,J=r}}}async function ua(){await Promise.resolve(),Il()}function t(e){var n=e.f,r=(n&Oe)!==0;if(W!==null&&!ct){var l=J!==null&&(J.f&jt)!==0;if(!l&&!(Ne!=null&&Ne.includes(e))){var i=W.deps;if(W.f&Sr)e.rv<Cn&&(e.rv=Cn,ze===null&&i!==null&&i[Xe]===e?Xe++:ze===null?ze=[e]:ze.includes(e)||ze.push(e));else{(W.deps??(W.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[W]:a.includes(W)||a.push(W)}}}if(gn){if(Tt.has(e))return Tt.get(e);if(r){var o=e,u=o.v;return(!(o.f&Ae)&&o.reactions!==null||ms(o))&&(u=Ir(o)),Tt.set(o,u),u}}else if(r){if(o=e,ge!=null&&ge.has(o))return ge.get(o);Nn(o)&&Qi(o),Ut&&or()&&!(o.f&et)&&xs(o)}else if(ge!=null&&ge.has(e))return ge.get(e);if(e.f&At)throw e.v;return e.v}function xs(e){if(e.deps!==null){e.f^=et;for(const n of e.deps)(n.reactions??(n.reactions=[])).push(e),n.f&Oe&&!(n.f&et)&&xs(n)}}function ms(e){if(e.v===Me)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(Tt.has(n)||n.f&Oe&&ms(n))return!0;return!1}function Pn(e){var n=ct;try{return ct=!0,e()}finally{ct=n}}const da=-7169;function Te(e,n){e.f=e.f&da|n}const va=["touchstart","touchmove"];function ha(e){return va.includes(e)}const ws=new Set,Or=new Set;function _a(e,n,r,l={}){function i(a){if(l.capture||mn.call(n,a),!a.cancelBubble)return ar(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pn(()=>{n.addEventListener(e,i,l)}):n.addEventListener(e,i,l),i}function Yt(e,n,r,l,i){var a={capture:l,passive:i},o=_a(e,n,r,a);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&as(()=>{n.removeEventListener(e,o,a)})}function pa(e){for(var n=0;n<e.length;n++)ws.add(e[n]);for(var r of Or)r(e)}let Di=null;function mn(e){var z;var n=this,r=n.ownerDocument,l=e.type,i=((z=e.composedPath)==null?void 0:z.call(e))||[],a=i[0]||e.target;Di=e;var o=0,u=Di===e&&e.__root;if(u){var c=i.indexOf(u);if(c!==-1&&(n===document||n===window)){e.__root=n;return}var d=i.indexOf(n);if(d===-1)return;c<=d&&(o=c)}if(a=i[o]||e.target,a!==n){ul(e,"currentTarget",{configurable:!0,get(){return a||r}});var k=W,M=J;Re(null),ut(null);try{for(var S,D=[];a!==null;){var E=a.assignedSlot||a.parentNode||a.host||null;try{var I=a["__"+l];I!=null&&(!a.disabled||e.target===a)&&I.call(a,e)}catch(B){S?D.push(B):S=B}if(e.cancelBubble||E===n||E===null)break;a=E}if(S){for(let B of D)queueMicrotask(()=>{throw B});throw S}}finally{e.__root=n,delete e.currentTarget,Re(k),ut(M)}}}function ks(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function hn(e,n){var r=J;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=n)}function dt(e,n){var r=(n&Xi)!==0,l=(n&Tl)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=ks(a?e:"<!>"+e),r||(i=yt(i)));var o=l||ns?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=yt(o),c=o.lastChild;hn(u,c)}else hn(o,o);return o}}function ga(e,n,r="svg"){var l=!e.startsWith("<!>"),i=(n&Xi)!==0,a=`<${r}>${l?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var u=ks(a),c=yt(u);if(i)for(o=document.createDocumentFragment();yt(c);)o.appendChild(yt(c));else o=yt(c)}var d=o.cloneNode(!0);if(i){var k=yt(d),M=d.lastChild;hn(k,M)}else hn(d,d);return d}}function ue(e,n){return ga(e,n,"svg")}function bn(e=""){{var n=Ot(e+"");return hn(n,n),n}}function pt(){var e=document.createDocumentFragment(),n=document.createComment(""),r=Ot();return e.append(n,r),hn(n,r),e}function L(e,n){e!==null&&e.before(n)}function Qt(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ya(e,n){return ba(e,n)}const en=new Map;function ba(e,{target:n,anchor:r,props:l={},events:i,context:a,intro:o=!0}){$l();var u=new Set,c=M=>{for(var S=0;S<M.length;S++){var D=M[S];if(!u.has(D)){u.add(D);var E=ha(D);n.addEventListener(D,mn,{passive:E});var I=en.get(D);I===void 0?(document.addEventListener(D,mn,{passive:E}),en.set(D,1)):en.set(D,I+1)}}};c(Lr(ws)),Or.add(c);var d=void 0,k=ia(()=>{var M=r??n.appendChild(Ot());return Fl(M,{pending:()=>{}},S=>{if(a){Fi({});var D=be;D.c=a}i&&(l.$$events=i),d=e(S,l)||{},a&&Wi()}),()=>{var E;for(var S of u){n.removeEventListener(S,mn);var D=en.get(S);--D===0?(document.removeEventListener(S,mn),en.delete(S)):en.set(S,D)}Or.delete(c),M!==r&&((E=M.parentNode)==null||E.removeChild(M))}});return xa.set(d,k),d}let xa=new WeakMap;var $e,ot,He,An,Tn,tr;class ma{constructor(n,r=!0){rt(this,"anchor");V(this,$e,new Map);V(this,ot,new Map);V(this,He,new Map);V(this,An,!0);V(this,Tn,()=>{var n=ne;if(h(this,$e).has(n)){var r=h(this,$e).get(n),l=h(this,ot).get(r);if(l)Br(l);else{var i=h(this,He).get(r);i&&(h(this,ot).set(r,i.effect),h(this,He).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),l=i.effect)}for(const[a,o]of h(this,$e)){if(h(this,$e).delete(a),a===n)break;const u=h(this,He).get(o);u&&(Le(u.effect),h(this,He).delete(o))}for(const[a,o]of h(this,ot)){if(a===r)continue;const u=()=>{if(Array.from(h(this,$e).values()).includes(a)){var d=document.createDocumentFragment();hs(o,d),d.append(Ot()),h(this,He).set(a,{effect:o,fragment:d})}else Le(o);h(this,ot).delete(a)};h(this,An)||!l?sn(o,u,!1):u()}}});V(this,tr,n=>{h(this,$e).delete(n);const r=Array.from(h(this,$e).values());for(const[l,i]of h(this,He))r.includes(l)||(Le(i.effect),h(this,He).delete(l))});this.anchor=n,P(this,An,r)}ensure(n,r){var l=ne,i=ss();if(r&&!h(this,ot).has(n)&&!h(this,He).has(n))if(i){var a=document.createDocumentFragment(),o=Ot();a.append(o),h(this,He).set(n,{effect:Qe(()=>r(o)),fragment:a})}else h(this,ot).set(n,Qe(()=>r(this.anchor)));if(h(this,$e).set(l,n),i){for(const[u,c]of h(this,ot))u===n?l.skipped_effects.delete(c):l.skipped_effects.add(c);for(const[u,c]of h(this,He))u===n?l.skipped_effects.delete(c.effect):l.skipped_effects.add(c.effect);l.oncommit(h(this,Tn)),l.ondiscard(h(this,tr))}else h(this,Tn).call(this)}}$e=new WeakMap,ot=new WeakMap,He=new WeakMap,An=new WeakMap,Tn=new WeakMap,tr=new WeakMap;function ee(e,n,r=!1){var l=new ma(e),i=r?cn:0;function a(o,u){l.ensure(o,u)}Xr(()=>{var o=!1;n((u,c=!0)=>{o=!0,a(c,u)}),o||a(!1,null)},i)}function xn(e,n){return n}function wa(e,n,r){for(var l=e.items,i=[],a=n.length,o=0;o<a;o++)Hr(n[o].e,i,!0);var u=a>0&&i.length===0&&r!==null;if(u){var c=r.parentNode;Ql(c),c.append(r),l.clear(),it(e,n[0].prev,n[a-1].next)}ds(i,()=>{for(var d=0;d<a;d++){var k=n[d];u||(l.delete(k.k),it(e,k.prev,k.next)),Le(k.e,!u)}})}function tn(e,n,r,l,i,a=null){var o=e,u={flags:n,items:new Map,first:null},c=(n&Ii)!==0;if(c){var d=e;o=d.appendChild(Ot())}var k=null,M=!1,S=new Map,D=Ji(()=>{var B=r();return Ni(B)?B:B==null?[]:Lr(B)}),E,I;function z(){ka(I,E,u,S,o,i,n,l,r),a!==null&&(E.length===0?k?Br(k):k=Qe(()=>a(o)):k!==null&&sn(k,()=>{k=null}))}Xr(()=>{I??(I=J),E=t(D);var B=E.length;if(!(M&&B===0)){M=B===0;var ve,q,xe,se;if(ss()){var F=new Set,te=ne;for(q=0;q<B;q+=1){xe=E[q],se=l(xe,q);var Fe=u.items.get(se)??S.get(se);Fe?n&(ir|sr)&&Es(Fe,xe,q,n):(ve=Ss(null,u,null,null,xe,se,q,i,n,r,!0),S.set(se,ve)),F.add(se)}for(const[vt,ht]of u.items)F.has(vt)||te.skipped_effects.add(ht.e);te.oncommit(z)}else z();t(D)}})}function ka(e,n,r,l,i,a,o,u,c){var Yn,In,Xn,Hn;var d=(o&Dl)!==0,k=(o&(ir|sr))!==0,M=n.length,S=r.items,D=r.first,E=D,I,z=null,B,ve=[],q=[],xe,se,F,te;if(d)for(te=0;te<M;te+=1)xe=n[te],se=u(xe,te),F=S.get(se),F!==void 0&&((Yn=F.a)==null||Yn.measure(),(B??(B=new Set)).add(F));for(te=0;te<M;te+=1){if(xe=n[te],se=u(xe,te),F=S.get(se),F===void 0){var Fe=l.get(se);if(Fe!==void 0){l.delete(se),S.set(se,Fe);var vt=z?z.next:E;it(r,z,Fe),it(r,Fe,vt),wr(Fe,vt,i),z=Fe}else{var ht=E?E.e.nodes_start:i;z=Ss(ht,r,z,z===null?r.first:z.next,xe,se,te,a,o,c)}S.set(se,z),ve=[],q=[],E=z.next;continue}if(k&&Es(F,xe,te,o),F.e.f&Be&&(Br(F.e),d&&((In=F.a)==null||In.unfix(),(B??(B=new Set)).delete(F))),F!==E){if(I!==void 0&&I.has(F)){if(ve.length<q.length){var Jt=q[0],tt;z=Jt.prev;var Rn=ve[0],yn=ve[ve.length-1];for(tt=0;tt<ve.length;tt+=1)wr(ve[tt],Jt,i);for(tt=0;tt<q.length;tt+=1)I.delete(q[tt]);it(r,Rn.prev,yn.next),it(r,z,Rn),it(r,yn,Jt),E=Jt,z=yn,te-=1,ve=[],q=[]}else I.delete(F),wr(F,E,i),it(r,F.prev,F.next),it(r,F,z===null?r.first:z.next),it(r,z,F),z=F;continue}for(ve=[],q=[];E!==null&&E.k!==se;)E.e.f&Be||(I??(I=new Set)).add(E),q.push(E),E=E.next;if(E===null)continue;F=E}ve.push(F),z=F,E=F.next}if(E!==null||I!==void 0){for(var nt=I===void 0?[]:Lr(I);E!==null;)E.e.f&Be||nt.push(E),E=E.next;var zt=nt.length;if(zt>0){var cr=o&Ii&&M===0?i:null;if(d){for(te=0;te<zt;te+=1)(Xn=nt[te].a)==null||Xn.measure();for(te=0;te<zt;te+=1)(Hn=nt[te].a)==null||Hn.fix()}wa(r,nt,cr)}}d&&pn(()=>{var Lt;if(B!==void 0)for(F of B)(Lt=F.a)==null||Lt.apply()}),e.first=r.first&&r.first.e,e.last=z&&z.e;for(var ur of l.values())Le(ur.e);l.clear()}function Es(e,n,r,l){l&ir&&vn(e.v,n),l&sr?vn(e.i,r):e.i=r}function Ss(e,n,r,l,i,a,o,u,c,d,k){var M=(c&ir)!==0,S=(c&Al)===0,D=M?S?Zl(i,!1,!1):Gt(i):i,E=c&sr?Gt(o):o,I={i:E,v:D,k:a,a:null,e:null,prev:r,next:l};try{if(e===null){var z=document.createDocumentFragment();z.append(e=Ot())}return I.e=Qe(()=>u(e,D,E,d),Ll),I.e.prev=r&&r.e,I.e.next=l&&l.e,r===null?k||(n.first=I):(r.next=I,r.e.next=I.e),l!==null&&(l.prev=I,l.e.prev=I.e),I}finally{}}function wr(e,n,r){for(var l=e.next?e.next.e.nodes_start:r,i=n?n.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==l;){var o=Ln(a);i.before(a),a=o}}function it(e,n,r){n===null?e.first=r:(n.next=r,n.e.next=r&&r.e),r!==null&&(r.prev=n,r.e.prev=n&&n.e)}const Ai=[...` 	
\r\fÂ \v\uFEFF`];function Ea(e,n,r){var l=e==null?"":""+e;if(r){for(var i in r)if(r[i])l=l?l+" "+i:i;else if(l.length)for(var a=i.length,o=0;(o=l.indexOf(i,o))>=0;){var u=o+a;(o===0||Ai.includes(l[o-1]))&&(u===l.length||Ai.includes(l[u]))?l=(o===0?"":l.substring(0,o))+l.substring(u+1):o=u}}return l===""?null:l}function Sa(e,n){return e==null?null:String(e)}function ce(e,n,r,l,i,a){var o=e.__className;if(o!==r||o===void 0){var u=Ea(r,l,a);u==null?e.removeAttribute("class"):n?e.className=u:e.setAttribute("class",u),e.__className=r}else if(a&&i!==a)for(var c in a){var d=!!a[c];(i==null||d!==!!i[c])&&e.classList.toggle(c,d)}return a}function Ca(e,n,r,l){var i=e.__style;if(i!==n){var a=Sa(n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=n}return l}const Ma=Symbol("is custom element"),Da=Symbol("is html");function b(e,n,r,l){var i=Aa(e);i[n]!==(i[n]=r)&&(n==="loading"&&(e[gl]=r),r==null?e.removeAttribute(n):typeof r!="string"&&Ta(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function Aa(e){return e.__attributes??(e.__attributes={[Ma]:e.nodeName.includes("-"),[Da]:e.namespaceURI===Ol})}var Ti=new Map;function Ta(e){var n=e.getAttribute("is")||e.nodeName,r=Ti.get(n);if(r)return r;Ti.set(n,r=[]);for(var l,i=e,a=Element.prototype;a!==i;){l=dl(i);for(var o in l)l[o].set&&r.push(o);i=Pi(i)}return r}function Ie(e,n,r=n){var l=new WeakSet;ls(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=kr(e)?Er(a):a,r(a),ne!==null&&l.add(ne),await ua(),a!==(a=n())){var o=e.selectionStart,u=e.selectionEnd,c=e.value.length;if(e.value=a??"",u!==null){var d=e.value.length;o===u&&u===c&&d>c?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=o,e.selectionEnd=Math.min(u,d))}}}),Pn(n)==null&&e.value&&(r(kr(e)?Er(e.value):e.value),ne!==null&&l.add(ne)),fr(()=>{var i=n();if(e===document.activeElement){var a=Kn??ne;if(l.has(a))return}kr(e)&&i===Er(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function nn(e,n,r=n){ls(e,"change",l=>{var i=l?e.defaultChecked:e.checked;r(i)}),Pn(n)==null&&r(e.checked),fr(()=>{var l=n();e.checked=!!l})}function kr(e){var n=e.type;return n==="number"||n==="range"}function Er(e){return e===""?null:+e}function Oi(e,n){return e===n||(e==null?void 0:e[Un])===n}function Oa(e={},n,r,l){return sa(()=>{var i,a;return fr(()=>{i=a,a=[],Pn(()=>{e!==r(...a)&&(n(e,...a),i&&Oi(r(...i),e)&&n(null,...i))})}),()=>{pn(()=>{a&&Oi(r(...a),e)&&n(null,...a)})}}),e}function za(e){be===null&&yl(),On&&be.l!==null?La(be).m.push(e):ra(()=>{const n=Pn(e);if(typeof n=="function")return n})}function La(e){var n=e.l;return n.u??(n.u={a:[],b:[],m:[]})}const Na="5";var zi;typeof window<"u"&&((zi=window.__svelte??(window.__svelte={})).v??(zi.v=new Set)).add(Na);Rl();var Pa=dt("<option> </option>"),Ra=dt('<label>Saved Designs: <select class="design-select svelte-ihemak"><option>-- Select Design --</option><!></select></label> <button class="action-btn delete-btn svelte-ihemak" title="Delete selected design">Delete Selected</button>',1),Ya=ue('<rect width="100%" height="100%" fill="url(#grid)"></rect>'),Ia=ue('<rect fill="#cccccc" stroke="none" class="svelte-ihemak"></rect>'),Xa=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Ha=ue("<tspan> </tspan>"),Ba=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),Fa=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),Wa=ue('<g><!><rect stroke="#000000" stroke-width="2" class="svelte-ihemak"></rect><!><!></g>'),qa=ue('<circle fill="#cccccc" stroke="none"></circle>'),ja=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Ua=ue("<tspan> </tspan>"),Ka=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),Va=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>'),Ga=ue('<g><!><circle stroke="#000000" stroke-width="2"></circle><!><!></g>'),Za=ue('<circle r="4" fill="#000000"></circle>'),Ja=ue(`<foreignObject width="200" height="60"><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 11px; border: 2px solid #ff5722; background: white; padding: 2px; resize: none; overflow: auto;"></textarea></foreignObject>`),$a=ue("<tspan> </tspan>"),Qa=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="baseline" fill="#000000" pointer-events="none" class="svelte-ihemak"></text>`),eo=ue('<circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),to=ue('<g><line stroke="#000000" stroke-width="2" class="svelte-ihemak"></line><!><line stroke="transparent" stroke-width="20" class="svelte-ihemak"></line><!><!></g>'),no=ue('<foreignObject width="300" height="150"><textarea class="inline-text-edit"></textarea></foreignObject>'),ro=ue("<tspan> </tspan>"),io=ue(`<text font-family="ui-monospace, 'Courier New', monospace" fill="#000000" class="svelte-ihemak"></text>`),so=ue("<g><!></g>"),lo=dt('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click to edit text inline. Press Enter for line breaks, Esc to finish.</div>'),ao=dt('<label class="svelte-ihemak">Width: <input type="number" min="50" max="500" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Height: <input type="number" min="30" max="300" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),oo=dt('<label class="svelte-ihemak">Radius: <input type="number" min="20" max="200" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),fo=dt('<label class="svelte-ihemak">Font Size: <input type="number" min="8" max="72" class="svelte-ihemak"/></label>'),co=dt('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click line to add label. Press Enter for line breaks, Esc to finish.</div> <label class="svelte-ihemak">Label Size: <input type="number" min="8" max="24" placeholder="11" class="svelte-ihemak"/></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> End Circle</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Arrow Head</label>',1),uo=dt('<div class="properties-panel svelte-ihemak"><h3 class="svelte-ihemak">Properties</h3> <!> <!> <!> <!> <!></div>'),vo=dt('<div class="modal-overlay svelte-ihemak"><div class="modal-content svelte-ihemak"><button class="modal-close svelte-ihemak">Ã—</button> <p class="svelte-ihemak">Made by <strong>Stephan Schulz</strong></p> <a href="https://github.com/stephanschulz/Planwerk/" target="_blank" rel="noopener noreferrer" class="svelte-ihemak">View on GitHub â†’</a></div></div>'),ho=dt(`<div class="builder-container svelte-ihemak"><div class="left-panel svelte-ihemak"><div class="toolbar svelte-ihemak"><div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Tools</h3> <div class="tool-grid svelte-ihemak"><button title="Select (Esc)"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><path d="M2 2 L2 18 L8 12 L12 18 L15 16 L11 10 L18 8 Z" fill="currentColor"></path></svg> <span class="svelte-ihemak">Select</span></button> <button title="Add Box"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><rect x="2" y="4" width="16" height="12" fill="none" stroke="currentColor" stroke-width="2"></rect></svg> <span class="svelte-ihemak">Box</span></button> <button title="Add Circle"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><circle cx="10" cy="10" r="8" fill="none" stroke="currentColor" stroke-width="2"></circle></svg> <span class="svelte-ihemak">Circle</span></button> <button title="Add Text"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><text x="10" y="15" font-size="14" fill="currentColor" text-anchor="middle" font-weight="bold">T</text></svg> <span class="svelte-ihemak">Text</span></button> <button title="Add Line"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="2" y1="10" x2="18" y2="10" stroke="currentColor" stroke-width="2"></line></svg> <span class="svelte-ihemak">Line</span></button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Actions</h3> <button class="action-btn svelte-ihemak" title="Delete (Del)">Delete</button> <button class="action-btn svelte-ihemak" title="Clear Canvas">Clear All</button></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">File</h3> <label>Name: <input type="text" placeholder="Untitled" class="filename-input svelte-ihemak"/></label> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Start a new design">New</button> <button class="action-btn svelte-ihemak" title="Save current design">Save</button></div> <!> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Export design as file">Export</button> <button class="action-btn svelte-ihemak" title="Import design from file">Import</button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Zoom & View</h3> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Zoom In (Ctrl/Cmd + Scroll)">Zoom In</button> <button class="action-btn svelte-ihemak" title="Zoom Out (Ctrl/Cmd + Scroll)">Zoom Out</button></div> <button class="action-btn svelte-ihemak" title="Reset Zoom to 100%">Reset View</button> <p class="grid-hint svelte-ihemak"> <br/> Hold Ctrl/Cmd + Scroll to zoom<br/> Hold Space + Drag to pan</p></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Grid</h3> <button title="Toggle grid visibility"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="5" y1="0" x2="5" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="10" y1="0" x2="10" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="15" y1="0" x2="15" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="5" x2="20" y2="5" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="10" x2="20" y2="10" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="15" x2="20" y2="15" stroke="currentColor" stroke-width="1"></line></svg> <span class="svelte-ihemak">Show Grid</span></button> <label>Grid Size: <input type="number" min="5" max="100" step="5" class="grid-size-input svelte-ihemak"/></label> <p class="grid-hint svelte-ihemak">Hold 'S' while dragging to snap to grid. Lines also snap to vertical/horizontal when close.</p></div></div></div> <div role="application" aria-label="Diagram canvas"><svg width="100%" height="100%" class="diagram-svg svelte-ihemak"><defs><marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="#000000"></polygon></marker><pattern id="grid" patternUnits="userSpaceOnUse"><path fill="none" stroke="#e0e0e0" stroke-width="0.5"></path></pattern></defs><!><g></g></svg> <div class="canvas-hint svelte-ihemak"><!></div></div> <!></div> <button class="about-btn svelte-ihemak" title="About"></button> <!>`,1);function _o(e,n){Fi(n,!0);let r=j(xt([])),l=j(xt([])),i=j(null),a=j("select"),o=j(null),u=j(!1),c=j(!1),d=j(null),k=j(null),M=j(null),S=j(!1),D=j(xt([])),E=j("Untitled"),I=j(!1),z=j(20),B=j(!1),ve=j(xt([])),q=j(1),xe=j(0),se=j(0),F=j(!1),te=j(0),Fe=j(0),vt=j(!1),ht=j(!1);function Jt(f,s){return{id:Date.now(),type:"box",x:f-60,y:s-25,width:120,height:50,text:"New Box",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function tt(f,s){return{id:Date.now(),type:"circle",x:f-50,y:s-50,radius:50,text:"Circle",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function Rn(f,s){return{id:Date.now(),type:"text",x:f-50,y:s-10,text:"Text Label",fontSize:14}}function yn(f,s,m,T){return{id:Date.now(),type:"line",x1:f,y1:s,x2:m||f+100,y2:T||s,hasCircle:!1,hasArrow:!1,label:""}}function nt(f,s){const m=t(k).getBoundingClientRect(),T=(f-m.left-t(xe))/t(q),_=(s-m.top-t(se))/t(q);return{x:T,y:_}}function zt(f,s,m){const T=t(k).getBoundingClientRect(),_=s-T.left,v=m-T.top,y=(_-t(xe))/t(q),x=(v-t(se))/t(q);p(q,Math.max(.1,Math.min(f,5)),!0),p(xe,_-y*t(q)),p(se,v-x*t(q))}function cr(){const f=t(k).getBoundingClientRect(),s=f.left+f.width/2,m=f.top+f.height/2;zt(t(q)*1.1,s,m)}function ur(){const f=t(k).getBoundingClientRect(),s=f.left+f.width/2,m=f.top+f.height/2;zt(t(q)/1.1,s,m)}function Yn(){p(q,1),p(xe,0),p(se,0)}function In(f){if(f.ctrlKey||f.metaKey){f.preventDefault();const m=f.deltaY<0?1.05:1/1.05;zt(t(q)*m,f.clientX,f.clientY)}}function Xn(f){if(t(vt)){p(F,!0),p(te,f.clientX-t(xe)),p(Fe,f.clientY-t(se)),f.preventDefault();return}}function Hn(f){if(t(F))return;if(t(a)==="select"){p(i,null),p(l,[],!0),p(M,null),p(S,!1);return}const{x:s,y:m}=nt(f.clientX,f.clientY);t(a)==="box"?p(r,[...t(r),Jt(s,m)],!0):t(a)==="circle"?p(r,[...t(r),tt(s,m)],!0):t(a)==="text"?p(r,[...t(r),Rn(s,m)],!0):t(a)==="line"&&p(r,[...t(r),yn(s,m)],!0),p(a,"select")}function Lt(f,s){f.stopPropagation(),f.ctrlKey||f.metaKey?(t(l).findIndex(T=>T.id===s.id)>=0?p(l,t(l).filter(T=>T.id!==s.id),!0):p(l,[...t(l),s],!0),p(i,t(l)[0]||null,!0)):t(l).find(T=>T.id===s.id)||(p(l,[s],!0),p(i,s,!0))}function Bn(f,s){f.stopPropagation(),f.preventDefault(),p(l,[s],!0),p(i,s,!0),s.type==="line"?(s.label===void 0&&(s.label=""),p(M,s,!0),p(S,!0),setTimeout(()=>{const m=document.getElementById(`edit-line-label-${s.id}`);m&&(m.focus(),s.label&&m.select())},50)):s.text!==void 0&&(p(M,s,!0),p(S,!1),setTimeout(()=>{const m=document.getElementById(`edit-${s.id}`);m&&(m.focus(),m.select())},50))}function We(f,s){return{x:Math.round(f/t(z))*t(z),y:Math.round(s/t(z))*t(z)}}function Fn(f,s,m,T){const _=Math.abs(m-f),v=Math.abs(T-s),y=t(z)*.5;return v<y&&v<_?{x1:f,y1:s,x2:m,y2:s}:_<y&&_<v?{x1:f,y1:s,x2:f,y2:T}:{x1:f,y1:s,x2:m,y2:T}}function Cs(f,s,m,T,_,v){const y=_-m,x=v-T,w=y*y+x*x;if(w===0)return{x:m,y:T};let C=((f-m)*y+(s-T)*x)/w;return C=Math.max(0,Math.min(1,C)),{x:m+C*y,y:T+C*x}}function Fr(f,s,m){for(const _ of t(r))if(_.id!==m){if(_.type==="box"){const v=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x,y:_.y+_.height},{x:_.x+_.width,y:_.y+_.height},{x:_.x+_.width/2,y:_.y},{x:_.x+_.width/2,y:_.y+_.height},{x:_.x,y:_.y+_.height/2},{x:_.x+_.width,y:_.y+_.height/2}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="circle"){const v=[{x:_.x+_.radius,y:_.y},{x:_.x+_.radius*2,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius*2},{x:_.x,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="line"){const v=[{x:_.x1,y:_.y1},{x:_.x2,y:_.y2}];for(const w of v)if(Math.sqrt(Math.pow(f-w.x,2)+Math.pow(s-w.y,2))<10)return w;const y=Cs(f,s,_.x1,_.y1,_.x2,_.y2);if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}}return null}function St(){p(M,null),p(S,!1)}function Wn(f,s){if(t(M)||t(S))return;f.stopPropagation(),!t(l).find(v=>v.id===s.id)&&!(f.ctrlKey||f.metaKey)&&p(l,[s],!0),p(i,s,!0),p(u,!0);const{x:m,y:T}=nt(f.clientX,f.clientY),_=t(l).map(v=>({element:v,startX:v.x||v.x1,startY:v.y||v.y1,startX2:v.x2,startY2:v.y2}));p(o,{x:m,y:T,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2,elementsData:_},!0)}function Nt(f,s,m){f.stopPropagation(),p(i,s,!0),p(c,!0),p(d,m,!0);const{x:T,y:_}=nt(f.clientX,f.clientY);p(o,{x:T,y:_,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2},!0)}function Ms(f){if(t(F)){p(xe,f.clientX-t(te)),p(se,f.clientY-t(Fe));return}if(!t(u)&&!t(c)||!t(o)||!t(i))return;const{x:s,y:m}=nt(f.clientX,f.clientY),T=s-t(o).x,_=m-t(o).y;if(t(c)){if(t(i).type==="box"){if(t(d)==="se"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),w=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,w);t(i).width=C,t(i).height=C}else t(i).width=x,t(i).height=w}else if(t(d)==="sw"){let v=t(o).elementX+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),w=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,w);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).width=x,t(i).height=w}else if(t(d)==="ne"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),w=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,w);t(i).width=C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).height=C}else t(i).width=x,t(i).y=t(o).elementY+t(o).elementHeight-w,t(i).height=w}else if(t(d)==="nw"){let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),w=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,w);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).y=t(o).elementY+t(o).elementHeight-w,t(i).width=x,t(i).height=w}}else if(t(i).type==="circle"){const v=t(o).elementX+t(o).elementRadius,y=t(o).elementY+t(o).elementRadius,x=s-v,w=m-y,C=Math.sqrt(x*x+w*w);let U=Math.max(20,C);if(t(B)){const re=We(s,m),H=re.x-v,G=re.y-y,he=Math.sqrt(H*H+G*G);U=Math.max(20,he)}t(i).radius=U,t(i).x=v-U,t(i).y=y-U}else if(t(i).type==="line"){if(t(d)==="start"){const v=Fr(s,m,t(i).id);let y=v?v.x:s,x=v?v.y:m;if(t(B)){const w=We(y,x);y=w.x,x=w.y}if(f.shiftKey){const w=Math.atan2(x-t(i).y2,y-t(i).x2),C=Math.round(w/(Math.PI/12))*(Math.PI/12),U=Math.sqrt(Math.pow(y-t(i).x2,2)+Math.pow(x-t(i).y2,2));t(i).x1=t(i).x2+U*Math.cos(C),t(i).y1=t(i).y2+U*Math.sin(C)}else if(t(i).x1=y,t(i).y1=x,t(B)){const w=Fn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=w.x1,t(i).y1=w.y1,t(i).x2=w.x2,t(i).y2=w.y2}}else if(t(d)==="end"){const v=Fr(s,m,t(i).id);let y=v?v.x:s,x=v?v.y:m;if(v&&t(i).hasCircle){const C=Math.atan2(v.y-t(i).y1,v.x-t(i).x1);y=v.x-4*Math.cos(C),x=v.y-4*Math.sin(C)}if(t(B)){const w=We(y,x);y=w.x,x=w.y}if(f.shiftKey){const w=Math.atan2(x-t(i).y1,y-t(i).x1),C=Math.round(w/(Math.PI/12))*(Math.PI/12),U=Math.sqrt(Math.pow(y-t(i).x1,2)+Math.pow(x-t(i).y1,2));t(i).x2=t(i).x1+U*Math.cos(C),t(i).y2=t(i).y1+U*Math.sin(C)}else if(t(i).x2=y,t(i).y2=x,t(B)){const w=Fn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=w.x1,t(i).y1=w.y1,t(i).x2=w.x2,t(i).y2=w.y2}}}}else if(t(u))if(t(o).elementsData&&t(o).elementsData.length>=1)for(const v of t(o).elementsData){let y=v.startX+T,x=v.startY+_;if(t(B)){const w=We(y,x);y=w.x,x=w.y}if(v.element.type==="line"){const w=v.startX2-v.startX,C=v.startY2-v.startY;if(t(B)){const U=We(y+w,x+C);v.element.x1=y,v.element.y1=x,v.element.x2=U.x,v.element.y2=U.y;const re=Fn(v.element.x1,v.element.y1,v.element.x2,v.element.y2);v.element.x1=re.x1,v.element.y1=re.y1,v.element.x2=re.x2,v.element.y2=re.y2}else v.element.x1=y,v.element.y1=x,v.element.x2=y+w,v.element.y2=x+C}else v.element.x=y,v.element.y=x}else{let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const x=We(v,y);v=x.x,y=x.y}if(t(i).type==="line"){const x=t(o).elementX2-t(o).elementX,w=t(o).elementY2-t(o).elementY;if(t(B)){const C=We(v,y),U=We(v+x,y+w);t(i).x1=C.x,t(i).y1=C.y,t(i).x2=U.x,t(i).y2=U.y;const re=Fn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=re.x1,t(i).y1=re.y1,t(i).x2=re.x2,t(i).y2=re.y2}else t(i).x1=v,t(i).y1=y,t(i).x2=v+x,t(i).y2=y+w}else t(i).x=v,t(i).y=y}}function Ds(){p(u,!1),p(c,!1),p(d,null),p(o,null),p(F,!1)}function Wr(){if(t(l).length>0){const f=t(l).map(s=>s.id);p(r,t(r).filter(s=>!f.includes(s.id)),!0),p(l,[],!0),p(i,null)}}function As(){p(ve,t(l).map(f=>({...f})),!0)}function Ts(){const s=[],m=Date.now(),T=t(ve).map((_,v)=>{const y=m+v+Math.random()*1e3;s.push(y);const x={..._,id:y};return x.type==="line"?(x.x1+=20,x.y1+=20,x.x2+=20,x.y2+=20):(x.x+=20,x.y+=20),x});p(r,[...t(r),...T],!0),p(l,t(r).filter(_=>s.includes(_.id)),!0),p(i,t(l)[0]||null,!0)}function qr(f){if((f.key==="s"||f.key==="S")&&p(B,!0),f.key===" "&&!t(M)&&!t(S)&&(p(vt,!0),f.preventDefault()),!(t(M)||t(S))){if((f.ctrlKey||f.metaKey)&&f.key==="c"&&t(l).length>0){f.preventDefault(),As();return}if((f.ctrlKey||f.metaKey)&&f.key==="v"&&t(ve).length>0){f.preventDefault(),Ts();return}if((f.key==="Delete"||f.key==="Backspace")&&t(l).length>0){f.preventDefault(),Wr();return}if(t(l).length>0){f.preventDefault();for(const s of t(l))f.key==="ArrowUp"?s.type==="line"?(s.y1-=1,s.y2-=1):s.y-=1:f.key==="ArrowDown"?s.type==="line"?(s.y1+=1,s.y2+=1):s.y+=1:f.key==="ArrowLeft"?s.type==="line"?(s.x1-=1,s.x2-=1):s.x-=1:f.key==="ArrowRight"&&(s.type==="line"?(s.x1+=1,s.x2+=1):s.x+=1)}}}function jr(f){(f.key==="s"||f.key==="S")&&p(B,!1),f.key===" "&&(p(vt,!1),p(F,!1))}function Os(){const f=prompt("Enter a name for this design:",t(E));if(!f)return;p(E,f,!0);const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]={name:f,elements:t(r),savedAt:new Date().toISOString()},localStorage.setItem("savedDesigns",JSON.stringify(s)),dr(),alert(`Design "${f}" saved!`)}function dr(){const f=JSON.parse(localStorage.getItem("savedDesigns")||"{}");p(D,Object.values(f).sort((s,m)=>new Date(m.savedAt)-new Date(s.savedAt)),!0)}function zs(f){const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]&&(p(r,s[f].elements,!0),p(E,f,!0),p(i,null),alert(`Design "${f}" loaded!`))}function Ls(f){if(!confirm(`Delete design "${f}"?`))return;const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");delete s[f],localStorage.setItem("savedDesigns",JSON.stringify(s)),dr(),t(E)===f&&(p(E,"Untitled"),p(r,[],!0))}function Ns(){t(r).length>0&&!confirm("Start a new design? Unsaved changes will be lost.")||(p(r,[],!0),p(E,"Untitled"),p(i,null))}function Ps(){const f=JSON.stringify(t(r),null,2),s=new Blob([f],{type:"application/json"}),m=URL.createObjectURL(s),T=document.createElement("a");T.href=m;const _=(t(E).trim()||"Untitled")+".json";T.download=_,T.click(),URL.revokeObjectURL(m)}function Rs(){const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=s=>{const m=s.target.files[0];if(m){const T=new FileReader;T.onload=_=>{try{p(r,JSON.parse(_.target.result),!0),p(i,null),alert("Diagram imported!")}catch(v){alert("Error importing diagram: "+v.message)}},T.readAsText(m)}},f.click()}za(()=>(window.addEventListener("keydown",qr),window.addEventListener("keyup",jr),dr(),()=>{window.removeEventListener("keydown",qr),window.removeEventListener("keyup",jr)}));var Ur=ho();Yt("mousemove",Jn,Ms),Yt("mouseup",Jn,Ds);var Kr=Ce(Ur),Vr=A(Kr),Ys=A(Vr),Gr=A(Ys),Is=g(A(Gr),2),vr=A(Is);let Zr;vr.__click=()=>p(a,"select");var hr=g(vr,2);let Jr;hr.__click=()=>p(a,"box");var _r=g(hr,2);let $r;_r.__click=()=>p(a,"circle");var pr=g(_r,2);let Qr;pr.__click=()=>p(a,"text");var ei=g(pr,2);let ti;ei.__click=()=>p(a,"line");var ni=g(Gr,2),gr=g(A(ni),2);gr.__click=Wr;var Xs=g(gr,2);Xs.__click=()=>p(r,[],!0);var ri=g(ni,2),ii=g(A(ri),2),Hs=g(A(ii)),si=g(ii,2),li=A(si);li.__click=Ns;var Bs=g(li,2);Bs.__click=Os;var ai=g(si,2);{var Fs=f=>{var s=Ra(),m=Ce(s),T=g(A(m));T.__change=x=>zs(x.target.value);var _=A(T);_.value=_.__value="";var v=g(_);tn(v,17,()=>t(D),xn,(x,w)=>{var C=Pa(),U=A(C),re={};ie(()=>{Qt(U,t(w).name),re!==(re=t(w).name)&&(C.value=(C.__value=t(w).name)??"")}),L(x,C)});var y=g(m,2);y.__click=()=>{const x=document.querySelector(".design-select");x.value&&Ls(x.value)},L(f,s)};ee(ai,f=>{t(D).length>0&&f(Fs)})}var Ws=g(ai,2),oi=A(Ws);oi.__click=Ps;var qs=g(oi,2);qs.__click=Rs;var fi=g(ri,2),ci=g(A(fi),2),ui=A(ci);ui.__click=cr;var js=g(ui,2);js.__click=ur;var di=g(ci,2);di.__click=Yn;var Us=g(di,2),Ks=A(Us),Vs=g(fi,2),yr=g(A(Vs),2);let vi;yr.__click=()=>p(I,!t(I));var Gs=g(yr,2),Zs=g(A(Gs)),Pt=g(Vr,2);let hi;Pt.__click=Hn,Pt.__mousedown=Xn;var _i=A(Pt),pi=A(_i),br=g(A(pi)),Js=A(br),gi=g(pi);{var $s=f=>{var s=Ya();L(f,s)};ee(gi,f=>{t(I)&&f($s)})}var yi=g(gi);tn(yi,21,()=>t(r),f=>f.id,(f,s,m)=>{var T=pt(),_=Ce(T);{var v=x=>{var w=Wa();let C;w.__mousedown=N=>Wn(N,t(s)),w.__click=N=>Lt(N,t(s)),w.__dblclick=N=>Bn(N,t(s));var U=A(w);{var re=N=>{var X=Ia();ie(()=>{b(X,"x",t(s).x+3),b(X,"y",t(s).y+3),b(X,"width",t(s).width),b(X,"height",t(s).height)}),L(N,X)};ee(U,N=>{t(s).shadow&&N(re)})}var H=g(U),G=g(H);{var he=N=>{var X=Xa(),R=A(X);R.__keydown=le=>{le.key==="Escape"&&St(),le.stopPropagation()},ie(()=>{b(X,"x",t(s).x),b(X,"y",t(s).y),b(X,"width",t(s).width),b(X,"height",t(s).height),b(R,"id",`edit-${t(s).id}`)}),Yt("blur",R,St),Ie(R,()=>t(s).text,le=>t(s).text=le),L(N,X)},_e=N=>{const X=$t(()=>(t(s).text||"").split(`
`));var R=Ba();tn(R,21,()=>t(X),xn,(le,Z,Y)=>{var O=Ha(),$=A(O);ie(()=>{b(O,"x",t(s).x+t(s).width/2),b(O,"dy",Y===0?0:t(s).fontSize||12),Qt($,t(Z))}),L(le,O)}),ie(()=>{b(R,"x",t(s).x+t(s).width/2),b(R,"y",t(s).y+t(s).height/2-(t(X).length-1)*(t(s).fontSize||12)*.5),b(R,"font-size",t(s).fontSize||12),b(R,"fill",t(s).textColor||"#000000")}),L(N,R)};ee(G,N=>{var X;((X=t(M))==null?void 0:X.id)===t(s).id?N(he):N(_e,!1)})}var me=g(G);{var oe=N=>{var X=Fa(),R=Ce(X);R.__mousedown=O=>Nt(O,t(s),"nw");var le=g(R);le.__mousedown=O=>Nt(O,t(s),"ne");var Z=g(le);Z.__mousedown=O=>Nt(O,t(s),"sw");var Y=g(Z);Y.__mousedown=O=>Nt(O,t(s),"se"),ie(()=>{b(R,"cx",t(s).x),b(R,"cy",t(s).y),b(le,"cx",t(s).x+t(s).width),b(le,"cy",t(s).y),b(Z,"cx",t(s).x),b(Z,"cy",t(s).y+t(s).height),b(Y,"cx",t(s).x+t(s).width),b(Y,"cy",t(s).y+t(s).height)}),L(N,X)};ee(me,N=>{var X;((X=t(i))==null?void 0:X.id)===t(s).id&&N(oe)})}ie(N=>{C=ce(w,0,"element box-element svelte-ihemak",null,C,N),b(H,"x",t(s).x),b(H,"y",t(s).y),b(H,"width",t(s).width),b(H,"height",t(s).height),b(H,"fill",t(s).bgColor||"#ffffff"),b(H,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(N=>N.id===t(s).id)})]),L(x,w)},y=x=>{var w=pt(),C=Ce(w);{var U=H=>{var G=Ga();let he;G.__mousedown=Y=>Wn(Y,t(s)),G.__click=Y=>Lt(Y,t(s)),G.__dblclick=Y=>Bn(Y,t(s));var _e=A(G);{var me=Y=>{var O=qa();ie(()=>{b(O,"cx",t(s).x+t(s).radius+3),b(O,"cy",t(s).y+t(s).radius+3),b(O,"r",t(s).radius)}),L(Y,O)};ee(_e,Y=>{t(s).shadow&&Y(me)})}var oe=g(_e),N=g(oe);{var X=Y=>{var O=ja(),$=A(O);$.__keydown=Se=>{Se.key==="Escape"&&St(),Se.stopPropagation()},ie(()=>{b(O,"x",t(s).x),b(O,"y",t(s).y),b(O,"width",t(s).radius*2),b(O,"height",t(s).radius*2),b($,"id",`edit-${t(s).id}`)}),Yt("blur",$,St),Ie($,()=>t(s).text,Se=>t(s).text=Se),L(Y,O)},R=Y=>{const O=$t(()=>(t(s).text||"").split(`
`));var $=Ka();tn($,21,()=>t(O),xn,(Se,ae,ye)=>{var fe=Ua(),we=A(fe);ie(()=>{b(fe,"x",t(s).x+t(s).radius),b(fe,"dy",ye===0?0:t(s).fontSize||12),Qt(we,t(ae))}),L(Se,fe)}),ie(()=>{b($,"x",t(s).x+t(s).radius),b($,"y",t(s).y+t(s).radius-(t(O).length-1)*(t(s).fontSize||12)*.5),b($,"font-size",t(s).fontSize||12),b($,"fill",t(s).textColor||"#000000")}),L(Y,$)};ee(N,Y=>{var O;((O=t(M))==null?void 0:O.id)===t(s).id?Y(X):Y(R,!1)})}var le=g(N);{var Z=Y=>{var O=Va();O.__mousedown=$=>Nt($,t(s),"e"),ie(()=>{b(O,"cx",t(s).x+t(s).radius*2),b(O,"cy",t(s).y+t(s).radius)}),L(Y,O)};ee(le,Y=>{var O;((O=t(i))==null?void 0:O.id)===t(s).id&&Y(Z)})}ie(Y=>{he=ce(G,0,"element circle-element svelte-ihemak",null,he,Y),b(oe,"cx",t(s).x+t(s).radius),b(oe,"cy",t(s).y+t(s).radius),b(oe,"r",t(s).radius),b(oe,"fill",t(s).bgColor||"#ffffff"),b(oe,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(Y=>Y.id===t(s).id)})]),L(H,G)},re=H=>{var G=pt(),he=Ce(G);{var _e=oe=>{const N=$t(()=>(t(s).x1+t(s).x2)/2),X=$t(()=>(t(s).y1+t(s).y2)/2);var R=to();let le;R.__mousedown=K=>Wn(K,t(s)),R.__click=K=>Lt(K,t(s)),R.__dblclick=K=>Bn(K,t(s));var Z=A(R),Y=g(Z);{var O=K=>{var Q=Za();ie(()=>{b(Q,"cx",t(s).x2),b(Q,"cy",t(s).y2)}),L(K,Q)};ee(Y,K=>{t(s).hasCircle&&K(O)})}var $=g(Y),Se=g($);{var ae=K=>{var Q=Ja(),de=A(Q);de.__keydown=ke=>{ke.key==="Escape"&&St(),ke.stopPropagation()},ie(()=>{b(Q,"x",t(N)-100),b(Q,"y",t(X)-60),b(de,"id",`edit-line-label-${t(s).id}`)}),Yt("blur",de,St),Ie(de,()=>t(s).label,ke=>t(s).label=ke),L(K,Q)},ye=K=>{var Q=pt(),de=Ce(Q);{var ke=qe=>{const Rt=$t(()=>(t(s).label||"").split(`
`));var _t=Qa();tn(_t,21,()=>t(Rt),xn,(Ge,xr,Ze)=>{var qn=$a(),al=A(qn);ie(()=>{b(qn,"x",t(N)),b(qn,"dy",Ze===0?0:t(s).labelSize||11),Qt(al,t(xr))}),L(Ge,qn)}),ie(()=>{b(_t,"x",t(N)),b(_t,"y",t(X)-4-(t(Rt).length-1)*(t(s).labelSize||11)*.5),b(_t,"font-size",t(s).labelSize||11)}),L(qe,_t)};ee(de,qe=>{t(s).label&&t(s).label!==""&&qe(ke)},!0)}L(K,Q)};ee(Se,K=>{var Q;((Q=t(M))==null?void 0:Q.id)===t(s).id&&t(S)?K(ae):K(ye,!1)})}var fe=g(Se);{var we=K=>{var Q=eo(),de=Ce(Q);de.__mousedown=qe=>Nt(qe,t(s),"start");var ke=g(de);ke.__mousedown=qe=>Nt(qe,t(s),"end"),ie(()=>{b(de,"cx",t(s).x1),b(de,"cy",t(s).y1),b(ke,"cx",t(s).x2),b(ke,"cy",t(s).y2)}),L(K,Q)};ee(fe,K=>{var Q;((Q=t(i))==null?void 0:Q.id)===t(s).id&&K(we)})}ie(K=>{le=ce(R,0,"element line-element svelte-ihemak",null,le,K),b(Z,"x1",t(s).x1),b(Z,"y1",t(s).y1),b(Z,"x2",t(s).x2),b(Z,"y2",t(s).y2),b(Z,"marker-end",t(s).hasArrow?"url(#arrowhead)":""),b($,"x1",t(s).x1),b($,"y1",t(s).y1),b($,"x2",t(s).x2),b($,"y2",t(s).y2)},[()=>({selected:t(l).some(K=>K.id===t(s).id)})]),L(oe,R)},me=oe=>{var N=pt(),X=Ce(N);{var R=le=>{var Z=so();let Y;Z.__mousedown=ae=>Wn(ae,t(s)),Z.__click=ae=>Lt(ae,t(s)),Z.__dblclick=ae=>Bn(ae,t(s));var O=A(Z);{var $=ae=>{var ye=no(),fe=A(ye);fe.__keydown=we=>{we.key==="Escape"&&St(),we.stopPropagation()},ie(()=>{b(ye,"x",t(s).x),b(ye,"y",t(s).y-(t(s).fontSize||14)),b(fe,"id",`edit-${t(s).id}`),Ca(fe,`width: 100%; height: 100%; font-family: ui-monospace, 'Courier New', monospace; font-size: ${(t(s).fontSize||14)??""}px; border: 2px solid #ff5722; background: white; padding: 4px; resize: none; overflow: auto;`)}),Yt("blur",fe,St),Ie(fe,()=>t(s).text,we=>t(s).text=we),L(ae,ye)},Se=ae=>{const ye=$t(()=>(t(s).text||"").split(`
`));var fe=io();tn(fe,21,()=>t(ye),xn,(we,K,Q)=>{var de=ro(),ke=A(de);ie(()=>{b(de,"x",t(s).x),b(de,"dy",Q===0?0:t(s).fontSize||14),Qt(ke,t(K))}),L(we,de)}),ie(()=>{b(fe,"x",t(s).x),b(fe,"y",t(s).y),b(fe,"font-size",t(s).fontSize||14)}),L(ae,fe)};ee(O,ae=>{var ye;((ye=t(M))==null?void 0:ye.id)===t(s).id?ae($):ae(Se,!1)})}ie(ae=>Y=ce(Z,0,"element text-element svelte-ihemak",null,Y,ae),[()=>({selected:t(l).some(ae=>ae.id===t(s).id)})]),L(le,Z)};ee(X,le=>{t(s).type==="text"&&le(R)},!0)}L(oe,N)};ee(he,oe=>{t(s).type==="line"?oe(_e):oe(me,!1)},!0)}L(H,G)};ee(C,H=>{t(s).type==="circle"?H(U):H(re,!1)},!0)}L(x,w)};ee(_,x=>{t(s).type==="box"?x(v):x(y,!1)})}L(f,T)});var Qs=g(_i,2),el=A(Qs);{var tl=f=>{var s=bn("Click: select â€¢ Ctrl/Cmd+Click: multi-select â€¢ Drag: move â€¢ Arrow keys: nudge 1px â€¢ Ctrl/Cmd+C: copy â€¢ Ctrl/Cmd+V: paste â€¢ Hold S: snap to grid (move/resize) â€¢ Hold Shift: boxâ†’square / lineâ†’angle-snap â€¢ Double-click: edit text");L(f,s)},nl=f=>{var s=pt(),m=Ce(s);{var T=v=>{var y=bn("Click anywhere to add a box â€¢ Hold Shift while resizing to force square â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");L(v,y)},_=v=>{var y=pt(),x=Ce(y);{var w=U=>{var re=bn("Click anywhere to add a circle â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");L(U,re)},C=U=>{var re=pt(),H=Ce(re);{var G=_e=>{var me=bn("Click anywhere to add text â€¢ Hold S while dragging to snap to grid â€¢ When editing: Enter creates line break");L(_e,me)},he=_e=>{var me=pt(),oe=Ce(me);{var N=X=>{var R=bn("Click anywhere to add a line (use Properties panel to add circle/arrow) â€¢ Hold S while dragging endpoints to snap to grid â€¢ When editing label: Enter creates line break");L(X,R)};ee(oe,X=>{t(a)==="line"&&X(N)},!0)}L(_e,me)};ee(H,_e=>{t(a)==="text"?_e(G):_e(he,!1)},!0)}L(U,re)};ee(x,U=>{t(a)==="circle"?U(w):U(C,!1)},!0)}L(v,y)};ee(m,v=>{t(a)==="box"?v(T):v(_,!1)},!0)}L(f,s)};ee(el,f=>{t(a)==="select"?f(tl):f(nl,!1)})}Oa(Pt,f=>p(k,f),()=>t(k));var rl=g(Pt,2);{var il=f=>{var s=uo(),m=g(A(s),2);{var T=H=>{var G=lo();L(H,G)};ee(m,H=>{t(i).text!==void 0&&H(T)})}var _=g(m,2);{var v=H=>{var G=ao(),he=Ce(G),_e=g(A(he)),me=g(he,2),oe=g(A(me)),N=g(me,2),X=g(A(N)),R=g(N,2),le=g(A(R)),Z=A(le);let Y;Z.__click=()=>t(i).bgColor="#000000";var O=g(Z,2);let $;O.__click=()=>t(i).bgColor="#ffffff";var Se=g(O,2);let ae;Se.__click=()=>t(i).bgColor="#ff5722";var ye=g(R,2),fe=g(A(ye)),we=A(fe);let K;we.__click=()=>t(i).textColor="#000000";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ffffff";var ke=g(Q,2);let qe;ke.__click=()=>t(i).textColor="#ff5722";var Rt=g(ye,2),_t=A(Rt),Ge=g(Rt,2),xr=A(Ge);ie(()=>{Y=ce(Z,1,"color-btn svelte-ihemak",null,Y,{active:t(i).bgColor==="#000000"}),$=ce(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ffffff"}),ae=ce(Se,1,"color-btn svelte-ihemak",null,ae,{active:t(i).bgColor==="#ff5722"}),K=ce(we,1,"color-btn svelte-ihemak",null,K,{active:t(i).textColor==="#000000"}),de=ce(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ffffff"}),qe=ce(ke,1,"color-btn svelte-ihemak",null,qe,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).width,Ze=>t(i).width=Ze),Ie(oe,()=>t(i).height,Ze=>t(i).height=Ze),Ie(X,()=>t(i).fontSize,Ze=>t(i).fontSize=Ze),nn(_t,()=>t(i).shadow,Ze=>t(i).shadow=Ze),nn(xr,()=>t(i).dashed,Ze=>t(i).dashed=Ze),L(H,G)};ee(_,H=>{t(i).type==="box"&&H(v)})}var y=g(_,2);{var x=H=>{var G=oo(),he=Ce(G),_e=g(A(he)),me=g(he,2),oe=g(A(me)),N=g(me,2),X=g(A(N)),R=A(X);let le;R.__click=()=>t(i).bgColor="#000000";var Z=g(R,2);let Y;Z.__click=()=>t(i).bgColor="#ffffff";var O=g(Z,2);let $;O.__click=()=>t(i).bgColor="#ff5722";var Se=g(N,2),ae=g(A(Se)),ye=A(ae);let fe;ye.__click=()=>t(i).textColor="#000000";var we=g(ye,2);let K;we.__click=()=>t(i).textColor="#ffffff";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ff5722";var ke=g(Se,2),qe=A(ke),Rt=g(ke,2),_t=A(Rt);ie(()=>{le=ce(R,1,"color-btn svelte-ihemak",null,le,{active:t(i).bgColor==="#000000"}),Y=ce(Z,1,"color-btn svelte-ihemak",null,Y,{active:t(i).bgColor==="#ffffff"}),$=ce(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ff5722"}),fe=ce(ye,1,"color-btn svelte-ihemak",null,fe,{active:t(i).textColor==="#000000"}),K=ce(we,1,"color-btn svelte-ihemak",null,K,{active:t(i).textColor==="#ffffff"}),de=ce(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).radius,Ge=>t(i).radius=Ge),Ie(oe,()=>t(i).fontSize,Ge=>t(i).fontSize=Ge),nn(qe,()=>t(i).shadow,Ge=>t(i).shadow=Ge),nn(_t,()=>t(i).dashed,Ge=>t(i).dashed=Ge),L(H,G)};ee(y,H=>{t(i).type==="circle"&&H(x)})}var w=g(y,2);{var C=H=>{var G=fo(),he=g(A(G));Ie(he,()=>t(i).fontSize,_e=>t(i).fontSize=_e),L(H,G)};ee(w,H=>{t(i).type==="text"&&H(C)})}var U=g(w,2);{var re=H=>{var G=co(),he=g(Ce(G),2),_e=g(A(he)),me=g(he,2),oe=A(me),N=g(me,2),X=A(N);Ie(_e,()=>t(i).labelSize,R=>t(i).labelSize=R),nn(oe,()=>t(i).hasCircle,R=>t(i).hasCircle=R),nn(X,()=>t(i).hasArrow,R=>t(i).hasArrow=R),L(H,G)};ee(U,H=>{t(i).type==="line"&&H(re)})}L(f,s)};ee(rl,f=>{t(i)&&f(il)})}var bi=g(Kr,2);bi.__click=()=>p(ht,!t(ht));var sl=g(bi,2);{var ll=f=>{var s=vo();s.__click=()=>p(ht,!1);var m=A(s);m.__click=_=>_.stopPropagation();var T=A(m);T.__click=()=>p(ht,!1),L(f,s)};ee(sl,f=>{t(ht)&&f(ll)})}ie(f=>{Zr=ce(vr,1,"tool-btn svelte-ihemak",null,Zr,{active:t(a)==="select"}),Jr=ce(hr,1,"tool-btn svelte-ihemak",null,Jr,{active:t(a)==="box"}),$r=ce(_r,1,"tool-btn svelte-ihemak",null,$r,{active:t(a)==="circle"}),Qr=ce(pr,1,"tool-btn svelte-ihemak",null,Qr,{active:t(a)==="text"}),ti=ce(ei,1,"tool-btn svelte-ihemak",null,ti,{active:t(a)==="line"}),gr.disabled=!t(i),Qt(Ks,`Zoom: ${f??""}%`),vi=ce(yr,1,"tool-btn svelte-ihemak",null,vi,{active:t(I)}),hi=ce(Pt,1,"canvas svelte-ihemak",null,hi,{"space-pressed":t(vt)&&!t(F),panning:t(F)}),b(br,"width",t(z)),b(br,"height",t(z)),b(Js,"d",`M ${t(z)??""} 0 L 0 0 0 ${t(z)??""}`),b(yi,"transform",`translate(${t(xe)??""}, ${t(se)??""}) scale(${t(q)??""})`)},[()=>Math.round(t(q)*100)]),Ie(Hs,()=>t(E),f=>p(E,f)),Ie(Zs,()=>t(z),f=>p(z,f)),Yt("wheel",Pt,In),L(e,Ur),Wi()}pa(["click","change","mousedown","dblclick","keydown"]);function po(e){_o(e,{})}ya(po,{target:document.getElementById("app")});
