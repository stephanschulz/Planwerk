var rl=Object.defineProperty;var gi=e=>{throw TypeError(e)};var il=(e,n,r)=>n in e?rl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var nt=(e,n,r)=>il(e,typeof n!="symbol"?n+"":n,r),xr=(e,n,r)=>n.has(e)||gi("Cannot "+r);var h=(e,n,r)=>(xr(e,n,"read from private field"),r?r.call(e):n.get(e)),K=(e,n,r)=>n.has(e)?gi("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),R=(e,n,r,l)=>(xr(e,n,"write to private field"),l?l.call(e,r):n.set(e,r),r),pe=(e,n,r)=>(xr(e,n,"access private method"),r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Ti=!1;var Oi=Array.isArray,sl=Array.prototype.indexOf,zr=Array.from,ll=Object.defineProperty,kn=Object.getOwnPropertyDescriptor,al=Object.getOwnPropertyDescriptors,ol=Object.prototype,fl=Array.prototype,zi=Object.getPrototypeOf,yi=Object.isExtensible;function cl(e){for(var n=0;n<e.length;n++)e[n]()}function Ni(){var e,n,r=new Promise((l,i)=>{e=l,n=i});return{promise:r,resolve:e,reject:n}}const Te=2,tr=4,Nr=8,bt=16,xt=32,Gt=64,nr=128,et=512,De=1024,Pe=2048,mt=4096,Be=8192,qt=16384,Lr=32768,cn=65536,bi=1<<17,Li=1<<18,_n=1<<19,ul=1<<20,Cn=32768,Er=1<<21,Rr=1<<22,At=1<<23,qn=Symbol("$state"),dl=Symbol(""),rn=new class extends Error{constructor(){super(...arguments);nt(this,"name","StaleReactionError");nt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function vl(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function hl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function _l(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function yl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ml(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function wl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const rr=1,ir=2,Ri=4,kl=8,El=16,Yi=1,Sl=2,Ce=Symbol(),Cl="http://www.w3.org/1999/xhtml";function Ml(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Dl=!1;function Pi(e){return e===this.v}function Al(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Ii(e){return!Al(e,this.v)}let zn=!1,Tl=!1;function Ol(){zn=!0}let be=null;function un(e){be=e}function Xi(e,n=!1,r){be={p:be,i:!1,c:null,e:null,s:e,x:null,l:zn&&!n?{s:null,u:null,$:[]}:null}}function Hi(e){var n=be,r=n.e;if(r!==null){n.e=null;for(var l of r)ss(l)}return n.i=!0,be=n.p,{}}function Nn(){return!zn||be!==null&&be.l===null}let Xt=[];function Bi(){var e=Xt;Xt=[],cl(e)}function pn(e){if(Xt.length===0&&!En){var n=Xt;queueMicrotask(()=>{n===Xt&&Bi()})}Xt.push(e)}function zl(){for(;Xt.length>0;)Bi()}function Fi(e){var n=J;if(n===null)return W.f|=At,e;if(n.f&Lr)dn(e,n);else{if(!(n.f&nr))throw e;n.b.error(e)}}function dn(e,n){for(;n!==null;){if(n.f&nr)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const jn=new Set;let ne=null,Un=null,ge=null,ot=[],sr=null,Sr=!1,En=!1;var ln,an,Ht,Bt,An,on,fn,Me,Cr,It,Wi,ji;const $n=class $n{constructor(){K(this,Me);nt(this,"committed",!1);nt(this,"current",new Map);nt(this,"previous",new Map);K(this,ln,new Set);K(this,an,new Set);K(this,Ht,0);K(this,Bt,0);K(this,An,null);K(this,on,[]);K(this,fn,[]);nt(this,"skipped_effects",new Set);nt(this,"is_fork",!1)}process(n){var l;ot=[],Un=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of n)pe(this,Me,Cr).call(this,i,r);this.is_fork||pe(this,Me,Wi).call(this),h(this,Bt)>0||this.is_fork?(pe(this,Me,It).call(this,r.effects),pe(this,Me,It).call(this,r.render_effects),pe(this,Me,It).call(this,r.block_effects)):(Un=this,ne=null,xi(r.render_effects),xi(r.effects),Un=null,(l=h(this,An))==null||l.resolve()),ge=null}capture(n,r){this.previous.has(n)||this.previous.set(n,r),n.f&At||(this.current.set(n,n.v),ge==null||ge.set(n,n.v))}activate(){ne=this,this.apply()}deactivate(){ne=null,ge=null}flush(){if(this.activate(),ot.length>0){if(qi(),ne!==null&&ne!==this)return}else h(this,Ht)===0&&this.process([]);this.deactivate()}discard(){for(const n of h(this,an))n(this);h(this,an).clear()}increment(n){R(this,Ht,h(this,Ht)+1),n&&R(this,Bt,h(this,Bt)+1)}decrement(n){R(this,Ht,h(this,Ht)-1),n&&R(this,Bt,h(this,Bt)-1),this.revive()}revive(){for(const n of h(this,on))Ae(n,Pe),Vt(n);for(const n of h(this,fn))Ae(n,mt),Vt(n);R(this,on,[]),R(this,fn,[]),this.flush()}oncommit(n){h(this,ln).add(n)}ondiscard(n){h(this,an).add(n)}settled(){return(h(this,An)??R(this,An,Ni())).promise}static ensure(){if(ne===null){const n=ne=new $n;jn.add(ne),En||$n.enqueue(()=>{ne===n&&n.flush()})}return ne}static enqueue(n){pn(n)}apply(){}};ln=new WeakMap,an=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,An=new WeakMap,on=new WeakMap,fn=new WeakMap,Me=new WeakSet,Cr=function(n,r){var w;n.f^=De;for(var l=n.first;l!==null;){var i=l.f,a=(i&(xt|Gt))!==0,o=a&&(i&De)!==0,u=o||(i&Be)!==0||this.skipped_effects.has(l);if(l.f&nr&&((w=l.b)!=null&&w.is_pending())&&(r={parent:r,effect:l,effects:[],render_effects:[],block_effects:[]}),!u&&l.fn!==null){a?l.f^=De:i&tr?r.effects.push(l):Rn(l)&&(l.f&bt&&r.block_effects.push(l),Dn(l));var c=l.first;if(c!==null){l=c;continue}}var d=l.parent;for(l=l.next;l===null&&d!==null;)d===r.effect&&(pe(this,Me,It).call(this,r.effects),pe(this,Me,It).call(this,r.render_effects),pe(this,Me,It).call(this,r.block_effects),r=r.parent),l=d.next,d=d.parent}},It=function(n){for(const r of n)(r.f&Pe?h(this,on):h(this,fn)).push(r),Ae(r,De)},Wi=function(){if(h(this,Bt)===0){for(const n of h(this,ln))n();h(this,ln).clear()}h(this,Ht)===0&&pe(this,Me,ji).call(this)},ji=function(){var i;if(jn.size>1){this.previous.clear();var n=ge,r=!0,l={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of jn){if(a===this){r=!1;continue}const o=[];for(const[c,d]of this.current){if(a.current.has(c))if(r&&d!==a.current.get(c))a.current.set(c,d);else continue;o.push(c)}if(o.length===0)continue;const u=[...a.current.keys()].filter(c=>!this.current.has(c));if(u.length>0){const c=new Set,d=new Map;for(const w of o)Ui(w,u,c,d);if(ot.length>0){ne=a,a.apply();for(const w of ot)pe(i=a,Me,Cr).call(i,w,l);ot=[],a.deactivate()}}}ne=null,ge=n}this.committed=!0,jn.delete(this)};let gt=$n;function Nl(e){var n=En;En=!0;try{for(var r;;){if(zl(),ot.length===0&&(ne==null||ne.flush(),ot.length===0))return sr=null,r;qi()}}finally{En=n}}function qi(){var e=Ut;Sr=!0;try{var n=0;for(wi(!0);ot.length>0;){var r=gt.ensure();if(n++>1e3){var l,i;Ll()}r.process(ot),Tt.clear()}}finally{Sr=!1,wi(e),sr=null}}function Ll(){try{yl()}catch(e){dn(e,sr)}}let Je=null;function xi(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var l=e[r++];if(!(l.f&(qt|Be))&&Rn(l)&&(Je=new Set,Dn(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?os(l):l.fn=null),(Je==null?void 0:Je.size)>0)){Tt.clear();for(const i of Je){if(i.f&(qt|Be))continue;const a=[i];let o=i.parent;for(;o!==null;)Je.has(o)&&(Je.delete(o),a.push(o)),o=o.parent;for(let u=a.length-1;u>=0;u--){const c=a[u];c.f&(qt|Be)||Dn(c)}}Je.clear()}}Je=null}}function Ui(e,n,r,l){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;a&Te?Ui(i,n,r,l):a&(Rr|bt)&&!(a&Pe)&&Ki(i,n,l)&&(Ae(i,Pe),Vt(i))}}function Ki(e,n,r){const l=r.get(e);if(l!==void 0)return l;if(e.deps!==null)for(const i of e.deps){if(n.includes(i))return!0;if(i.f&Te&&Ki(i,n,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function Vt(e){for(var n=sr=e;n.parent!==null;){n=n.parent;var r=n.f;if(Sr&&n===J&&r&bt&&!(r&Li))return;if(r&(Gt|xt)){if(!(r&De))return;n.f^=De}}ot.push(n)}function Rl(e){let n=0,r=Zt(0),l;return()=>{ar()&&(t(r),or(()=>(n===0&&(l=Yn(()=>e(()=>Sn(r)))),n+=1,()=>{pn(()=>{n-=1,n===0&&(l==null||l(),l=void 0,Sn(r))})})))}}var Yl=cn|_n|nr;function Pl(e,n,r){new Il(e,n,r)}var Ue,Ke,Or,it,Ft,st,Ve,Re,lt,_t,Ct,Wt,Mt,jt,Dt,Qn,Ee,Xl,Hl,Mr,Kn,Vn,Dr;class Il{constructor(n,r,l){K(this,Ee);nt(this,"parent");K(this,Ue,!1);K(this,Ke);K(this,Or,null);K(this,it);K(this,Ft);K(this,st);K(this,Ve,null);K(this,Re,null);K(this,lt,null);K(this,_t,null);K(this,Ct,null);K(this,Wt,0);K(this,Mt,0);K(this,jt,!1);K(this,Dt,null);K(this,Qn,Rl(()=>(R(this,Dt,Zt(h(this,Wt))),()=>{R(this,Dt,null)})));R(this,Ke,n),R(this,it,r),R(this,Ft,l),this.parent=J.b,R(this,Ue,!!h(this,it).pending),R(this,st,Ir(()=>{J.b=this;{var i=pe(this,Ee,Mr).call(this);try{R(this,Ve,Qe(()=>l(i)))}catch(a){this.error(a)}h(this,Mt)>0?pe(this,Ee,Vn).call(this):R(this,Ue,!1)}return()=>{var a;(a=h(this,Ct))==null||a.remove()}},Yl))}is_pending(){return h(this,Ue)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!h(this,it).pending}update_pending_count(n){pe(this,Ee,Dr).call(this,n),R(this,Wt,h(this,Wt)+n),h(this,Dt)&&vn(h(this,Dt),h(this,Wt))}get_effect_pending(){return h(this,Qn).call(this),t(h(this,Dt))}error(n){var r=h(this,it).onerror;let l=h(this,it).failed;if(h(this,jt)||!r&&!l)throw n;h(this,Ve)&&(Ne(h(this,Ve)),R(this,Ve,null)),h(this,Re)&&(Ne(h(this,Re)),R(this,Re,null)),h(this,lt)&&(Ne(h(this,lt)),R(this,lt,null));var i=!1,a=!1;const o=()=>{if(i){Ml();return}i=!0,a&&wl(),gt.ensure(),R(this,Wt,0),h(this,lt)!==null&&sn(h(this,lt),()=>{R(this,lt,null)}),R(this,Ue,this.has_pending_snippet()),R(this,Ve,pe(this,Ee,Kn).call(this,()=>(R(this,jt,!1),Qe(()=>h(this,Ft).call(this,h(this,Ke)))))),h(this,Mt)>0?pe(this,Ee,Vn).call(this):R(this,Ue,!1)};var u=W;try{Ye(null),a=!0,r==null||r(n,o),a=!1}catch(c){dn(c,h(this,st)&&h(this,st).parent)}finally{Ye(u)}l&&pn(()=>{R(this,lt,pe(this,Ee,Kn).call(this,()=>{gt.ensure(),R(this,jt,!0);try{return Qe(()=>{l(h(this,Ke),()=>n,()=>o)})}catch(c){return dn(c,h(this,st).parent),null}finally{R(this,jt,!1)}}))})}}Ue=new WeakMap,Ke=new WeakMap,Or=new WeakMap,it=new WeakMap,Ft=new WeakMap,st=new WeakMap,Ve=new WeakMap,Re=new WeakMap,lt=new WeakMap,_t=new WeakMap,Ct=new WeakMap,Wt=new WeakMap,Mt=new WeakMap,jt=new WeakMap,Dt=new WeakMap,Qn=new WeakMap,Ee=new WeakSet,Xl=function(){try{R(this,Ve,Qe(()=>h(this,Ft).call(this,h(this,Ke))))}catch(n){this.error(n)}R(this,Ue,!1)},Hl=function(){const n=h(this,it).pending;n&&(R(this,Re,Qe(()=>n(h(this,Ke)))),gt.enqueue(()=>{var r=pe(this,Ee,Mr).call(this);R(this,Ve,pe(this,Ee,Kn).call(this,()=>(gt.ensure(),Qe(()=>h(this,Ft).call(this,r))))),h(this,Mt)>0?pe(this,Ee,Vn).call(this):(sn(h(this,Re),()=>{R(this,Re,null)}),R(this,Ue,!1))}))},Mr=function(){var n=h(this,Ke);return h(this,Ue)&&(R(this,Ct,Ot()),h(this,Ke).before(h(this,Ct)),n=h(this,Ct)),n},Kn=function(n){var r=J,l=W,i=be;ct(h(this,st)),Ye(h(this,st)),un(h(this,st).ctx);try{return n()}catch(a){return Fi(a),null}finally{ct(r),Ye(l),un(i)}},Vn=function(){const n=h(this,it).pending;h(this,Ve)!==null&&(R(this,_t,document.createDocumentFragment()),h(this,_t).append(h(this,Ct)),us(h(this,Ve),h(this,_t))),h(this,Re)===null&&R(this,Re,Qe(()=>n(h(this,Ke))))},Dr=function(n){var r;if(!this.has_pending_snippet()){this.parent&&pe(r=this.parent,Ee,Dr).call(r,n);return}R(this,Mt,h(this,Mt)+n),h(this,Mt)===0&&(R(this,Ue,!1),h(this,Re)&&sn(h(this,Re),()=>{R(this,Re,null)}),h(this,_t)&&(h(this,Ke).before(h(this,_t)),R(this,_t,null)))};function Bl(e,n,r,l){const i=Nn()?Yr:Vi;if(r.length===0&&e.length===0){l(n.map(i));return}var a=ne,o=J,u=Fl();function c(){Promise.all(r.map(d=>Wl(d))).then(d=>{u();try{l([...n.map(i),...d])}catch(w){o.f&qt||dn(w,o)}a==null||a.deactivate(),Zn()}).catch(d=>{dn(d,o)})}e.length>0?Promise.all(e).then(()=>{u();try{return c()}finally{a==null||a.deactivate(),Zn()}}):c()}function Fl(){var e=J,n=W,r=be,l=ne;return function(a=!0){ct(e),Ye(n),un(r),a&&(l==null||l.activate())}}function Zn(){ct(null),Ye(null),un(null)}function Yr(e){var n=Te|Pe,r=W!==null&&W.f&Te?W:null;return J!==null&&(J.f|=_n),{ctx:be,deps:null,effects:null,equals:Pi,f:n,fn:e,reactions:null,rv:0,v:Ce,wv:0,parent:r??J,ac:null}}function Wl(e,n){let r=J;r===null&&hl();var l=r.b,i=void 0,a=Zt(Ce),o=!W,u=new Map;return ta(()=>{var S;var c=Ni();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===ne&&d.committed&&d.deactivate(),Zn()})}catch(D){c.reject(D),Zn()}var d=ne;if(o){var w=!l.is_pending();l.update_pending_count(1),d.increment(w),(S=u.get(d))==null||S.reject(rn),u.delete(d),u.set(d,c)}const M=(D,E=void 0)=>{if(d.activate(),E)E!==rn&&(a.f|=At,vn(a,E));else{a.f&At&&(a.f^=At),vn(a,D);for(const[I,z]of u){if(u.delete(I),I===d)break;z.reject(rn)}}o&&(l.update_pending_count(-1),d.decrement(w))};c.promise.then(M,D=>M(null,D||"unknown"))}),is(()=>{for(const c of u.values())c.reject(rn)}),new Promise(c=>{function d(w){function M(){w===i?c(a):d(i)}w.then(M,M)}d(i)})}function $t(e){const n=Yr(e);return ds(n),n}function Vi(e){const n=Yr(e);return n.equals=Ii,n}function Zi(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Ne(n[r])}}function jl(e){for(var n=e.parent;n!==null;){if(!(n.f&Te))return n;n=n.parent}return null}function Pr(e){var n,r=J;ct(jl(e));try{e.f&=~Cn,Zi(e),n=ps(e)}finally{ct(r)}return n}function Gi(e){var n=Pr(e);if(e.equals(n)||(e.v=n,e.wv=hs()),!gn)if(ge!==null)ar()&&ge.set(e,e.v);else{var r=e.f&et?De:mt;Ae(e,r)}}let Ar=new Set;const Tt=new Map;let Ji=!1;function Zt(e,n){var r={f:0,v:e,reactions:null,equals:Pi,rv:0,wv:0};return r}function V(e,n){const r=Zt(e);return ds(r),r}function ql(e,n=!1,r=!0){var i;const l=Zt(e);return n||(l.equals=Ii),zn&&r&&be!==null&&be.l!==null&&((i=be.l).s??(i.s=[])).push(l),l}function p(e,n,r=!1){W!==null&&(!ft||W.f&bi)&&Nn()&&W.f&(Te|bt|Rr|bi)&&!(Le!=null&&Le.includes(e))&&ml();let l=r?yt(n):n;return vn(e,l)}function vn(e,n){if(!e.equals(n)){var r=e.v;gn?Tt.set(e,n):Tt.set(e,r),e.v=n;var l=gt.ensure();l.capture(e,r),e.f&Te&&(e.f&Pe&&Pr(e),Ae(e,e.f&et?De:mt)),e.wv=hs(),$i(e,Pe),Nn()&&J!==null&&J.f&De&&!(J.f&(xt|Gt))&&(qe===null?ia([e]):qe.push(e)),!l.is_fork&&Ar.size>0&&!Ji&&Ul()}return n}function Ul(){Ji=!1;const e=Array.from(Ar);for(const n of e)n.f&De&&Ae(n,mt),Rn(n)&&Dn(n);Ar.clear()}function Sn(e){p(e,e.v+1)}function $i(e,n){var r=e.reactions;if(r!==null)for(var l=Nn(),i=r.length,a=0;a<i;a++){var o=r[a],u=o.f;if(!(!l&&o===J)){var c=(u&Pe)===0;if(c&&Ae(o,n),u&Te){var d=o;ge==null||ge.delete(d),u&Cn||(u&et&&(o.f|=Cn),$i(d,mt))}else c&&(u&bt&&Je!==null&&Je.add(o),Vt(o))}}}function yt(e){if(typeof e!="object"||e===null||qn in e)return e;const n=zi(e);if(n!==ol&&n!==fl)return e;var r=new Map,l=Oi(e),i=V(0),a=Kt,o=u=>{if(Kt===a)return u();var c=W,d=Kt;Ye(null),Ei(a);var w=u();return Ye(c),Ei(d),w};return l&&r.set("length",V(e.length)),new Proxy(e,{defineProperty(u,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&bl();var w=r.get(c);return w===void 0?w=o(()=>{var M=V(d.value);return r.set(c,M),M}):p(w,d.value,!0),!0},deleteProperty(u,c){var d=r.get(c);if(d===void 0){if(c in u){const w=o(()=>V(Ce));r.set(c,w),Sn(i)}}else p(d,Ce),Sn(i);return!0},get(u,c,d){var D;if(c===qn)return e;var w=r.get(c),M=c in u;if(w===void 0&&(!M||(D=kn(u,c))!=null&&D.writable)&&(w=o(()=>{var E=yt(M?u[c]:Ce),I=V(E);return I}),r.set(c,w)),w!==void 0){var S=t(w);return S===Ce?void 0:S}return Reflect.get(u,c,d)},getOwnPropertyDescriptor(u,c){var d=Reflect.getOwnPropertyDescriptor(u,c);if(d&&"value"in d){var w=r.get(c);w&&(d.value=t(w))}else if(d===void 0){var M=r.get(c),S=M==null?void 0:M.v;if(M!==void 0&&S!==Ce)return{enumerable:!0,configurable:!0,value:S,writable:!0}}return d},has(u,c){var S;if(c===qn)return!0;var d=r.get(c),w=d!==void 0&&d.v!==Ce||Reflect.has(u,c);if(d!==void 0||J!==null&&(!w||(S=kn(u,c))!=null&&S.writable)){d===void 0&&(d=o(()=>{var D=w?yt(u[c]):Ce,E=V(D);return E}),r.set(c,d));var M=t(d);if(M===Ce)return!1}return w},set(u,c,d,w){var j;var M=r.get(c),S=c in u;if(l&&c==="length")for(var D=d;D<M.v;D+=1){var E=r.get(D+"");E!==void 0?p(E,Ce):D in u&&(E=o(()=>V(Ce)),r.set(D+"",E))}if(M===void 0)(!S||(j=kn(u,c))!=null&&j.writable)&&(M=o(()=>V(void 0)),p(M,yt(d)),r.set(c,M));else{S=M.v!==Ce;var I=o(()=>yt(d));p(M,I)}var z=Reflect.getOwnPropertyDescriptor(u,c);if(z!=null&&z.set&&z.set.call(w,d),!S){if(l&&typeof c=="string"){var B=r.get("length"),ve=Number(c);Number.isInteger(ve)&&ve>=B.v&&p(B,ve+1)}Sn(i)}return!0},ownKeys(u){t(i);var c=Reflect.ownKeys(u).filter(M=>{var S=r.get(M);return S===void 0||S.v!==Ce});for(var[d,w]of r)w.v!==Ce&&!(d in u)&&c.push(d);return c},setPrototypeOf(){xl()}})}var Gn,Qi,es,ts;function Kl(){if(Gn===void 0){Gn=window,Qi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;es=kn(n,"firstChild").get,ts=kn(n,"nextSibling").get,yi(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),yi(r)&&(r.__t=void 0)}}function Ot(e=""){return document.createTextNode(e)}function pt(e){return es.call(e)}function Ln(e){return ts.call(e)}function A(e,n){return pt(e)}function Oe(e,n=!1){{var r=pt(e);return r instanceof Comment&&r.data===""?Ln(r):r}}function g(e,n=1,r=!1){let l=e;for(;n--;)l=Ln(l);return l}function Vl(e){e.textContent=""}function ns(){return!1}let mi=!1;function Zl(){mi||(mi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const r of e.target.elements)(n=r.__on_r)==null||n.call(r)})},{capture:!0}))}function lr(e){var n=W,r=J;Ye(null),ct(null);try{return e()}finally{Ye(n),ct(r)}}function rs(e,n,r,l=r){e.addEventListener(n,()=>lr(r));const i=e.__on_r;i?e.__on_r=()=>{i(),l(!0)}:e.__on_r=()=>l(!0),Zl()}function Gl(e){J===null&&(W===null&&gl(),pl()),gn&&_l()}function Jl(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function wt(e,n,r,l=!0){var i=J;i!==null&&i.f&Be&&(e|=Be);var a={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:e|Pe|et,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Dn(a),a.f|=Lr}catch(c){throw Ne(a),c}else n!==null&&Vt(a);if(l){var o=a;if(r&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&_n)&&(o=o.first,e&bt&&e&cn&&o!==null&&(o.f|=cn)),o!==null&&(o.parent=i,i!==null&&Jl(o,i),W!==null&&W.f&Te&&!(e&Gt))){var u=W;(u.effects??(u.effects=[])).push(o)}}return a}function ar(){return W!==null&&!ft}function is(e){const n=wt(Nr,null,!1);return Ae(n,De),n.teardown=e,n}function $l(e){Gl();var n=J.f,r=!W&&(n&xt)!==0&&(n&Lr)===0;if(r){var l=be;(l.e??(l.e=[])).push(e)}else return ss(e)}function ss(e){return wt(tr|ul,e,!1)}function Ql(e){gt.ensure();const n=wt(Gt|_n,e,!0);return(r={})=>new Promise(l=>{r.outro?sn(n,()=>{Ne(n),l(void 0)}):(Ne(n),l(void 0))})}function ea(e){return wt(tr,e,!1)}function ta(e){return wt(Rr|_n,e,!0)}function or(e,n=0){return wt(Nr|n,e,!0)}function ie(e,n=[],r=[],l=[],i=!1){Bl(l,n,r,a=>{wt(i?tr:Nr,()=>e(...a.map(t)),!0)})}function Ir(e,n=0){var r=wt(bt|n,e,!0);return r}function Qe(e,n=!0){return wt(xt|_n,e,!0,n)}function ls(e){var n=e.teardown;if(n!==null){const r=gn,l=W;ki(!0),Ye(null);try{n.call(null)}finally{ki(r),Ye(l)}}}function as(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&lr(()=>{i.abort(rn)});var l=r.next;r.f&Gt?r.parent=null:Ne(r,n),r=l}}function na(e){for(var n=e.first;n!==null;){var r=n.next;n.f&xt||Ne(n),n=r}}function Ne(e,n=!0){var r=!1;(n||e.f&Li)&&e.nodes_start!==null&&e.nodes_end!==null&&(ra(e.nodes_start,e.nodes_end),r=!0),as(e,n&&!r),Jn(e,0),Ae(e,qt);var l=e.transitions;if(l!==null)for(const a of l)a.stop();ls(e);var i=e.parent;i!==null&&i.first!==null&&os(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ra(e,n){for(;e!==null;){var r=e===n?null:Ln(e);e.remove(),e=r}}function os(e){var n=e.parent,r=e.prev,l=e.next;r!==null&&(r.next=l),l!==null&&(l.prev=r),n!==null&&(n.first===e&&(n.first=l),n.last===e&&(n.last=r))}function sn(e,n,r=!0){var l=[];Xr(e,l,!0),fs(l,()=>{r&&Ne(e),n&&n()})}function fs(e,n){var r=e.length;if(r>0){var l=()=>--r||n();for(var i of e)i.out(l)}else n()}function Xr(e,n,r){if(!(e.f&Be)){if(e.f^=Be,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&n.push(o);for(var l=e.first;l!==null;){var i=l.next,a=(l.f&cn)!==0||(l.f&xt)!==0&&(e.f&bt)!==0;Xr(l,n,a?r:!1),l=i}}}function Hr(e){cs(e,!0)}function cs(e,n){if(e.f&Be){e.f^=Be,e.f&De||(Ae(e,Pe),Vt(e));for(var r=e.first;r!==null;){var l=r.next,i=(r.f&cn)!==0||(r.f&xt)!==0;cs(r,i?n:!1),r=l}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}function us(e,n){for(var r=e.nodes_start,l=e.nodes_end;r!==null;){var i=r===l?null:Ln(r);n.append(r),r=i}}let Ut=!1;function wi(e){Ut=e}let gn=!1;function ki(e){gn=e}let W=null,ft=!1;function Ye(e){W=e}let J=null;function ct(e){J=e}let Le=null;function ds(e){W!==null&&(Le===null?Le=[e]:Le.push(e))}let ze=null,Xe=0,qe=null;function ia(e){qe=e}let vs=1,Mn=0,Kt=Mn;function Ei(e){Kt=e}function hs(){return++vs}function Rn(e){var n=e.f;if(n&Pe)return!0;if(n&Te&&(e.f&=~Cn),n&mt){var r=e.deps;if(r!==null)for(var l=r.length,i=0;i<l;i++){var a=r[i];if(Rn(a)&&Gi(a),a.wv>e.wv)return!0}n&et&&ge===null&&Ae(e,De)}return!1}function _s(e,n,r=!0){var l=e.reactions;if(l!==null&&!(Le!=null&&Le.includes(e)))for(var i=0;i<l.length;i++){var a=l[i];a.f&Te?_s(a,n,!1):n===a&&(r?Ae(a,Pe):a.f&De&&Ae(a,mt),Vt(a))}}function ps(e){var E;var n=ze,r=Xe,l=qe,i=W,a=Le,o=be,u=ft,c=Kt,d=e.f;ze=null,Xe=0,qe=null,W=d&(xt|Gt)?null:e,Le=null,un(e.ctx),ft=!1,Kt=++Mn,e.ac!==null&&(lr(()=>{e.ac.abort(rn)}),e.ac=null);try{e.f|=Er;var w=e.fn,M=w(),S=e.deps;if(ze!==null){var D;if(Jn(e,Xe),S!==null&&Xe>0)for(S.length=Xe+ze.length,D=0;D<ze.length;D++)S[Xe+D]=ze[D];else e.deps=S=ze;if(Ut&&ar()&&e.f&et)for(D=Xe;D<S.length;D++)((E=S[D]).reactions??(E.reactions=[])).push(e)}else S!==null&&Xe<S.length&&(Jn(e,Xe),S.length=Xe);if(Nn()&&qe!==null&&!ft&&S!==null&&!(e.f&(Te|mt|Pe)))for(D=0;D<qe.length;D++)_s(qe[D],e);return i!==null&&i!==e&&(Mn++,qe!==null&&(l===null?l=qe:l.push(...qe))),e.f&At&&(e.f^=At),M}catch(I){return Fi(I)}finally{e.f^=Er,ze=n,Xe=r,qe=l,W=i,Le=a,un(o),ft=u,Kt=c}}function sa(e,n){let r=n.reactions;if(r!==null){var l=sl.call(r,e);if(l!==-1){var i=r.length-1;i===0?r=n.reactions=null:(r[l]=r[i],r.pop())}}r===null&&n.f&Te&&(ze===null||!ze.includes(n))&&(Ae(n,mt),n.f&et&&(n.f^=et,n.f&=~Cn),Zi(n),Jn(n,0))}function Jn(e,n){var r=e.deps;if(r!==null)for(var l=n;l<r.length;l++)sa(e,r[l])}function Dn(e){var n=e.f;if(!(n&qt)){Ae(e,De);var r=J,l=Ut;J=e,Ut=!0;try{n&bt?na(e):as(e),ls(e);var i=ps(e);e.teardown=typeof i=="function"?i:null,e.wv=vs;var a;Ti&&Tl&&e.f&Pe&&e.deps}finally{Ut=l,J=r}}}async function la(){await Promise.resolve(),Nl()}function t(e){var n=e.f,r=(n&Te)!==0;if(W!==null&&!ft){var l=J!==null&&(J.f&qt)!==0;if(!l&&!(Le!=null&&Le.includes(e))){var i=W.deps;if(W.f&Er)e.rv<Mn&&(e.rv=Mn,ze===null&&i!==null&&i[Xe]===e?Xe++:ze===null?ze=[e]:ze.includes(e)||ze.push(e));else{(W.deps??(W.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[W]:a.includes(W)||a.push(W)}}}if(gn){if(Tt.has(e))return Tt.get(e);if(r){var o=e,u=o.v;return(!(o.f&De)&&o.reactions!==null||ys(o))&&(u=Pr(o)),Tt.set(o,u),u}}else if(r){if(o=e,ge!=null&&ge.has(o))return ge.get(o);Rn(o)&&Gi(o),Ut&&ar()&&!(o.f&et)&&gs(o)}else if(ge!=null&&ge.has(e))return ge.get(e);if(e.f&At)throw e.v;return e.v}function gs(e){if(e.deps!==null){e.f^=et;for(const n of e.deps)(n.reactions??(n.reactions=[])).push(e),n.f&Te&&!(n.f&et)&&gs(n)}}function ys(e){if(e.v===Ce)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(Tt.has(n)||n.f&Te&&ys(n))return!0;return!1}function Yn(e){var n=ft;try{return ft=!0,e()}finally{ft=n}}const aa=-7169;function Ae(e,n){e.f=e.f&aa|n}const oa=["touchstart","touchmove"];function fa(e){return oa.includes(e)}const bs=new Set,Tr=new Set;function ca(e,n,r,l={}){function i(a){if(l.capture||wn.call(n,a),!a.cancelBubble)return lr(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pn(()=>{n.addEventListener(e,i,l)}):n.addEventListener(e,i,l),i}function Pt(e,n,r,l,i){var a={capture:l,passive:i},o=ca(e,n,r,a);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&is(()=>{n.removeEventListener(e,o,a)})}function ua(e){for(var n=0;n<e.length;n++)bs.add(e[n]);for(var r of Tr)r(e)}let Si=null;function wn(e){var z;var n=this,r=n.ownerDocument,l=e.type,i=((z=e.composedPath)==null?void 0:z.call(e))||[],a=i[0]||e.target;Si=e;var o=0,u=Si===e&&e.__root;if(u){var c=i.indexOf(u);if(c!==-1&&(n===document||n===window)){e.__root=n;return}var d=i.indexOf(n);if(d===-1)return;c<=d&&(o=c)}if(a=i[o]||e.target,a!==n){ll(e,"currentTarget",{configurable:!0,get(){return a||r}});var w=W,M=J;Ye(null),ct(null);try{for(var S,D=[];a!==null;){var E=a.assignedSlot||a.parentNode||a.host||null;try{var I=a["__"+l];I!=null&&(!a.disabled||e.target===a)&&I.call(a,e)}catch(B){S?D.push(B):S=B}if(e.cancelBubble||E===n||E===null)break;a=E}if(S){for(let B of D)queueMicrotask(()=>{throw B});throw S}}finally{e.__root=n,delete e.currentTarget,Ye(w),ct(M)}}}function xs(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function hn(e,n){var r=J;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=n)}function kt(e,n){var r=(n&Yi)!==0,l=(n&Sl)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=xs(a?e:"<!>"+e),r||(i=pt(i)));var o=l||Qi?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=pt(o),c=o.lastChild;hn(u,c)}else hn(o,o);return o}}function da(e,n,r="svg"){var l=!e.startsWith("<!>"),i=(n&Yi)!==0,a=`<${r}>${l?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var u=xs(a),c=pt(u);if(i)for(o=document.createDocumentFragment();pt(c);)o.appendChild(pt(c));else o=pt(c)}var d=o.cloneNode(!0);if(i){var w=pt(d),M=d.lastChild;hn(w,M)}else hn(d,d);return d}}function ue(e,n){return da(e,n,"svg")}function xn(e=""){{var n=Ot(e+"");return hn(n,n),n}}function ht(){var e=document.createDocumentFragment(),n=document.createComment(""),r=Ot();return e.append(n,r),hn(n,r),e}function N(e,n){e!==null&&e.before(n)}function Qt(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function va(e,n){return ha(e,n)}const en=new Map;function ha(e,{target:n,anchor:r,props:l={},events:i,context:a,intro:o=!0}){Kl();var u=new Set,c=M=>{for(var S=0;S<M.length;S++){var D=M[S];if(!u.has(D)){u.add(D);var E=fa(D);n.addEventListener(D,wn,{passive:E});var I=en.get(D);I===void 0?(document.addEventListener(D,wn,{passive:E}),en.set(D,1)):en.set(D,I+1)}}};c(zr(bs)),Tr.add(c);var d=void 0,w=Ql(()=>{var M=r??n.appendChild(Ot());return Pl(M,{pending:()=>{}},S=>{if(a){Xi({});var D=be;D.c=a}i&&(l.$$events=i),d=e(S,l)||{},a&&Hi()}),()=>{var E;for(var S of u){n.removeEventListener(S,wn);var D=en.get(S);--D===0?(document.removeEventListener(S,wn),en.delete(S)):en.set(S,D)}Tr.delete(c),M!==r&&((E=M.parentNode)==null||E.removeChild(M))}});return _a.set(d,w),d}let _a=new WeakMap;var $e,at,He,Tn,On,er;class pa{constructor(n,r=!0){nt(this,"anchor");K(this,$e,new Map);K(this,at,new Map);K(this,He,new Map);K(this,Tn,!0);K(this,On,()=>{var n=ne;if(h(this,$e).has(n)){var r=h(this,$e).get(n),l=h(this,at).get(r);if(l)Hr(l);else{var i=h(this,He).get(r);i&&(h(this,at).set(r,i.effect),h(this,He).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),l=i.effect)}for(const[a,o]of h(this,$e)){if(h(this,$e).delete(a),a===n)break;const u=h(this,He).get(o);u&&(Ne(u.effect),h(this,He).delete(o))}for(const[a,o]of h(this,at)){if(a===r)continue;const u=()=>{if(Array.from(h(this,$e).values()).includes(a)){var d=document.createDocumentFragment();us(o,d),d.append(Ot()),h(this,He).set(a,{effect:o,fragment:d})}else Ne(o);h(this,at).delete(a)};h(this,Tn)||!l?sn(o,u,!1):u()}}});K(this,er,n=>{h(this,$e).delete(n);const r=Array.from(h(this,$e).values());for(const[l,i]of h(this,He))r.includes(l)||(Ne(i.effect),h(this,He).delete(l))});this.anchor=n,R(this,Tn,r)}ensure(n,r){var l=ne,i=ns();if(r&&!h(this,at).has(n)&&!h(this,He).has(n))if(i){var a=document.createDocumentFragment(),o=Ot();a.append(o),h(this,He).set(n,{effect:Qe(()=>r(o)),fragment:a})}else h(this,at).set(n,Qe(()=>r(this.anchor)));if(h(this,$e).set(l,n),i){for(const[u,c]of h(this,at))u===n?l.skipped_effects.delete(c):l.skipped_effects.add(c);for(const[u,c]of h(this,He))u===n?l.skipped_effects.delete(c.effect):l.skipped_effects.add(c.effect);l.oncommit(h(this,On)),l.ondiscard(h(this,er))}else h(this,On).call(this)}}$e=new WeakMap,at=new WeakMap,He=new WeakMap,Tn=new WeakMap,On=new WeakMap,er=new WeakMap;function ee(e,n,r=!1){var l=new pa(e),i=r?cn:0;function a(o,u){l.ensure(o,u)}Ir(()=>{var o=!1;n((u,c=!0)=>{o=!0,a(c,u)}),o||a(!1,null)},i)}function mn(e,n){return n}function ga(e,n,r){for(var l=e.items,i=[],a=n.length,o=0;o<a;o++)Xr(n[o].e,i,!0);var u=a>0&&i.length===0&&r!==null;if(u){var c=r.parentNode;Vl(c),c.append(r),l.clear(),rt(e,n[0].prev,n[a-1].next)}fs(i,()=>{for(var d=0;d<a;d++){var w=n[d];u||(l.delete(w.k),rt(e,w.prev,w.next)),Ne(w.e,!u)}})}function tn(e,n,r,l,i,a=null){var o=e,u={flags:n,items:new Map,first:null},c=(n&Ri)!==0;if(c){var d=e;o=d.appendChild(Ot())}var w=null,M=!1,S=new Map,D=Vi(()=>{var B=r();return Oi(B)?B:B==null?[]:zr(B)}),E,I;function z(){ya(I,E,u,S,o,i,n,l,r),a!==null&&(E.length===0?w?Hr(w):w=Qe(()=>a(o)):w!==null&&sn(w,()=>{w=null}))}Ir(()=>{I??(I=J),E=t(D);var B=E.length;if(!(M&&B===0)){M=B===0;var ve,j,xe,se;if(ns()){var F=new Set,te=ne;for(j=0;j<B;j+=1){xe=E[j],se=l(xe,j);var Fe=u.items.get(se)??S.get(se);Fe?n&(rr|ir)&&ms(Fe,xe,j,n):(ve=ws(null,u,null,null,xe,se,j,i,n,r,!0),S.set(se,ve)),F.add(se)}for(const[ut,yn]of u.items)F.has(ut)||te.skipped_effects.add(yn.e);te.oncommit(z)}else z();t(D)}})}function ya(e,n,r,l,i,a,o,u,c){var In,Xn,Hn,zt;var d=(o&kl)!==0,w=(o&(rr|ir))!==0,M=n.length,S=r.items,D=r.first,E=D,I,z=null,B,ve=[],j=[],xe,se,F,te;if(d)for(te=0;te<M;te+=1)xe=n[te],se=u(xe,te),F=S.get(se),F!==void 0&&((In=F.a)==null||In.measure(),(B??(B=new Set)).add(F));for(te=0;te<M;te+=1){if(xe=n[te],se=u(xe,te),F=S.get(se),F===void 0){var Fe=l.get(se);if(Fe!==void 0){l.delete(se),S.set(se,Fe);var ut=z?z.next:E;rt(r,z,Fe),rt(r,Fe,ut),mr(Fe,ut,i),z=Fe}else{var yn=E?E.e.nodes_start:i;z=ws(yn,r,z,z===null?r.first:z.next,xe,se,te,a,o,c)}S.set(se,z),ve=[],j=[],E=z.next;continue}if(w&&ms(F,xe,te,o),F.e.f&Be&&(Hr(F.e),d&&((Xn=F.a)==null||Xn.unfix(),(B??(B=new Set)).delete(F))),F!==E){if(I!==void 0&&I.has(F)){if(ve.length<j.length){var Jt=j[0],tt;z=Jt.prev;var Pn=ve[0],Et=ve[ve.length-1];for(tt=0;tt<ve.length;tt+=1)mr(ve[tt],Jt,i);for(tt=0;tt<j.length;tt+=1)I.delete(j[tt]);rt(r,Pn.prev,Et.next),rt(r,z,Pn),rt(r,Et,Jt),E=Jt,z=Et,te-=1,ve=[],j=[]}else I.delete(F),mr(F,E,i),rt(r,F.prev,F.next),rt(r,F,z===null?r.first:z.next),rt(r,z,F),z=F;continue}for(ve=[],j=[];E!==null&&E.k!==se;)E.e.f&Be||(I??(I=new Set)).add(E),j.push(E),E=E.next;if(E===null)continue;F=E}ve.push(F),z=F,E=F.next}if(E!==null||I!==void 0){for(var dt=I===void 0?[]:zr(I);E!==null;)E.e.f&Be||dt.push(E),E=E.next;var bn=dt.length;if(bn>0){var fr=o&Ri&&M===0?i:null;if(d){for(te=0;te<bn;te+=1)(Hn=dt[te].a)==null||Hn.measure();for(te=0;te<bn;te+=1)(zt=dt[te].a)==null||zt.fix()}ga(r,dt,fr)}}d&&pn(()=>{var Nt;if(B!==void 0)for(F of B)(Nt=F.a)==null||Nt.apply()}),e.first=r.first&&r.first.e,e.last=z&&z.e;for(var cr of l.values())Ne(cr.e);l.clear()}function ms(e,n,r,l){l&rr&&vn(e.v,n),l&ir?vn(e.i,r):e.i=r}function ws(e,n,r,l,i,a,o,u,c,d,w){var M=(c&rr)!==0,S=(c&El)===0,D=M?S?ql(i,!1,!1):Zt(i):i,E=c&ir?Zt(o):o,I={i:E,v:D,k:a,a:null,e:null,prev:r,next:l};try{if(e===null){var z=document.createDocumentFragment();z.append(e=Ot())}return I.e=Qe(()=>u(e,D,E,d),Dl),I.e.prev=r&&r.e,I.e.next=l&&l.e,r===null?w||(n.first=I):(r.next=I,r.e.next=I.e),l!==null&&(l.prev=I,l.e.prev=I.e),I}finally{}}function mr(e,n,r){for(var l=e.next?e.next.e.nodes_start:r,i=n?n.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==l;){var o=Ln(a);i.before(a),a=o}}function rt(e,n,r){n===null?e.first=r:(n.next=r,n.e.next=r&&r.e),r!==null&&(r.prev=n,r.e.prev=n&&n.e)}const Ci=[...` 	
\r\fÂ \v\uFEFF`];function ba(e,n,r){var l=e==null?"":""+e;if(r){for(var i in r)if(r[i])l=l?l+" "+i:i;else if(l.length)for(var a=i.length,o=0;(o=l.indexOf(i,o))>=0;){var u=o+a;(o===0||Ci.includes(l[o-1]))&&(u===l.length||Ci.includes(l[u]))?l=(o===0?"":l.substring(0,o))+l.substring(u+1):o=u}}return l===""?null:l}function xa(e,n){return e==null?null:String(e)}function ce(e,n,r,l,i,a){var o=e.__className;if(o!==r||o===void 0){var u=ba(r,l,a);u==null?e.removeAttribute("class"):n?e.className=u:e.setAttribute("class",u),e.__className=r}else if(a&&i!==a)for(var c in a){var d=!!a[c];(i==null||d!==!!i[c])&&e.classList.toggle(c,d)}return a}function ma(e,n,r,l){var i=e.__style;if(i!==n){var a=xa(n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=n}return l}const wa=Symbol("is custom element"),ka=Symbol("is html");function b(e,n,r,l){var i=Ea(e);i[n]!==(i[n]=r)&&(n==="loading"&&(e[dl]=r),r==null?e.removeAttribute(n):typeof r!="string"&&Sa(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function Ea(e){return e.__attributes??(e.__attributes={[wa]:e.nodeName.includes("-"),[ka]:e.namespaceURI===Cl})}var Mi=new Map;function Sa(e){var n=e.getAttribute("is")||e.nodeName,r=Mi.get(n);if(r)return r;Mi.set(n,r=[]);for(var l,i=e,a=Element.prototype;a!==i;){l=al(i);for(var o in l)l[o].set&&r.push(o);i=zi(i)}return r}function Ie(e,n,r=n){var l=new WeakSet;rs(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=wr(e)?kr(a):a,r(a),ne!==null&&l.add(ne),await la(),a!==(a=n())){var o=e.selectionStart,u=e.selectionEnd,c=e.value.length;if(e.value=a??"",u!==null){var d=e.value.length;o===u&&u===c&&d>c?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=o,e.selectionEnd=Math.min(u,d))}}}),Yn(n)==null&&e.value&&(r(wr(e)?kr(e.value):e.value),ne!==null&&l.add(ne)),or(()=>{var i=n();if(e===document.activeElement){var a=Un??ne;if(l.has(a))return}wr(e)&&i===kr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function nn(e,n,r=n){rs(e,"change",l=>{var i=l?e.defaultChecked:e.checked;r(i)}),Yn(n)==null&&r(e.checked),or(()=>{var l=n();e.checked=!!l})}function wr(e){var n=e.type;return n==="number"||n==="range"}function kr(e){return e===""?null:+e}function Di(e,n){return e===n||(e==null?void 0:e[qn])===n}function Ca(e={},n,r,l){return ea(()=>{var i,a;return or(()=>{i=a,a=[],Yn(()=>{e!==r(...a)&&(n(e,...a),i&&Di(r(...i),e)&&n(null,...i))})}),()=>{pn(()=>{a&&Di(r(...a),e)&&n(null,...a)})}}),e}function Ma(e){be===null&&vl(),zn&&be.l!==null?Da(be).m.push(e):$l(()=>{const n=Yn(e);if(typeof n=="function")return n})}function Da(e){var n=e.l;return n.u??(n.u={a:[],b:[],m:[]})}const Aa="5";var Ai;typeof window<"u"&&((Ai=window.__svelte??(window.__svelte={})).v??(Ai.v=new Set)).add(Aa);Ol();var Ta=kt("<option> </option>"),Oa=kt('<label>Saved Designs: <select class="design-select svelte-ihemak"><option>-- Select Design --</option><!></select></label> <button class="action-btn delete-btn svelte-ihemak" title="Delete selected design">Delete Selected</button>',1),za=ue('<rect width="100%" height="100%" fill="url(#grid)"></rect>'),Na=ue('<rect fill="#cccccc" stroke="none" class="svelte-ihemak"></rect>'),La=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Ra=ue("<tspan> </tspan>"),Ya=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),Pa=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),Ia=ue('<g><!><rect stroke="#000000" stroke-width="2" class="svelte-ihemak"></rect><!><!></g>'),Xa=ue('<circle fill="#cccccc" stroke="none"></circle>'),Ha=ue(`<foreignObject><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 12px; border: 2px solid #ff5722; background: white; resize: none; overflow: auto;"></textarea></foreignObject>`),Ba=ue("<tspan> </tspan>"),Fa=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="middle" pointer-events="none" class="svelte-ihemak"></text>`),Wa=ue('<circle r="5" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>'),ja=ue('<g><!><circle stroke="#000000" stroke-width="2"></circle><!><!></g>'),qa=ue('<circle r="4" fill="#000000"></circle>'),Ua=ue(`<foreignObject width="200" height="60"><textarea class="inline-text-edit" style="width: 100%; height: 100%; text-align: center; font-family: ui-monospace, 'Courier New', monospace; font-size: 11px; border: 2px solid #ff5722; background: white; padding: 2px; resize: none; overflow: auto;"></textarea></foreignObject>`),Ka=ue("<tspan> </tspan>"),Va=ue(`<text font-family="ui-monospace, 'Courier New', monospace" text-anchor="middle" dominant-baseline="baseline" fill="#000000" pointer-events="none" class="svelte-ihemak"></text>`),Za=ue('<circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle><circle r="6" fill="#ff5722" stroke="#000000" stroke-width="1" class="resize-handle svelte-ihemak"></circle>',1),Ga=ue('<g><line stroke="#000000" stroke-width="2" class="svelte-ihemak"></line><!><line stroke="transparent" stroke-width="20" class="svelte-ihemak"></line><!><!></g>'),Ja=ue('<foreignObject width="300" height="150"><textarea class="inline-text-edit"></textarea></foreignObject>'),$a=ue("<tspan> </tspan>"),Qa=ue(`<text font-family="ui-monospace, 'Courier New', monospace" fill="#000000" class="svelte-ihemak"></text>`),eo=ue("<g><!></g>"),to=kt('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click to edit text inline. Press Enter for line breaks, Esc to finish.</div>'),no=kt('<label class="svelte-ihemak">Width: <input type="number" min="50" max="500" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Height: <input type="number" min="30" max="300" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),ro=kt('<label class="svelte-ihemak">Radius: <input type="number" min="20" max="200" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Text Size: <input type="number" min="8" max="48" class="svelte-ihemak"/></label> <label class="svelte-ihemak">Background: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="svelte-ihemak">Text Color: <div class="color-buttons svelte-ihemak"><button style="background: #000000; color: white;">Black</button> <button style="background: #ffffff; color: black; border: 1px solid #000;">White</button> <button style="background: #ff5722; color: white;">Orange</button></div></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Drop Shadow</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Dashed Outline</label>',1),io=kt('<label class="svelte-ihemak">Font Size: <input type="number" min="8" max="72" class="svelte-ihemak"/></label>'),so=kt('<div class="inline-edit-hint svelte-ihemak">ðŸ’¡ Double-click line to add label. Press Enter for line breaks, Esc to finish.</div> <label class="svelte-ihemak">Label Size: <input type="number" min="8" max="24" placeholder="11" class="svelte-ihemak"/></label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> End Circle</label> <label class="checkbox svelte-ihemak"><input type="checkbox" class="svelte-ihemak"/> Arrow Head</label>',1),lo=kt('<div class="properties-panel svelte-ihemak"><h3 class="svelte-ihemak">Properties</h3> <!> <!> <!> <!> <!></div>'),ao=kt(`<div class="builder-container svelte-ihemak"><div class="left-panel svelte-ihemak"><div class="toolbar svelte-ihemak"><div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Tools</h3> <div class="tool-grid svelte-ihemak"><button title="Select (Esc)"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><path d="M2 2 L2 18 L8 12 L12 18 L15 16 L11 10 L18 8 Z" fill="currentColor"></path></svg> <span class="svelte-ihemak">Select</span></button> <button title="Add Box"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><rect x="2" y="4" width="16" height="12" fill="none" stroke="currentColor" stroke-width="2"></rect></svg> <span class="svelte-ihemak">Box</span></button> <button title="Add Circle"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><circle cx="10" cy="10" r="8" fill="none" stroke="currentColor" stroke-width="2"></circle></svg> <span class="svelte-ihemak">Circle</span></button> <button title="Add Text"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><text x="10" y="15" font-size="14" fill="currentColor" text-anchor="middle" font-weight="bold">T</text></svg> <span class="svelte-ihemak">Text</span></button> <button title="Add Line"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="2" y1="10" x2="18" y2="10" stroke="currentColor" stroke-width="2"></line></svg> <span class="svelte-ihemak">Line</span></button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Actions</h3> <button class="action-btn svelte-ihemak" title="Delete (Del)">Delete</button> <button class="action-btn svelte-ihemak" title="Clear Canvas">Clear All</button></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">File</h3> <label>Name: <input type="text" placeholder="Untitled" class="filename-input svelte-ihemak"/></label> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Start a new design">New</button> <button class="action-btn svelte-ihemak" title="Save current design">Save</button></div> <!> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Export design as file">Export</button> <button class="action-btn svelte-ihemak" title="Import design from file">Import</button></div></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Zoom & View</h3> <div class="button-row svelte-ihemak"><button class="action-btn svelte-ihemak" title="Zoom In (Ctrl/Cmd + Scroll)">Zoom In</button> <button class="action-btn svelte-ihemak" title="Zoom Out (Ctrl/Cmd + Scroll)">Zoom Out</button></div> <button class="action-btn svelte-ihemak" title="Reset Zoom to 100%">Reset View</button> <p class="grid-hint svelte-ihemak"> <br/> Hold Ctrl/Cmd + Scroll to zoom<br/> Hold Space + Drag to pan</p></div> <div class="tool-section svelte-ihemak"><h3 class="svelte-ihemak">Grid</h3> <button title="Toggle grid visibility"><svg width="20" height="20" viewBox="0 0 20 20" class="svelte-ihemak"><line x1="5" y1="0" x2="5" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="10" y1="0" x2="10" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="15" y1="0" x2="15" y2="20" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="5" x2="20" y2="5" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="10" x2="20" y2="10" stroke="currentColor" stroke-width="1"></line><line x1="0" y1="15" x2="20" y2="15" stroke="currentColor" stroke-width="1"></line></svg> <span class="svelte-ihemak">Show Grid</span></button> <label>Grid Size: <input type="number" min="5" max="100" step="5" class="grid-size-input svelte-ihemak"/></label> <p class="grid-hint svelte-ihemak">Hold 'S' while dragging to snap to grid. Lines also snap to vertical/horizontal when close.</p></div></div></div> <div role="application" aria-label="Diagram canvas"><svg width="100%" height="100%" class="diagram-svg svelte-ihemak"><defs><marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="#000000"></polygon></marker><pattern id="grid" patternUnits="userSpaceOnUse"><path fill="none" stroke="#e0e0e0" stroke-width="0.5"></path></pattern></defs><!><g></g></svg> <div class="canvas-hint svelte-ihemak"><!></div></div> <!></div>`);function oo(e,n){Xi(n,!0);let r=V(yt([])),l=V(yt([])),i=V(null),a=V("select"),o=V(null),u=V(!1),c=V(!1),d=V(null),w=V(null),M=V(null),S=V(!1),D=V(yt([])),E=V("Untitled"),I=V(!1),z=V(20),B=V(!1),ve=V(yt([])),j=V(1),xe=V(0),se=V(0),F=V(!1),te=V(0),Fe=V(0),ut=V(!1);function yn(f,s){return{id:Date.now(),type:"box",x:f-60,y:s-25,width:120,height:50,text:"New Box",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function Jt(f,s){return{id:Date.now(),type:"circle",x:f-50,y:s-50,radius:50,text:"Circle",shadow:!0,dashed:!1,fontSize:12,bgColor:"#ffffff",textColor:"#000000"}}function tt(f,s){return{id:Date.now(),type:"text",x:f-50,y:s-10,text:"Text Label",fontSize:14}}function Pn(f,s,k,T){return{id:Date.now(),type:"line",x1:f,y1:s,x2:k||f+100,y2:T||s,hasCircle:!1,hasArrow:!1,label:""}}function Et(f,s){const k=t(w).getBoundingClientRect(),T=(f-k.left-t(xe))/t(j),_=(s-k.top-t(se))/t(j);return{x:T,y:_}}function dt(f,s,k){const T=t(w).getBoundingClientRect(),_=s-T.left,v=k-T.top,y=(_-t(xe))/t(j),x=(v-t(se))/t(j);p(j,Math.max(.1,Math.min(f,5)),!0),p(xe,_-y*t(j)),p(se,v-x*t(j))}function bn(){const f=t(w).getBoundingClientRect(),s=f.left+f.width/2,k=f.top+f.height/2;dt(t(j)*1.1,s,k)}function fr(){const f=t(w).getBoundingClientRect(),s=f.left+f.width/2,k=f.top+f.height/2;dt(t(j)/1.1,s,k)}function cr(){p(j,1),p(xe,0),p(se,0)}function In(f){if(f.ctrlKey||f.metaKey){f.preventDefault();const k=f.deltaY<0?1.05:1/1.05;dt(t(j)*k,f.clientX,f.clientY)}}function Xn(f){if(t(ut)){p(F,!0),p(te,f.clientX-t(xe)),p(Fe,f.clientY-t(se)),f.preventDefault();return}}function Hn(f){if(t(F))return;if(t(a)==="select"){p(i,null),p(l,[],!0),p(M,null),p(S,!1);return}const{x:s,y:k}=Et(f.clientX,f.clientY);t(a)==="box"?p(r,[...t(r),yn(s,k)],!0):t(a)==="circle"?p(r,[...t(r),Jt(s,k)],!0):t(a)==="text"?p(r,[...t(r),tt(s,k)],!0):t(a)==="line"&&p(r,[...t(r),Pn(s,k)],!0),p(a,"select")}function zt(f,s){f.stopPropagation(),f.ctrlKey||f.metaKey?(t(l).findIndex(T=>T.id===s.id)>=0?p(l,t(l).filter(T=>T.id!==s.id),!0):p(l,[...t(l),s],!0),p(i,t(l)[0]||null,!0)):t(l).find(T=>T.id===s.id)||(p(l,[s],!0),p(i,s,!0))}function Nt(f,s){f.stopPropagation(),f.preventDefault(),p(l,[s],!0),p(i,s,!0),s.type==="line"?(s.label===void 0&&(s.label=""),p(M,s,!0),p(S,!0),setTimeout(()=>{const k=document.getElementById(`edit-line-label-${s.id}`);k&&(k.focus(),s.label&&k.select())},50)):s.text!==void 0&&(p(M,s,!0),p(S,!1),setTimeout(()=>{const k=document.getElementById(`edit-${s.id}`);k&&(k.focus(),k.select())},50))}function We(f,s){return{x:Math.round(f/t(z))*t(z),y:Math.round(s/t(z))*t(z)}}function Bn(f,s,k,T){const _=Math.abs(k-f),v=Math.abs(T-s),y=t(z)*.5;return v<y&&v<_?{x1:f,y1:s,x2:k,y2:s}:_<y&&_<v?{x1:f,y1:s,x2:f,y2:T}:{x1:f,y1:s,x2:k,y2:T}}function ks(f,s,k,T,_,v){const y=_-k,x=v-T,m=y*y+x*x;if(m===0)return{x:k,y:T};let C=((f-k)*y+(s-T)*x)/m;return C=Math.max(0,Math.min(1,C)),{x:k+C*y,y:T+C*x}}function Br(f,s,k){for(const _ of t(r))if(_.id!==k){if(_.type==="box"){const v=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x,y:_.y+_.height},{x:_.x+_.width,y:_.y+_.height},{x:_.x+_.width/2,y:_.y},{x:_.x+_.width/2,y:_.y+_.height},{x:_.x,y:_.y+_.height/2},{x:_.x+_.width,y:_.y+_.height/2}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="circle"){const v=[{x:_.x+_.radius,y:_.y},{x:_.x+_.radius*2,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius*2},{x:_.x,y:_.y+_.radius},{x:_.x+_.radius,y:_.y+_.radius}];for(const y of v)if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}else if(_.type==="line"){const v=[{x:_.x1,y:_.y1},{x:_.x2,y:_.y2}];for(const m of v)if(Math.sqrt(Math.pow(f-m.x,2)+Math.pow(s-m.y,2))<10)return m;const y=ks(f,s,_.x1,_.y1,_.x2,_.y2);if(Math.sqrt(Math.pow(f-y.x,2)+Math.pow(s-y.y,2))<10)return y}}return null}function St(){p(M,null),p(S,!1)}function Fn(f,s){if(t(M)||t(S))return;f.stopPropagation(),!t(l).find(v=>v.id===s.id)&&!(f.ctrlKey||f.metaKey)&&p(l,[s],!0),p(i,s,!0),p(u,!0);const{x:k,y:T}=Et(f.clientX,f.clientY),_=t(l).map(v=>({element:v,startX:v.x||v.x1,startY:v.y||v.y1,startX2:v.x2,startY2:v.y2}));p(o,{x:k,y:T,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2,elementsData:_},!0)}function Lt(f,s,k){f.stopPropagation(),p(i,s,!0),p(c,!0),p(d,k,!0);const{x:T,y:_}=Et(f.clientX,f.clientY);p(o,{x:T,y:_,elementX:s.x||s.x1,elementY:s.y||s.y1,elementWidth:s.width,elementHeight:s.height,elementRadius:s.radius,elementX2:s.x2,elementY2:s.y2},!0)}function Es(f){if(t(F)){p(xe,f.clientX-t(te)),p(se,f.clientY-t(Fe));return}if(!t(u)&&!t(c)||!t(o)||!t(i))return;const{x:s,y:k}=Et(f.clientX,f.clientY),T=s-t(o).x,_=k-t(o).y;if(t(c)){if(t(i).type==="box"){if(t(d)==="se"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),m=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,m);t(i).width=C,t(i).height=C}else t(i).width=x,t(i).height=m}else if(t(d)==="sw"){let v=t(o).elementX+T,y=t(o).elementY+t(o).elementHeight+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),m=Math.max(30,y-t(o).elementY);if(f.shiftKey){const C=Math.max(x,m);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).width=x,t(i).height=m}else if(t(d)==="ne"){let v=t(o).elementX+t(o).elementWidth+T,y=t(o).elementY+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,v-t(o).elementX),m=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,m);t(i).width=C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).height=C}else t(i).width=x,t(i).y=t(o).elementY+t(o).elementHeight-m,t(i).height=m}else if(t(d)==="nw"){let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const C=We(v,y);v=C.x,y=C.y}const x=Math.max(50,t(o).elementX+t(o).elementWidth-v),m=Math.max(30,t(o).elementY+t(o).elementHeight-y);if(f.shiftKey){const C=Math.max(x,m);t(i).x=t(o).elementX+t(o).elementWidth-C,t(i).y=t(o).elementY+t(o).elementHeight-C,t(i).width=C,t(i).height=C}else t(i).x=t(o).elementX+t(o).elementWidth-x,t(i).y=t(o).elementY+t(o).elementHeight-m,t(i).width=x,t(i).height=m}}else if(t(i).type==="circle"){const v=t(o).elementX+t(o).elementRadius,y=t(o).elementY+t(o).elementRadius,x=s-v,m=k-y,C=Math.sqrt(x*x+m*m);let q=Math.max(20,C);if(t(B)){const re=We(s,k),H=re.x-v,Z=re.y-y,he=Math.sqrt(H*H+Z*Z);q=Math.max(20,he)}t(i).radius=q,t(i).x=v-q,t(i).y=y-q}else if(t(i).type==="line"){if(t(d)==="start"){const v=Br(s,k,t(i).id);let y=v?v.x:s,x=v?v.y:k;if(t(B)){const m=We(y,x);y=m.x,x=m.y}if(f.shiftKey){const m=Math.atan2(x-t(i).y2,y-t(i).x2),C=Math.round(m/(Math.PI/12))*(Math.PI/12),q=Math.sqrt(Math.pow(y-t(i).x2,2)+Math.pow(x-t(i).y2,2));t(i).x1=t(i).x2+q*Math.cos(C),t(i).y1=t(i).y2+q*Math.sin(C)}else if(t(i).x1=y,t(i).y1=x,t(B)){const m=Bn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=m.x1,t(i).y1=m.y1,t(i).x2=m.x2,t(i).y2=m.y2}}else if(t(d)==="end"){const v=Br(s,k,t(i).id);let y=v?v.x:s,x=v?v.y:k;if(v&&t(i).hasCircle){const C=Math.atan2(v.y-t(i).y1,v.x-t(i).x1);y=v.x-4*Math.cos(C),x=v.y-4*Math.sin(C)}if(t(B)){const m=We(y,x);y=m.x,x=m.y}if(f.shiftKey){const m=Math.atan2(x-t(i).y1,y-t(i).x1),C=Math.round(m/(Math.PI/12))*(Math.PI/12),q=Math.sqrt(Math.pow(y-t(i).x1,2)+Math.pow(x-t(i).y1,2));t(i).x2=t(i).x1+q*Math.cos(C),t(i).y2=t(i).y1+q*Math.sin(C)}else if(t(i).x2=y,t(i).y2=x,t(B)){const m=Bn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=m.x1,t(i).y1=m.y1,t(i).x2=m.x2,t(i).y2=m.y2}}}}else if(t(u))if(t(o).elementsData&&t(o).elementsData.length>=1)for(const v of t(o).elementsData){let y=v.startX+T,x=v.startY+_;if(t(B)){const m=We(y,x);y=m.x,x=m.y}if(v.element.type==="line"){const m=v.startX2-v.startX,C=v.startY2-v.startY;if(t(B)){const q=We(y+m,x+C);v.element.x1=y,v.element.y1=x,v.element.x2=q.x,v.element.y2=q.y;const re=Bn(v.element.x1,v.element.y1,v.element.x2,v.element.y2);v.element.x1=re.x1,v.element.y1=re.y1,v.element.x2=re.x2,v.element.y2=re.y2}else v.element.x1=y,v.element.y1=x,v.element.x2=y+m,v.element.y2=x+C}else v.element.x=y,v.element.y=x}else{let v=t(o).elementX+T,y=t(o).elementY+_;if(t(B)){const x=We(v,y);v=x.x,y=x.y}if(t(i).type==="line"){const x=t(o).elementX2-t(o).elementX,m=t(o).elementY2-t(o).elementY;if(t(B)){const C=We(v,y),q=We(v+x,y+m);t(i).x1=C.x,t(i).y1=C.y,t(i).x2=q.x,t(i).y2=q.y;const re=Bn(t(i).x1,t(i).y1,t(i).x2,t(i).y2);t(i).x1=re.x1,t(i).y1=re.y1,t(i).x2=re.x2,t(i).y2=re.y2}else t(i).x1=v,t(i).y1=y,t(i).x2=v+x,t(i).y2=y+m}else t(i).x=v,t(i).y=y}}function Ss(){p(u,!1),p(c,!1),p(d,null),p(o,null),p(F,!1)}function Fr(){if(t(l).length>0){const f=t(l).map(s=>s.id);p(r,t(r).filter(s=>!f.includes(s.id)),!0),p(l,[],!0),p(i,null)}}function Cs(){p(ve,t(l).map(f=>({...f})),!0)}function Ms(){const s=[],k=Date.now(),T=t(ve).map((_,v)=>{const y=k+v+Math.random()*1e3;s.push(y);const x={..._,id:y};return x.type==="line"?(x.x1+=20,x.y1+=20,x.x2+=20,x.y2+=20):(x.x+=20,x.y+=20),x});p(r,[...t(r),...T],!0),p(l,t(r).filter(_=>s.includes(_.id)),!0),p(i,t(l)[0]||null,!0)}function Wr(f){if((f.key==="s"||f.key==="S")&&p(B,!0),f.key===" "&&!t(M)&&!t(S)&&(p(ut,!0),f.preventDefault()),!(t(M)||t(S))){if((f.ctrlKey||f.metaKey)&&f.key==="c"&&t(l).length>0){f.preventDefault(),Cs();return}if((f.ctrlKey||f.metaKey)&&f.key==="v"&&t(ve).length>0){f.preventDefault(),Ms();return}if((f.key==="Delete"||f.key==="Backspace")&&t(l).length>0){f.preventDefault(),Fr();return}if(t(l).length>0){f.preventDefault();for(const s of t(l))f.key==="ArrowUp"?s.type==="line"?(s.y1-=1,s.y2-=1):s.y-=1:f.key==="ArrowDown"?s.type==="line"?(s.y1+=1,s.y2+=1):s.y+=1:f.key==="ArrowLeft"?s.type==="line"?(s.x1-=1,s.x2-=1):s.x-=1:f.key==="ArrowRight"&&(s.type==="line"?(s.x1+=1,s.x2+=1):s.x+=1)}}}function jr(f){(f.key==="s"||f.key==="S")&&p(B,!1),f.key===" "&&(p(ut,!1),p(F,!1))}function Ds(){const f=prompt("Enter a name for this design:",t(E));if(!f)return;p(E,f,!0);const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]={name:f,elements:t(r),savedAt:new Date().toISOString()},localStorage.setItem("savedDesigns",JSON.stringify(s)),ur(),alert(`Design "${f}" saved!`)}function ur(){const f=JSON.parse(localStorage.getItem("savedDesigns")||"{}");p(D,Object.values(f).sort((s,k)=>new Date(k.savedAt)-new Date(s.savedAt)),!0)}function As(f){const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");s[f]&&(p(r,s[f].elements,!0),p(E,f,!0),p(i,null),alert(`Design "${f}" loaded!`))}function Ts(f){if(!confirm(`Delete design "${f}"?`))return;const s=JSON.parse(localStorage.getItem("savedDesigns")||"{}");delete s[f],localStorage.setItem("savedDesigns",JSON.stringify(s)),ur(),t(E)===f&&(p(E,"Untitled"),p(r,[],!0))}function Os(){t(r).length>0&&!confirm("Start a new design? Unsaved changes will be lost.")||(p(r,[],!0),p(E,"Untitled"),p(i,null))}function zs(){const f=JSON.stringify(t(r),null,2),s=new Blob([f],{type:"application/json"}),k=URL.createObjectURL(s),T=document.createElement("a");T.href=k;const _=(projectName.trim()||"Untitled")+".json";T.download=_,T.click(),URL.revokeObjectURL(k)}function Ns(){const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=s=>{const k=s.target.files[0];if(k){const T=new FileReader;T.onload=_=>{try{p(r,JSON.parse(_.target.result),!0),p(i,null),alert("Diagram imported!")}catch(v){alert("Error importing diagram: "+v.message)}},T.readAsText(k)}},f.click()}Ma(()=>(window.addEventListener("keydown",Wr),window.addEventListener("keyup",jr),ur(),()=>{window.removeEventListener("keydown",Wr),window.removeEventListener("keyup",jr)}));var qr=ao();Pt("mousemove",Gn,Es),Pt("mouseup",Gn,Ss);var Ur=A(qr),Ls=A(Ur),Kr=A(Ls),Rs=g(A(Kr),2),dr=A(Rs);let Vr;dr.__click=()=>p(a,"select");var vr=g(dr,2);let Zr;vr.__click=()=>p(a,"box");var hr=g(vr,2);let Gr;hr.__click=()=>p(a,"circle");var _r=g(hr,2);let Jr;_r.__click=()=>p(a,"text");var $r=g(_r,2);let Qr;$r.__click=()=>p(a,"line");var ei=g(Kr,2),pr=g(A(ei),2);pr.__click=Fr;var Ys=g(pr,2);Ys.__click=()=>p(r,[],!0);var ti=g(ei,2),ni=g(A(ti),2),Ps=g(A(ni)),ri=g(ni,2),ii=A(ri);ii.__click=Os;var Is=g(ii,2);Is.__click=Ds;var si=g(ri,2);{var Xs=f=>{var s=Oa(),k=Oe(s),T=g(A(k));T.__change=x=>As(x.target.value);var _=A(T);_.value=_.__value="";var v=g(_);tn(v,17,()=>t(D),mn,(x,m)=>{var C=Ta(),q=A(C),re={};ie(()=>{Qt(q,t(m).name),re!==(re=t(m).name)&&(C.value=(C.__value=t(m).name)??"")}),N(x,C)});var y=g(k,2);y.__click=()=>{const x=document.querySelector(".design-select");x.value&&Ts(x.value)},N(f,s)};ee(si,f=>{t(D).length>0&&f(Xs)})}var Hs=g(si,2),li=A(Hs);li.__click=zs;var Bs=g(li,2);Bs.__click=Ns;var ai=g(ti,2),oi=g(A(ai),2),fi=A(oi);fi.__click=bn;var Fs=g(fi,2);Fs.__click=fr;var ci=g(oi,2);ci.__click=cr;var Ws=g(ci,2),js=A(Ws),qs=g(ai,2),gr=g(A(qs),2);let ui;gr.__click=()=>p(I,!t(I));var Us=g(gr,2),Ks=g(A(Us)),Rt=g(Ur,2);let di;Rt.__click=Hn,Rt.__mousedown=Xn;var vi=A(Rt),hi=A(vi),yr=g(A(hi)),Vs=A(yr),_i=g(hi);{var Zs=f=>{var s=za();N(f,s)};ee(_i,f=>{t(I)&&f(Zs)})}var pi=g(_i);tn(pi,21,()=>t(r),f=>f.id,(f,s,k)=>{var T=ht(),_=Oe(T);{var v=x=>{var m=Ia();let C;m.__mousedown=L=>Fn(L,t(s)),m.__click=L=>zt(L,t(s)),m.__dblclick=L=>Nt(L,t(s));var q=A(m);{var re=L=>{var X=Na();ie(()=>{b(X,"x",t(s).x+3),b(X,"y",t(s).y+3),b(X,"width",t(s).width),b(X,"height",t(s).height)}),N(L,X)};ee(q,L=>{t(s).shadow&&L(re)})}var H=g(q),Z=g(H);{var he=L=>{var X=La(),Y=A(X);Y.__keydown=le=>{le.key==="Escape"&&St(),le.stopPropagation()},ie(()=>{b(X,"x",t(s).x),b(X,"y",t(s).y),b(X,"width",t(s).width),b(X,"height",t(s).height),b(Y,"id",`edit-${t(s).id}`)}),Pt("blur",Y,St),Ie(Y,()=>t(s).text,le=>t(s).text=le),N(L,X)},_e=L=>{const X=$t(()=>(t(s).text||"").split(`
`));var Y=Ya();tn(Y,21,()=>t(X),mn,(le,G,P)=>{var O=Ra(),$=A(O);ie(()=>{b(O,"x",t(s).x+t(s).width/2),b(O,"dy",P===0?0:t(s).fontSize||12),Qt($,t(G))}),N(le,O)}),ie(()=>{b(Y,"x",t(s).x+t(s).width/2),b(Y,"y",t(s).y+t(s).height/2-(t(X).length-1)*(t(s).fontSize||12)*.5),b(Y,"font-size",t(s).fontSize||12),b(Y,"fill",t(s).textColor||"#000000")}),N(L,Y)};ee(Z,L=>{var X;((X=t(M))==null?void 0:X.id)===t(s).id?L(he):L(_e,!1)})}var me=g(Z);{var oe=L=>{var X=Pa(),Y=Oe(X);Y.__mousedown=O=>Lt(O,t(s),"nw");var le=g(Y);le.__mousedown=O=>Lt(O,t(s),"ne");var G=g(le);G.__mousedown=O=>Lt(O,t(s),"sw");var P=g(G);P.__mousedown=O=>Lt(O,t(s),"se"),ie(()=>{b(Y,"cx",t(s).x),b(Y,"cy",t(s).y),b(le,"cx",t(s).x+t(s).width),b(le,"cy",t(s).y),b(G,"cx",t(s).x),b(G,"cy",t(s).y+t(s).height),b(P,"cx",t(s).x+t(s).width),b(P,"cy",t(s).y+t(s).height)}),N(L,X)};ee(me,L=>{var X;((X=t(i))==null?void 0:X.id)===t(s).id&&L(oe)})}ie(L=>{C=ce(m,0,"element box-element svelte-ihemak",null,C,L),b(H,"x",t(s).x),b(H,"y",t(s).y),b(H,"width",t(s).width),b(H,"height",t(s).height),b(H,"fill",t(s).bgColor||"#ffffff"),b(H,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(L=>L.id===t(s).id)})]),N(x,m)},y=x=>{var m=ht(),C=Oe(m);{var q=H=>{var Z=ja();let he;Z.__mousedown=P=>Fn(P,t(s)),Z.__click=P=>zt(P,t(s)),Z.__dblclick=P=>Nt(P,t(s));var _e=A(Z);{var me=P=>{var O=Xa();ie(()=>{b(O,"cx",t(s).x+t(s).radius+3),b(O,"cy",t(s).y+t(s).radius+3),b(O,"r",t(s).radius)}),N(P,O)};ee(_e,P=>{t(s).shadow&&P(me)})}var oe=g(_e),L=g(oe);{var X=P=>{var O=Ha(),$=A(O);$.__keydown=Se=>{Se.key==="Escape"&&St(),Se.stopPropagation()},ie(()=>{b(O,"x",t(s).x),b(O,"y",t(s).y),b(O,"width",t(s).radius*2),b(O,"height",t(s).radius*2),b($,"id",`edit-${t(s).id}`)}),Pt("blur",$,St),Ie($,()=>t(s).text,Se=>t(s).text=Se),N(P,O)},Y=P=>{const O=$t(()=>(t(s).text||"").split(`
`));var $=Fa();tn($,21,()=>t(O),mn,(Se,ae,ye)=>{var fe=Ba(),we=A(fe);ie(()=>{b(fe,"x",t(s).x+t(s).radius),b(fe,"dy",ye===0?0:t(s).fontSize||12),Qt(we,t(ae))}),N(Se,fe)}),ie(()=>{b($,"x",t(s).x+t(s).radius),b($,"y",t(s).y+t(s).radius-(t(O).length-1)*(t(s).fontSize||12)*.5),b($,"font-size",t(s).fontSize||12),b($,"fill",t(s).textColor||"#000000")}),N(P,$)};ee(L,P=>{var O;((O=t(M))==null?void 0:O.id)===t(s).id?P(X):P(Y,!1)})}var le=g(L);{var G=P=>{var O=Wa();O.__mousedown=$=>Lt($,t(s),"e"),ie(()=>{b(O,"cx",t(s).x+t(s).radius*2),b(O,"cy",t(s).y+t(s).radius)}),N(P,O)};ee(le,P=>{var O;((O=t(i))==null?void 0:O.id)===t(s).id&&P(G)})}ie(P=>{he=ce(Z,0,"element circle-element svelte-ihemak",null,he,P),b(oe,"cx",t(s).x+t(s).radius),b(oe,"cy",t(s).y+t(s).radius),b(oe,"r",t(s).radius),b(oe,"fill",t(s).bgColor||"#ffffff"),b(oe,"stroke-dasharray",t(s).dashed?"5,5":"none")},[()=>({selected:t(l).some(P=>P.id===t(s).id)})]),N(H,Z)},re=H=>{var Z=ht(),he=Oe(Z);{var _e=oe=>{const L=$t(()=>(t(s).x1+t(s).x2)/2),X=$t(()=>(t(s).y1+t(s).y2)/2);var Y=Ga();let le;Y.__mousedown=U=>Fn(U,t(s)),Y.__click=U=>zt(U,t(s)),Y.__dblclick=U=>Nt(U,t(s));var G=A(Y),P=g(G);{var O=U=>{var Q=qa();ie(()=>{b(Q,"cx",t(s).x2),b(Q,"cy",t(s).y2)}),N(U,Q)};ee(P,U=>{t(s).hasCircle&&U(O)})}var $=g(P),Se=g($);{var ae=U=>{var Q=Ua(),de=A(Q);de.__keydown=ke=>{ke.key==="Escape"&&St(),ke.stopPropagation()},ie(()=>{b(Q,"x",t(L)-100),b(Q,"y",t(X)-60),b(de,"id",`edit-line-label-${t(s).id}`)}),Pt("blur",de,St),Ie(de,()=>t(s).label,ke=>t(s).label=ke),N(U,Q)},ye=U=>{var Q=ht(),de=Oe(Q);{var ke=je=>{const Yt=$t(()=>(t(s).label||"").split(`
`));var vt=Va();tn(vt,21,()=>t(Yt),mn,(Ze,br,Ge)=>{var Wn=Ka(),nl=A(Wn);ie(()=>{b(Wn,"x",t(L)),b(Wn,"dy",Ge===0?0:t(s).labelSize||11),Qt(nl,t(br))}),N(Ze,Wn)}),ie(()=>{b(vt,"x",t(L)),b(vt,"y",t(X)-4-(t(Yt).length-1)*(t(s).labelSize||11)*.5),b(vt,"font-size",t(s).labelSize||11)}),N(je,vt)};ee(de,je=>{t(s).label&&t(s).label!==""&&je(ke)},!0)}N(U,Q)};ee(Se,U=>{var Q;((Q=t(M))==null?void 0:Q.id)===t(s).id&&t(S)?U(ae):U(ye,!1)})}var fe=g(Se);{var we=U=>{var Q=Za(),de=Oe(Q);de.__mousedown=je=>Lt(je,t(s),"start");var ke=g(de);ke.__mousedown=je=>Lt(je,t(s),"end"),ie(()=>{b(de,"cx",t(s).x1),b(de,"cy",t(s).y1),b(ke,"cx",t(s).x2),b(ke,"cy",t(s).y2)}),N(U,Q)};ee(fe,U=>{var Q;((Q=t(i))==null?void 0:Q.id)===t(s).id&&U(we)})}ie(U=>{le=ce(Y,0,"element line-element svelte-ihemak",null,le,U),b(G,"x1",t(s).x1),b(G,"y1",t(s).y1),b(G,"x2",t(s).x2),b(G,"y2",t(s).y2),b(G,"marker-end",t(s).hasArrow?"url(#arrowhead)":""),b($,"x1",t(s).x1),b($,"y1",t(s).y1),b($,"x2",t(s).x2),b($,"y2",t(s).y2)},[()=>({selected:t(l).some(U=>U.id===t(s).id)})]),N(oe,Y)},me=oe=>{var L=ht(),X=Oe(L);{var Y=le=>{var G=eo();let P;G.__mousedown=ae=>Fn(ae,t(s)),G.__click=ae=>zt(ae,t(s)),G.__dblclick=ae=>Nt(ae,t(s));var O=A(G);{var $=ae=>{var ye=Ja(),fe=A(ye);fe.__keydown=we=>{we.key==="Escape"&&St(),we.stopPropagation()},ie(()=>{b(ye,"x",t(s).x),b(ye,"y",t(s).y-(t(s).fontSize||14)),b(fe,"id",`edit-${t(s).id}`),ma(fe,`width: 100%; height: 100%; font-family: ui-monospace, 'Courier New', monospace; font-size: ${(t(s).fontSize||14)??""}px; border: 2px solid #ff5722; background: white; padding: 4px; resize: none; overflow: auto;`)}),Pt("blur",fe,St),Ie(fe,()=>t(s).text,we=>t(s).text=we),N(ae,ye)},Se=ae=>{const ye=$t(()=>(t(s).text||"").split(`
`));var fe=Qa();tn(fe,21,()=>t(ye),mn,(we,U,Q)=>{var de=$a(),ke=A(de);ie(()=>{b(de,"x",t(s).x),b(de,"dy",Q===0?0:t(s).fontSize||14),Qt(ke,t(U))}),N(we,de)}),ie(()=>{b(fe,"x",t(s).x),b(fe,"y",t(s).y),b(fe,"font-size",t(s).fontSize||14)}),N(ae,fe)};ee(O,ae=>{var ye;((ye=t(M))==null?void 0:ye.id)===t(s).id?ae($):ae(Se,!1)})}ie(ae=>P=ce(G,0,"element text-element svelte-ihemak",null,P,ae),[()=>({selected:t(l).some(ae=>ae.id===t(s).id)})]),N(le,G)};ee(X,le=>{t(s).type==="text"&&le(Y)},!0)}N(oe,L)};ee(he,oe=>{t(s).type==="line"?oe(_e):oe(me,!1)},!0)}N(H,Z)};ee(C,H=>{t(s).type==="circle"?H(q):H(re,!1)},!0)}N(x,m)};ee(_,x=>{t(s).type==="box"?x(v):x(y,!1)})}N(f,T)});var Gs=g(vi,2),Js=A(Gs);{var $s=f=>{var s=xn("Click: select â€¢ Ctrl/Cmd+Click: multi-select â€¢ Drag: move â€¢ Arrow keys: nudge 1px â€¢ Ctrl/Cmd+C: copy â€¢ Ctrl/Cmd+V: paste â€¢ Hold S: snap to grid (move/resize) â€¢ Hold Shift: boxâ†’square / lineâ†’angle-snap â€¢ Double-click: edit text");N(f,s)},Qs=f=>{var s=ht(),k=Oe(s);{var T=v=>{var y=xn("Click anywhere to add a box â€¢ Hold Shift while resizing to force square â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");N(v,y)},_=v=>{var y=ht(),x=Oe(y);{var m=q=>{var re=xn("Click anywhere to add a circle â€¢ Hold S while dragging/resizing to snap to grid â€¢ When editing: Enter creates line break");N(q,re)},C=q=>{var re=ht(),H=Oe(re);{var Z=_e=>{var me=xn("Click anywhere to add text â€¢ Hold S while dragging to snap to grid â€¢ When editing: Enter creates line break");N(_e,me)},he=_e=>{var me=ht(),oe=Oe(me);{var L=X=>{var Y=xn("Click anywhere to add a line (use Properties panel to add circle/arrow) â€¢ Hold S while dragging endpoints to snap to grid â€¢ When editing label: Enter creates line break");N(X,Y)};ee(oe,X=>{t(a)==="line"&&X(L)},!0)}N(_e,me)};ee(H,_e=>{t(a)==="text"?_e(Z):_e(he,!1)},!0)}N(q,re)};ee(x,q=>{t(a)==="circle"?q(m):q(C,!1)},!0)}N(v,y)};ee(k,v=>{t(a)==="box"?v(T):v(_,!1)},!0)}N(f,s)};ee(Js,f=>{t(a)==="select"?f($s):f(Qs,!1)})}Ca(Rt,f=>p(w,f),()=>t(w));var el=g(Rt,2);{var tl=f=>{var s=lo(),k=g(A(s),2);{var T=H=>{var Z=to();N(H,Z)};ee(k,H=>{t(i).text!==void 0&&H(T)})}var _=g(k,2);{var v=H=>{var Z=no(),he=Oe(Z),_e=g(A(he)),me=g(he,2),oe=g(A(me)),L=g(me,2),X=g(A(L)),Y=g(L,2),le=g(A(Y)),G=A(le);let P;G.__click=()=>t(i).bgColor="#000000";var O=g(G,2);let $;O.__click=()=>t(i).bgColor="#ffffff";var Se=g(O,2);let ae;Se.__click=()=>t(i).bgColor="#ff5722";var ye=g(Y,2),fe=g(A(ye)),we=A(fe);let U;we.__click=()=>t(i).textColor="#000000";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ffffff";var ke=g(Q,2);let je;ke.__click=()=>t(i).textColor="#ff5722";var Yt=g(ye,2),vt=A(Yt),Ze=g(Yt,2),br=A(Ze);ie(()=>{P=ce(G,1,"color-btn svelte-ihemak",null,P,{active:t(i).bgColor==="#000000"}),$=ce(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ffffff"}),ae=ce(Se,1,"color-btn svelte-ihemak",null,ae,{active:t(i).bgColor==="#ff5722"}),U=ce(we,1,"color-btn svelte-ihemak",null,U,{active:t(i).textColor==="#000000"}),de=ce(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ffffff"}),je=ce(ke,1,"color-btn svelte-ihemak",null,je,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).width,Ge=>t(i).width=Ge),Ie(oe,()=>t(i).height,Ge=>t(i).height=Ge),Ie(X,()=>t(i).fontSize,Ge=>t(i).fontSize=Ge),nn(vt,()=>t(i).shadow,Ge=>t(i).shadow=Ge),nn(br,()=>t(i).dashed,Ge=>t(i).dashed=Ge),N(H,Z)};ee(_,H=>{t(i).type==="box"&&H(v)})}var y=g(_,2);{var x=H=>{var Z=ro(),he=Oe(Z),_e=g(A(he)),me=g(he,2),oe=g(A(me)),L=g(me,2),X=g(A(L)),Y=A(X);let le;Y.__click=()=>t(i).bgColor="#000000";var G=g(Y,2);let P;G.__click=()=>t(i).bgColor="#ffffff";var O=g(G,2);let $;O.__click=()=>t(i).bgColor="#ff5722";var Se=g(L,2),ae=g(A(Se)),ye=A(ae);let fe;ye.__click=()=>t(i).textColor="#000000";var we=g(ye,2);let U;we.__click=()=>t(i).textColor="#ffffff";var Q=g(we,2);let de;Q.__click=()=>t(i).textColor="#ff5722";var ke=g(Se,2),je=A(ke),Yt=g(ke,2),vt=A(Yt);ie(()=>{le=ce(Y,1,"color-btn svelte-ihemak",null,le,{active:t(i).bgColor==="#000000"}),P=ce(G,1,"color-btn svelte-ihemak",null,P,{active:t(i).bgColor==="#ffffff"}),$=ce(O,1,"color-btn svelte-ihemak",null,$,{active:t(i).bgColor==="#ff5722"}),fe=ce(ye,1,"color-btn svelte-ihemak",null,fe,{active:t(i).textColor==="#000000"}),U=ce(we,1,"color-btn svelte-ihemak",null,U,{active:t(i).textColor==="#ffffff"}),de=ce(Q,1,"color-btn svelte-ihemak",null,de,{active:t(i).textColor==="#ff5722"})}),Ie(_e,()=>t(i).radius,Ze=>t(i).radius=Ze),Ie(oe,()=>t(i).fontSize,Ze=>t(i).fontSize=Ze),nn(je,()=>t(i).shadow,Ze=>t(i).shadow=Ze),nn(vt,()=>t(i).dashed,Ze=>t(i).dashed=Ze),N(H,Z)};ee(y,H=>{t(i).type==="circle"&&H(x)})}var m=g(y,2);{var C=H=>{var Z=io(),he=g(A(Z));Ie(he,()=>t(i).fontSize,_e=>t(i).fontSize=_e),N(H,Z)};ee(m,H=>{t(i).type==="text"&&H(C)})}var q=g(m,2);{var re=H=>{var Z=so(),he=g(Oe(Z),2),_e=g(A(he)),me=g(he,2),oe=A(me),L=g(me,2),X=A(L);Ie(_e,()=>t(i).labelSize,Y=>t(i).labelSize=Y),nn(oe,()=>t(i).hasCircle,Y=>t(i).hasCircle=Y),nn(X,()=>t(i).hasArrow,Y=>t(i).hasArrow=Y),N(H,Z)};ee(q,H=>{t(i).type==="line"&&H(re)})}N(f,s)};ee(el,f=>{t(i)&&f(tl)})}ie(f=>{Vr=ce(dr,1,"tool-btn svelte-ihemak",null,Vr,{active:t(a)==="select"}),Zr=ce(vr,1,"tool-btn svelte-ihemak",null,Zr,{active:t(a)==="box"}),Gr=ce(hr,1,"tool-btn svelte-ihemak",null,Gr,{active:t(a)==="circle"}),Jr=ce(_r,1,"tool-btn svelte-ihemak",null,Jr,{active:t(a)==="text"}),Qr=ce($r,1,"tool-btn svelte-ihemak",null,Qr,{active:t(a)==="line"}),pr.disabled=!t(i),Qt(js,`Zoom: ${f??""}%`),ui=ce(gr,1,"tool-btn svelte-ihemak",null,ui,{active:t(I)}),di=ce(Rt,1,"canvas svelte-ihemak",null,di,{"space-pressed":t(ut)&&!t(F),panning:t(F)}),b(yr,"width",t(z)),b(yr,"height",t(z)),b(Vs,"d",`M ${t(z)??""} 0 L 0 0 0 ${t(z)??""}`),b(pi,"transform",`translate(${t(xe)??""}, ${t(se)??""}) scale(${t(j)??""})`)},[()=>Math.round(t(j)*100)]),Ie(Ps,()=>t(E),f=>p(E,f)),Ie(Ks,()=>t(z),f=>p(z,f)),Pt("wheel",Rt,In),N(e,qr),Hi()}ua(["click","change","mousedown","dblclick","keydown"]);function fo(e){oo(e,{})}va(fo,{target:document.getElementById("app")});
